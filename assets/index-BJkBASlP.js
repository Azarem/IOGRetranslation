(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function Gy(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Py(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var n=l.default;if(typeof n=="function"){var a=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(l).forEach(function(r){var o=Object.getOwnPropertyDescriptor(l,r);Object.defineProperty(a,r,o.get?o:{enumerable:!0,get:function(){return l[r]}})}),a}var ju={exports:{}},ki={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Yy(){if(sm)return ki;sm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:l,type:r,key:h,ref:o!==void 0?o:null,props:c}}return ki.Fragment=n,ki.jsx=a,ki.jsxs=a,ki}var am;function Ky(){return am||(am=1,ju.exports=Yy()),ju.exports}var A=Ky(),Du={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function Vy(){if(im)return re;im=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,B={};function U(S,H,P){this.props=S,this.context=H,this.refs=B,this.updater=P||E}U.prototype.isReactComponent={},U.prototype.setState=function(S,H){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,H,"setState")},U.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function $(){}$.prototype=U.prototype;function I(S,H,P){this.props=S,this.context=H,this.refs=B,this.updater=P||E}var q=I.prototype=new $;q.constructor=I,N(q,U.prototype),q.isPureReactComponent=!0;var Y=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function F(S,H,P,K,W,ge){return P=ge.ref,{$$typeof:l,type:S,key:H,ref:P!==void 0?P:null,props:ge}}function oe(S,H){return F(S.type,H,void 0,void 0,void 0,S.props)}function ve(S){return typeof S=="object"&&S!==null&&S.$$typeof===l}function ut(S){var H={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(P){return H[P]})}var me=/\/+/g;function ie(S,H){return typeof S=="object"&&S!==null&&S.key!=null?ut(""+S.key):H.toString(36)}function It(){}function sn(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(It,It):(S.status="pending",S.then(function(H){S.status==="pending"&&(S.status="fulfilled",S.value=H)},function(H){S.status==="pending"&&(S.status="rejected",S.reason=H)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function Me(S,H,P,K,W){var ge=typeof S;(ge==="undefined"||ge==="boolean")&&(S=null);var se=!1;if(S===null)se=!0;else switch(ge){case"bigint":case"string":case"number":se=!0;break;case"object":switch(S.$$typeof){case l:case n:se=!0;break;case y:return se=S._init,Me(se(S._payload),H,P,K,W)}}if(se)return W=W(S),se=K===""?"."+ie(S,0):K,Y(W)?(P="",se!=null&&(P=se.replace(me,"$&/")+"/"),Me(W,H,P,"",function(wn){return wn})):W!=null&&(ve(W)&&(W=oe(W,P+(W.key==null||S&&S.key===W.key?"":(""+W.key).replace(me,"$&/")+"/")+se)),H.push(W)),1;se=0;var vt=K===""?".":K+":";if(Y(S))for(var je=0;je<S.length;je++)K=S[je],ge=vt+ie(K,je),se+=Me(K,H,P,ge,W);else if(je=_(S),typeof je=="function")for(S=je.call(S),je=0;!(K=S.next()).done;)K=K.value,ge=vt+ie(K,je++),se+=Me(K,H,P,ge,W);else if(ge==="object"){if(typeof S.then=="function")return Me(sn(S),H,P,K,W);throw H=String(S),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return se}function T(S,H,P){if(S==null)return S;var K=[],W=0;return Me(S,K,"","",function(ge){return H.call(P,ge,W++)}),K}function D(S){if(S._status===-1){var H=S._result;H=H(),H.then(function(P){(S._status===0||S._status===-1)&&(S._status=1,S._result=P)},function(P){(S._status===0||S._status===-1)&&(S._status=2,S._result=P)}),S._status===-1&&(S._status=0,S._result=H)}if(S._status===1)return S._result.default;throw S._result}var X=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function ue(){}return re.Children={map:T,forEach:function(S,H,P){T(S,function(){H.apply(this,arguments)},P)},count:function(S){var H=0;return T(S,function(){H++}),H},toArray:function(S){return T(S,function(H){return H})||[]},only:function(S){if(!ve(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},re.Component=U,re.Fragment=a,re.Profiler=o,re.PureComponent=I,re.StrictMode=r,re.Suspense=p,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,re.__COMPILER_RUNTIME={__proto__:null,c:function(S){return G.H.useMemoCache(S)}},re.cache=function(S){return function(){return S.apply(null,arguments)}},re.cloneElement=function(S,H,P){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var K=N({},S.props),W=S.key,ge=void 0;if(H!=null)for(se in H.ref!==void 0&&(ge=void 0),H.key!==void 0&&(W=""+H.key),H)!V.call(H,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&H.ref===void 0||(K[se]=H[se]);var se=arguments.length-2;if(se===1)K.children=P;else if(1<se){for(var vt=Array(se),je=0;je<se;je++)vt[je]=arguments[je+2];K.children=vt}return F(S.type,W,void 0,void 0,ge,K)},re.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},re.createElement=function(S,H,P){var K,W={},ge=null;if(H!=null)for(K in H.key!==void 0&&(ge=""+H.key),H)V.call(H,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(W[K]=H[K]);var se=arguments.length-2;if(se===1)W.children=P;else if(1<se){for(var vt=Array(se),je=0;je<se;je++)vt[je]=arguments[je+2];W.children=vt}if(S&&S.defaultProps)for(K in se=S.defaultProps,se)W[K]===void 0&&(W[K]=se[K]);return F(S,ge,void 0,void 0,null,W)},re.createRef=function(){return{current:null}},re.forwardRef=function(S){return{$$typeof:d,render:S}},re.isValidElement=ve,re.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:D}},re.memo=function(S,H){return{$$typeof:m,type:S,compare:H===void 0?null:H}},re.startTransition=function(S){var H=G.T,P={};G.T=P;try{var K=S(),W=G.S;W!==null&&W(P,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ue,X)}catch(ge){X(ge)}finally{G.T=H}},re.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},re.use=function(S){return G.H.use(S)},re.useActionState=function(S,H,P){return G.H.useActionState(S,H,P)},re.useCallback=function(S,H){return G.H.useCallback(S,H)},re.useContext=function(S){return G.H.useContext(S)},re.useDebugValue=function(){},re.useDeferredValue=function(S,H){return G.H.useDeferredValue(S,H)},re.useEffect=function(S,H,P){var K=G.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(S,H)},re.useId=function(){return G.H.useId()},re.useImperativeHandle=function(S,H,P){return G.H.useImperativeHandle(S,H,P)},re.useInsertionEffect=function(S,H){return G.H.useInsertionEffect(S,H)},re.useLayoutEffect=function(S,H){return G.H.useLayoutEffect(S,H)},re.useMemo=function(S,H){return G.H.useMemo(S,H)},re.useOptimistic=function(S,H){return G.H.useOptimistic(S,H)},re.useReducer=function(S,H,P){return G.H.useReducer(S,H,P)},re.useRef=function(S){return G.H.useRef(S)},re.useState=function(S){return G.H.useState(S)},re.useSyncExternalStore=function(S,H,P){return G.H.useSyncExternalStore(S,H,P)},re.useTransition=function(){return G.H.useTransition()},re.version="19.1.1",re}var rm;function ic(){return rm||(rm=1,Du.exports=Vy()),Du.exports}var Se=ic(),Bu={exports:{}},Ci={},Nu={exports:{}},Uu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function Xy(){return lm||(lm=1,(function(l){function n(T,D){var X=T.length;T.push(D);e:for(;0<X;){var ue=X-1>>>1,S=T[ue];if(0<o(S,D))T[ue]=D,T[X]=S,X=ue;else break e}}function a(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var D=T[0],X=T.pop();if(X!==D){T[0]=X;e:for(var ue=0,S=T.length,H=S>>>1;ue<H;){var P=2*(ue+1)-1,K=T[P],W=P+1,ge=T[W];if(0>o(K,X))W<S&&0>o(ge,K)?(T[ue]=ge,T[W]=X,ue=W):(T[ue]=K,T[P]=X,ue=P);else if(W<S&&0>o(ge,X))T[ue]=ge,T[W]=X,ue=W;else break e}}return D}function o(T,D){var X=T.sortIndex-D.sortIndex;return X!==0?X:T.id-D.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();l.unstable_now=function(){return h.now()-d}}var p=[],m=[],y=1,b=null,_=3,E=!1,N=!1,B=!1,U=!1,$=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Y(T){for(var D=a(m);D!==null;){if(D.callback===null)r(m);else if(D.startTime<=T)r(m),D.sortIndex=D.expirationTime,n(p,D);else break;D=a(m)}}function G(T){if(B=!1,Y(T),!N)if(a(p)!==null)N=!0,V||(V=!0,ie());else{var D=a(m);D!==null&&Me(G,D.startTime-T)}}var V=!1,F=-1,oe=5,ve=-1;function ut(){return U?!0:!(l.unstable_now()-ve<oe)}function me(){if(U=!1,V){var T=l.unstable_now();ve=T;var D=!0;try{e:{N=!1,B&&(B=!1,I(F),F=-1),E=!0;var X=_;try{t:{for(Y(T),b=a(p);b!==null&&!(b.expirationTime>T&&ut());){var ue=b.callback;if(typeof ue=="function"){b.callback=null,_=b.priorityLevel;var S=ue(b.expirationTime<=T);if(T=l.unstable_now(),typeof S=="function"){b.callback=S,Y(T),D=!0;break t}b===a(p)&&r(p),Y(T)}else r(p);b=a(p)}if(b!==null)D=!0;else{var H=a(m);H!==null&&Me(G,H.startTime-T),D=!1}}break e}finally{b=null,_=X,E=!1}D=void 0}}finally{D?ie():V=!1}}}var ie;if(typeof q=="function")ie=function(){q(me)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,sn=It.port2;It.port1.onmessage=me,ie=function(){sn.postMessage(null)}}else ie=function(){$(me,0)};function Me(T,D){F=$(function(){T(l.unstable_now())},D)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(T){T.callback=null},l.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<T?Math.floor(1e3/T):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(T){switch(_){case 1:case 2:case 3:var D=3;break;default:D=_}var X=_;_=D;try{return T()}finally{_=X}},l.unstable_requestPaint=function(){U=!0},l.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var X=_;_=T;try{return D()}finally{_=X}},l.unstable_scheduleCallback=function(T,D,X){var ue=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,T){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=X+S,T={id:y++,callback:D,priorityLevel:T,startTime:X,expirationTime:S,sortIndex:-1},X>ue?(T.sortIndex=X,n(m,T),a(p)===null&&T===a(m)&&(B?(I(F),F=-1):B=!0,Me(G,X-ue))):(T.sortIndex=S,n(p,T),N||E||(N=!0,V||(V=!0,ie()))),T},l.unstable_shouldYield=ut,l.unstable_wrapCallback=function(T){var D=_;return function(){var X=_;_=D;try{return T.apply(this,arguments)}finally{_=X}}}})(Uu)),Uu}var om;function Qy(){return om||(om=1,Nu.exports=Xy()),Nu.exports}var Mu={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function Fy(){if(um)return lt;um=1;var l=ic();function n(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:m,implementation:y}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(p,m,null,y)},lt.flushSync=function(p){var m=h.T,y=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=m,r.p=y,r.d.f()}},lt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},lt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},lt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,b=d(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:E}):y==="script"&&r.d.X(p,{crossOrigin:b,integrity:_,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},lt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},lt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=d(y,m.crossOrigin);r.d.L(p,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},lt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=d(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},lt.requestFormReset=function(p){r.d.r(p)},lt.unstable_batchedUpdates=function(p,m){return p(m)},lt.useFormState=function(p,m,y){return h.H.useFormState(p,m,y)},lt.useFormStatus=function(){return h.H.useHostTransitionStatus()},lt.version="19.1.1",lt}var cm;function Zy(){if(cm)return Mu.exports;cm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Mu.exports=Fy(),Mu.exports}var fm;function Jy(){if(fm)return Ci;fm=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=Qy(),n=ic(),a=Zy();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(r(188));return t!==e?null:e}for(var s=e,i=t;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){s=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return d(u),e;if(f===i)return d(u),t;f=f.sibling}throw Error(r(188))}if(s.return!==i.return)s=u,i=f;else{for(var g=!1,v=u.child;v;){if(v===s){g=!0,s=u,i=f;break}if(v===i){g=!0,i=u,s=f;break}v=v.sibling}if(!g){for(v=f.child;v;){if(v===s){g=!0,s=f,i=u;break}if(v===i){g=!0,i=f,s=u;break}v=v.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==i)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),ut=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var It=Symbol.for("react.client.reference");function sn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===It?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case U:return"Profiler";case B:return"StrictMode";case G:return"Suspense";case V:return"SuspenseList";case ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case q:return(e.displayName||"Context")+".Provider";case I:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:sn(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return sn(e(t))}catch{}}return null}var Me=Array.isArray,T=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ue=[],S=-1;function H(e){return{current:e}}function P(e){0>S||(e.current=ue[S],ue[S]=null,S--)}function K(e,t){S++,ue[S]=e.current,e.current=t}var W=H(null),ge=H(null),se=H(null),vt=H(null);function je(e,t){switch(K(se,t),K(ge,e),K(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jd(t),e=Dd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(W),K(W,e)}function wn(){P(W),P(ge),P(se)}function pl(e){e.memoizedState!==null&&K(vt,e);var t=W.current,s=Dd(t,e.type);t!==s&&(K(ge,e),K(W,s))}function $i(e){ge.current===e&&(P(W),P(ge)),vt.current===e&&(P(vt),Ai._currentValue=X)}var gl=Object.prototype.hasOwnProperty,yl=l.unstable_scheduleCallback,vl=l.unstable_cancelCallback,wp=l.unstable_shouldYield,Sp=l.unstable_requestPaint,Xt=l.unstable_now,Ep=l.unstable_getCurrentPriorityLevel,cc=l.unstable_ImmediatePriority,fc=l.unstable_UserBlockingPriority,Gi=l.unstable_NormalPriority,Ap=l.unstable_LowPriority,hc=l.unstable_IdlePriority,Rp=l.log,Tp=l.unstable_setDisableYieldValue,Da=null,bt=null;function Sn(e){if(typeof Rp=="function"&&Tp(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Da,e)}catch{}}var _t=Math.clz32?Math.clz32:kp,Op=Math.log,xp=Math.LN2;function kp(e){return e>>>=0,e===0?32:31-(Op(e)/xp|0)|0}var Pi=256,Yi=4194304;function Wn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ki(e,t,s){var i=e.pendingLanes;if(i===0)return 0;var u=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~f,i!==0?u=Wn(i):(g&=v,g!==0?u=Wn(g):s||(s=v&~e,s!==0&&(u=Wn(s))))):(v=i&~f,v!==0?u=Wn(v):g!==0?u=Wn(g):s||(s=i&~e,s!==0&&(u=Wn(s)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,s=t&-t,f>=s||f===32&&(s&4194048)!==0)?t:u}function Ba(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Cp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dc(){var e=Pi;return Pi<<=1,(Pi&4194048)===0&&(Pi=256),e}function mc(){var e=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),e}function bl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Na(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jp(e,t,s,i,u,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(s=g&~s;0<s;){var M=31-_t(s),L=1<<M;v[M]=0,w[M]=-1;var C=k[M];if(C!==null)for(k[M]=null,M=0;M<C.length;M++){var j=C[M];j!==null&&(j.lane&=-536870913)}s&=~L}i!==0&&pc(e,i,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~t))}function pc(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-_t(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|s&4194090}function gc(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var i=31-_t(s),u=1<<i;u&t|e[i]&t&&(e[i]|=t),s&=~u}}function _l(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yc(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:Zd(e.type))}function Dp(e,t){var s=D.p;try{return D.p=e,t()}finally{D.p=s}}var En=Math.random().toString(36).slice(2),it="__reactFiber$"+En,ft="__reactProps$"+En,ks="__reactContainer$"+En,Sl="__reactEvents$"+En,Bp="__reactListeners$"+En,Np="__reactHandles$"+En,vc="__reactResources$"+En,Ua="__reactMarker$"+En;function El(e){delete e[it],delete e[ft],delete e[Sl],delete e[Bp],delete e[Np]}function Cs(e){var t=e[it];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ks]||s[it]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Md(e);e!==null;){if(s=e[it])return s;e=Md(e)}return t}e=s,s=e.parentNode}return null}function js(e){if(e=e[it]||e[ks]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ma(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ds(e){var t=e[vc];return t||(t=e[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[Ua]=!0}var bc=new Set,_c={};function es(e,t){Bs(e,t),Bs(e+"Capture",t)}function Bs(e,t){for(_c[e]=t,e=0;e<t.length;e++)bc.add(t[e])}var Up=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Sc={};function Mp(e){return gl.call(Sc,e)?!0:gl.call(wc,e)?!1:Up.test(e)?Sc[e]=!0:(wc[e]=!0,!1)}function Vi(e,t,s){if(Mp(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Xi(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function an(e,t,s,i){if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+i)}}var Al,Ec;function Ns(e){if(Al===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Al=t&&t[1]||"",Ec=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Al+e+Ec}var Rl=!1;function Tl(e,t){if(!e||Rl)return"";Rl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(j){var C=j}Reflect.construct(e,[],L)}else{try{L.call()}catch(j){C=j}e.call(L.prototype)}}else{try{throw Error()}catch(j){C=j}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(j){if(j&&C&&typeof j.stack=="string")return[j.stack,C.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),g=f[0],v=f[1];if(g&&v){var w=g.split(`
`),k=v.split(`
`);for(u=i=0;i<w.length&&!w[i].includes("DetermineComponentFrameRoot");)i++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(i===w.length||u===k.length)for(i=w.length-1,u=k.length-1;1<=i&&0<=u&&w[i]!==k[u];)u--;for(;1<=i&&0<=u;i--,u--)if(w[i]!==k[u]){if(i!==1||u!==1)do if(i--,u--,0>u||w[i]!==k[u]){var M=`
`+w[i].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=i&&0<=u);break}}}finally{Rl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ns(s):""}function zp(e){switch(e.tag){case 26:case 27:case 5:return Ns(e.type);case 16:return Ns("Lazy");case 13:return Ns("Suspense");case 19:return Ns("SuspenseList");case 0:case 15:return Tl(e.type,!1);case 11:return Tl(e.type.render,!1);case 1:return Tl(e.type,!0);case 31:return Ns("Activity");default:return""}}function Ac(e){try{var t="";do t+=zp(e),e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lp(e){var t=Rc(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,f=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){i=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qi(e){e._valueTracker||(e._valueTracker=Lp(e))}function Tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),i="";return e&&(i=Rc(e)?e.checked?"true":"false":e.value),e=i,e!==s?(t.setValue(e),!0):!1}function Fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qp=/[\n"\\]/g;function Dt(e){return e.replace(qp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ol(e,t,s,i,u,f,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jt(t)):e.value!==""+jt(t)&&(e.value=""+jt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?xl(e,g,jt(t)):s!=null?xl(e,g,jt(s)):i!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+jt(v):e.removeAttribute("name")}function Oc(e,t,s,i,u,f,g,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;s=s!=null?""+jt(s):"",t=t!=null?""+jt(t):s,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function xl(e,t,s){t==="number"&&Fi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Us(e,t,s,i){if(e=e.options,t){t={};for(var u=0;u<s.length;u++)t["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=t.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&i&&(e[s].defaultSelected=!0)}else{for(s=""+jt(s),t=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function xc(e,t,s){if(t!=null&&(t=""+jt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+jt(s):""}function kc(e,t,s,i){if(t==null){if(i!=null){if(s!=null)throw Error(r(92));if(Me(i)){if(1<i.length)throw Error(r(93));i=i[0]}s=i}s==null&&(s=""),t=s}s=jt(t),e.defaultValue=s,i=e.textContent,i===s&&i!==""&&i!==null&&(e.value=i)}function Ms(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Hp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(e,t,s){var i=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,s):typeof s!="number"||s===0||Hp.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function jc(e,t,s){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,s!=null){for(var i in s)!s.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&s[u]!==i&&Cc(e,u,i)}else for(var f in t)t.hasOwnProperty(f)&&Cc(e,f,t[f])}function kl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$p=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zi(e){return $p.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Cl=null;function jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zs=null,Ls=null;function Dc(e){var t=js(e);if(t&&(e=t.stateNode)){var s=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ol(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Dt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var i=s[t];if(i!==e&&i.form===e.form){var u=i[ft]||null;if(!u)throw Error(r(90));Ol(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<s.length;t++)i=s[t],i.form===e.form&&Tc(i)}break e;case"textarea":xc(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&Us(e,!!s.multiple,t,!1)}}}var Dl=!1;function Bc(e,t,s){if(Dl)return e(t,s);Dl=!0;try{var i=e(t);return i}finally{if(Dl=!1,(zs!==null||Ls!==null)&&(Mr(),zs&&(t=zs,e=Ls,Ls=zs=null,Dc(t),e)))for(t=0;t<e.length;t++)Dc(e[t])}}function za(e,t){var s=e.stateNode;if(s===null)return null;var i=s[ft]||null;if(i===null)return null;s=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,t,typeof s));return s}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=!1;if(rn)try{var La={};Object.defineProperty(La,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{Bl=!1}var An=null,Nl=null,Ji=null;function Nc(){if(Ji)return Ji;var e,t=Nl,s=t.length,i,u="value"in An?An.value:An.textContent,f=u.length;for(e=0;e<s&&t[e]===u[e];e++);var g=s-e;for(i=1;i<=g&&t[s-i]===u[f-i];i++);return Ji=u.slice(e,1<i?1-i:void 0)}function Wi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function er(){return!0}function Uc(){return!1}function ht(e){function t(s,i,u,f,g){this._reactName=s,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?er:Uc,this.isPropagationStopped=Uc,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),t}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=ht(ts),qa=y({},ts,{view:0,detail:0}),Gp=ht(qa),Ul,Ml,Ha,nr=y({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ha&&(Ha&&e.type==="mousemove"?(Ul=e.screenX-Ha.screenX,Ml=e.screenY-Ha.screenY):Ml=Ul=0,Ha=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),Mc=ht(nr),Pp=y({},nr,{dataTransfer:0}),Yp=ht(Pp),Kp=y({},qa,{relatedTarget:0}),zl=ht(Kp),Vp=y({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Xp=ht(Vp),Qp=y({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fp=ht(Qp),Zp=y({},ts,{data:0}),zc=ht(Zp),Jp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eg[e])?!!t[e]:!1}function Ll(){return tg}var ng=y({},qa,{key:function(e){if(e.key){var t=Jp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(e){return e.type==="keypress"?Wi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sg=ht(ng),ag=y({},nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lc=ht(ag),ig=y({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),rg=ht(ig),lg=y({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),og=ht(lg),ug=y({},nr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cg=ht(ug),fg=y({},ts,{newState:0,oldState:0}),hg=ht(fg),dg=[9,13,27,32],ql=rn&&"CompositionEvent"in window,Ia=null;rn&&"documentMode"in document&&(Ia=document.documentMode);var mg=rn&&"TextEvent"in window&&!Ia,qc=rn&&(!ql||Ia&&8<Ia&&11>=Ia),Hc=" ",Ic=!1;function $c(e,t){switch(e){case"keyup":return dg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qs=!1;function pg(e,t){switch(e){case"compositionend":return Gc(t);case"keypress":return t.which!==32?null:(Ic=!0,Hc);case"textInput":return e=t.data,e===Hc&&Ic?null:e;default:return null}}function gg(e,t){if(qs)return e==="compositionend"||!ql&&$c(e,t)?(e=Nc(),Ji=Nl=An=null,qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qc&&t.locale!=="ko"?null:t.data;default:return null}}var yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yg[e.type]:t==="textarea"}function Yc(e,t,s,i){zs?Ls?Ls.push(i):Ls=[i]:zs=i,t=$r(t,"onChange"),0<t.length&&(s=new tr("onChange","change",null,s,i),e.push({event:s,listeners:t}))}var $a=null,Ga=null;function vg(e){Td(e,0)}function sr(e){var t=Ma(e);if(Tc(t))return e}function Kc(e,t){if(e==="change")return t}var Vc=!1;if(rn){var Hl;if(rn){var Il="oninput"in document;if(!Il){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),Il=typeof Xc.oninput=="function"}Hl=Il}else Hl=!1;Vc=Hl&&(!document.documentMode||9<document.documentMode)}function Qc(){$a&&($a.detachEvent("onpropertychange",Fc),Ga=$a=null)}function Fc(e){if(e.propertyName==="value"&&sr(Ga)){var t=[];Yc(t,Ga,e,jl(e)),Bc(vg,t)}}function bg(e,t,s){e==="focusin"?(Qc(),$a=t,Ga=s,$a.attachEvent("onpropertychange",Fc)):e==="focusout"&&Qc()}function _g(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sr(Ga)}function wg(e,t){if(e==="click")return sr(t)}function Sg(e,t){if(e==="input"||e==="change")return sr(t)}function Eg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:Eg;function Pa(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var u=s[i];if(!gl.call(t,u)||!wt(e[u],t[u]))return!1}return!0}function Zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jc(e,t){var s=Zc(e);e=0;for(var i;s;){if(s.nodeType===3){if(i=e+s.textContent.length,e<=t&&i>=t)return{node:s,offset:t-e};e=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zc(s)}}function Wc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ef(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Fi(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Fi(e.document)}return t}function $l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ag=rn&&"documentMode"in document&&11>=document.documentMode,Hs=null,Gl=null,Ya=null,Pl=!1;function tf(e,t,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Pl||Hs==null||Hs!==Fi(i)||(i=Hs,"selectionStart"in i&&$l(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ya&&Pa(Ya,i)||(Ya=i,i=$r(Gl,"onSelect"),0<i.length&&(t=new tr("onSelect","select",null,t,s),e.push({event:t,listeners:i}),t.target=Hs)))}function ns(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Is={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Yl={},nf={};rn&&(nf=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function ss(e){if(Yl[e])return Yl[e];if(!Is[e])return e;var t=Is[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in nf)return Yl[e]=t[s];return e}var sf=ss("animationend"),af=ss("animationiteration"),rf=ss("animationstart"),Rg=ss("transitionrun"),Tg=ss("transitionstart"),Og=ss("transitioncancel"),lf=ss("transitionend"),of=new Map,Kl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kl.push("scrollEnd");function $t(e,t){of.set(e,t),es(t,[e])}var uf=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var s=uf.get(e);return s!==void 0?s:(t={value:e,source:t,stack:Ac(t)},uf.set(e,t),t)}return{value:e,source:t,stack:Ac(t)}}var Nt=[],$s=0,Vl=0;function ar(){for(var e=$s,t=Vl=$s=0;t<e;){var s=Nt[t];Nt[t++]=null;var i=Nt[t];Nt[t++]=null;var u=Nt[t];Nt[t++]=null;var f=Nt[t];if(Nt[t++]=null,i!==null&&u!==null){var g=i.pending;g===null?u.next=u:(u.next=g.next,g.next=u),i.pending=u}f!==0&&cf(s,u,f)}}function ir(e,t,s,i){Nt[$s++]=e,Nt[$s++]=t,Nt[$s++]=s,Nt[$s++]=i,Vl|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Xl(e,t,s,i){return ir(e,t,s,i),rr(e)}function Gs(e,t){return ir(e,null,null,t),rr(e)}function cf(e,t,s){e.lanes|=s;var i=e.alternate;i!==null&&(i.lanes|=s);for(var u=!1,f=e.return;f!==null;)f.childLanes|=s,i=f.alternate,i!==null&&(i.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-_t(s),e=f.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=s|536870912),f):null}function rr(e){if(50<gi)throw gi=0,tu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ps={};function xg(e,t,s,i){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,s,i){return new xg(e,t,s,i)}function Ql(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,t){var s=e.alternate;return s===null?(s=St(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function ff(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function lr(e,t,s,i,u,f){var g=0;if(i=e,typeof e=="function")Ql(e)&&(g=1);else if(typeof e=="string")g=Cy(e,s,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ve:return e=St(31,s,t,u),e.elementType=ve,e.lanes=f,e;case N:return as(s.children,u,f,t);case B:g=8,u|=24;break;case U:return e=St(12,s,t,u|2),e.elementType=U,e.lanes=f,e;case G:return e=St(13,s,t,u),e.elementType=G,e.lanes=f,e;case V:return e=St(19,s,t,u),e.elementType=V,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case q:g=10;break e;case I:g=9;break e;case Y:g=11;break e;case F:g=14;break e;case oe:g=16,i=null;break e}g=29,s=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=St(g,s,t,u),t.elementType=e,t.type=i,t.lanes=f,t}function as(e,t,s,i){return e=St(7,e,i,t),e.lanes=s,e}function Fl(e,t,s){return e=St(6,e,null,t),e.lanes=s,e}function Zl(e,t,s){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ys=[],Ks=0,or=null,ur=0,Ut=[],Mt=0,is=null,on=1,un="";function rs(e,t){Ys[Ks++]=ur,Ys[Ks++]=or,or=e,ur=t}function hf(e,t,s){Ut[Mt++]=on,Ut[Mt++]=un,Ut[Mt++]=is,is=e;var i=on;e=un;var u=32-_t(i)-1;i&=~(1<<u),s+=1;var f=32-_t(t)+u;if(30<f){var g=u-u%5;f=(i&(1<<g)-1).toString(32),i>>=g,u-=g,on=1<<32-_t(t)+u|s<<u|i,un=f+e}else on=1<<f|s<<u|i,un=e}function Jl(e){e.return!==null&&(rs(e,1),hf(e,1,0))}function Wl(e){for(;e===or;)or=Ys[--Ks],Ys[Ks]=null,ur=Ys[--Ks],Ys[Ks]=null;for(;e===is;)is=Ut[--Mt],Ut[Mt]=null,un=Ut[--Mt],Ut[Mt]=null,on=Ut[--Mt],Ut[Mt]=null}var ct=null,ze=null,be=!1,ls=null,Qt=!1,eo=Error(r(519));function os(e){var t=Error(r(418,""));throw Xa(Bt(t,e)),eo}function df(e){var t=e.stateNode,s=e.type,i=e.memoizedProps;switch(t[it]=e,t[ft]=i,s){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(s=0;s<vi.length;s++)he(vi[s],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),Oc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Qi(t);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),kc(t,i.value,i.defaultValue,i.children),Qi(t)}s=i.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||i.suppressHydrationWarning===!0||Cd(t.textContent,s)?(i.popover!=null&&(he("beforetoggle",t),he("toggle",t)),i.onScroll!=null&&he("scroll",t),i.onScrollEnd!=null&&he("scrollend",t),i.onClick!=null&&(t.onclick=Gr),t=!0):t=!1,t||os(e)}function mf(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ct=ct.return}}function Ka(e){if(e!==ct)return!1;if(!be)return mf(e),be=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||yu(e.type,e.memoizedProps)),s=!s),s&&ze&&os(e),mf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(t===0){ze=Pt(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++;e=e.nextSibling}ze=null}}else t===27?(t=ze,Hn(e.type)?(e=wu,wu=null,ze=e):ze=t):ze=ct?Pt(e.stateNode.nextSibling):null;return!0}function Va(){ze=ct=null,be=!1}function pf(){var e=ls;return e!==null&&(pt===null?pt=e:pt.push.apply(pt,e),ls=null),e}function Xa(e){ls===null?ls=[e]:ls.push(e)}var to=H(null),us=null,cn=null;function Rn(e,t,s){K(to,t._currentValue),t._currentValue=s}function fn(e){e._currentValue=to.current,P(to)}function no(e,t,s){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===s)break;e=e.return}}function so(e,t,s,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=u;for(var w=0;w<t.length;w++)if(v.context===t[w]){f.lanes|=s,v=f.alternate,v!==null&&(v.lanes|=s),no(f.return,s,e),i||(g=null);break e}f=v.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),no(g,s,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Qa(e,t,s,i){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var v=u.type;wt(u.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(u===vt.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ai):e=[Ai])}u=u.return}e!==null&&so(t,e,s,i),t.flags|=262144}function cr(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cs(e){us=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return gf(us,e)}function fr(e,t){return us===null&&cs(e),gf(e,t)}function gf(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},cn===null){if(e===null)throw Error(r(308));cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cn=cn.next=t;return s}var kg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Cg=l.unstable_scheduleCallback,jg=l.unstable_NormalPriority,Ve={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ao(){return{controller:new kg,data:new Map,refCount:0}}function Fa(e){e.refCount--,e.refCount===0&&Cg(jg,function(){e.controller.abort()})}var Za=null,io=0,Vs=0,Xs=null;function Dg(e,t){if(Za===null){var s=Za=[];io=0,Vs=ou(),Xs={status:"pending",value:void 0,then:function(i){s.push(i)}}}return io++,t.then(yf,yf),t}function yf(){if(--io===0&&Za!==null){Xs!==null&&(Xs.status="fulfilled");var e=Za;Za=null,Vs=0,Xs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Bg(e,t){var s=[],i={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<s.length;u++)(0,s[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),i}var vf=T.S;T.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Dg(e,t),vf!==null&&vf(e,t)};var fs=H(null);function ro(){var e=fs.current;return e!==null?e:xe.pooledCache}function hr(e,t){t===null?K(fs,fs.current):K(fs,t.pool)}function bf(){var e=ro();return e===null?null:{parent:Ve._currentValue,pool:e}}var Ja=Error(r(460)),_f=Error(r(474)),dr=Error(r(542)),lo={then:function(){}};function wf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mr(){}function Sf(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(mr,mr),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Af(e),e;default:if(typeof t.status=="string")t.then(mr,mr);else{if(e=xe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Af(e),e}throw Wa=t,Ja}}var Wa=null;function Ef(){if(Wa===null)throw Error(r(459));var e=Wa;return Wa=null,e}function Af(e){if(e===Ja||e===dr)throw Error(r(483))}var Tn=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function On(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xn(e,t,s){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(_e&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=rr(e),cf(e,null,s),t}return ir(e,i,t,s),rr(e)}function ei(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,gc(e,s)}}function co(e,t){var s=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?u=f=t:f=f.next=t}else u=f=t;s={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var fo=!1;function ti(){if(fo){var e=Xs;if(e!==null)throw e}}function ni(e,t,s,i){fo=!1;var u=e.updateQueue;Tn=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var w=v,k=w.next;w.next=null,g===null?f=k:g.next=k,g=w;var M=e.alternate;M!==null&&(M=M.updateQueue,v=M.lastBaseUpdate,v!==g&&(v===null?M.firstBaseUpdate=k:v.next=k,M.lastBaseUpdate=w))}if(f!==null){var L=u.baseState;g=0,M=k=w=null,v=f;do{var C=v.lane&-536870913,j=C!==v.lane;if(j?(pe&C)===C:(i&C)===C){C!==0&&C===Vs&&(fo=!0),M!==null&&(M=M.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ne=e,ee=v;C=t;var Re=s;switch(ee.tag){case 1:if(ne=ee.payload,typeof ne=="function"){L=ne.call(Re,L,C);break e}L=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ee.payload,C=typeof ne=="function"?ne.call(Re,L,C):ne,C==null)break e;L=y({},L,C);break e;case 2:Tn=!0}}C=v.callback,C!==null&&(e.flags|=64,j&&(e.flags|=8192),j=u.callbacks,j===null?u.callbacks=[C]:j.push(C))}else j={lane:C,tag:v.tag,payload:v.payload,callback:v.callback,next:null},M===null?(k=M=j,w=L):M=M.next=j,g|=C;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;j=v,v=j.next,j.next=null,u.lastBaseUpdate=j,u.shared.pending=null}}while(!0);M===null&&(w=L),u.baseState=w,u.firstBaseUpdate=k,u.lastBaseUpdate=M,f===null&&(u.shared.lanes=0),Mn|=g,e.lanes=g,e.memoizedState=L}}function Rf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Tf(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Rf(s[e],t)}var Qs=H(null),pr=H(0);function Of(e,t){e=vn,K(pr,e),K(Qs,t),vn=e|t.baseLanes}function ho(){K(pr,vn),K(Qs,Qs.current)}function mo(){vn=pr.current,P(Qs),P(pr)}var kn=0,le=null,Ee=null,Ie=null,gr=!1,Fs=!1,hs=!1,yr=0,si=0,Zs=null,Ng=0;function qe(){throw Error(r(321))}function po(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!wt(e[s],t[s]))return!1;return!0}function go(e,t,s,i,u,f){return kn=f,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?ch:fh,hs=!1,f=s(i,u),hs=!1,Fs&&(f=kf(t,s,i,u)),xf(e),f}function xf(e){T.H=Er;var t=Ee!==null&&Ee.next!==null;if(kn=0,Ie=Ee=le=null,gr=!1,si=0,Zs=null,t)throw Error(r(300));e===null||Ze||(e=e.dependencies,e!==null&&cr(e)&&(Ze=!0))}function kf(e,t,s,i){le=e;var u=0;do{if(Fs&&(Zs=null),si=0,Fs=!1,25<=u)throw Error(r(301));if(u+=1,Ie=Ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}T.H=Ig,f=t(s,i)}while(Fs);return f}function Ug(){var e=T.H,t=e.useState()[0];return t=typeof t.then=="function"?ai(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(le.flags|=1024),t}function yo(){var e=yr!==0;return yr=0,e}function vo(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function bo(e){if(gr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gr=!1}kn=0,Ie=Ee=le=null,Fs=!1,si=yr=0,Zs=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?le.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function $e(){if(Ee===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ie===null?le.memoizedState:Ie.next;if(t!==null)Ie=t,Ee=e;else{if(e===null)throw le.alternate===null?Error(r(467)):Error(r(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ie===null?le.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function _o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ai(e){var t=si;return si+=1,Zs===null&&(Zs=[]),e=Sf(Zs,e,t),t=le,(Ie===null?t.memoizedState:Ie.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?ch:fh),e}function vr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ai(e);if(e.$$typeof===q)return rt(e)}throw Error(r(438,String(e)))}function wo(e){var t=null,s=le.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var i=le.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=_o(),le.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),i=0;i<e;i++)s[i]=ut;return t.index++,s}function hn(e,t){return typeof t=="function"?t(e):t}function br(e){var t=$e();return So(t,Ee,e)}function So(e,t,s){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=s;var u=e.baseQueue,f=i.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}t.baseQueue=u=f,i.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var v=g=null,w=null,k=t,M=!1;do{var L=k.lane&-536870913;if(L!==k.lane?(pe&L)===L:(kn&L)===L){var C=k.revertLane;if(C===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),L===Vs&&(M=!0);else if((kn&C)===C){k=k.next,C===Vs&&(M=!0);continue}else L={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(v=w=L,g=f):w=w.next=L,le.lanes|=C,Mn|=C;L=k.action,hs&&s(f,L),f=k.hasEagerState?k.eagerState:s(f,L)}else C={lane:L,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(v=w=C,g=f):w=w.next=C,le.lanes|=L,Mn|=L;k=k.next}while(k!==null&&k!==t);if(w===null?g=f:w.next=v,!wt(f,e.memoizedState)&&(Ze=!0,M&&(s=Xs,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=w,i.lastRenderedState=f}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Eo(e){var t=$e(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var i=s.dispatch,u=s.pending,f=t.memoizedState;if(u!==null){s.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);wt(f,t.memoizedState)||(Ze=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),s.lastRenderedState=f}return[f,i]}function Cf(e,t,s){var i=le,u=$e(),f=be;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=t();var g=!wt((Ee||u).memoizedState,s);g&&(u.memoizedState=s,Ze=!0),u=u.queue;var v=Bf.bind(null,i,u,e);if(ii(2048,8,v,[e]),u.getSnapshot!==t||g||Ie!==null&&Ie.memoizedState.tag&1){if(i.flags|=2048,Js(9,_r(),Df.bind(null,i,u,s,t),null),xe===null)throw Error(r(349));f||(kn&124)!==0||jf(i,t,s)}return s}function jf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=le.updateQueue,t===null?(t=_o(),le.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Df(e,t,s,i){t.value=s,t.getSnapshot=i,Nf(t)&&Uf(e)}function Bf(e,t,s){return s(function(){Nf(t)&&Uf(e)})}function Nf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!wt(e,s)}catch{return!0}}function Uf(e){var t=Gs(e,2);t!==null&&Ot(t,e,2)}function Ao(e){var t=dt();if(typeof e=="function"){var s=e;if(e=s(),hs){Sn(!0);try{s()}finally{Sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},t}function Mf(e,t,s,i){return e.baseState=s,So(e,Ee,typeof i=="function"?i:hn)}function Mg(e,t,s,i,u){if(Sr(e))throw Error(r(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};T.T!==null?s(!0):f.isTransition=!1,i(f),s=t.pending,s===null?(f.next=t.pending=f,zf(t,f)):(f.next=s.next,t.pending=s.next=f)}}function zf(e,t){var s=t.action,i=t.payload,u=e.state;if(t.isTransition){var f=T.T,g={};T.T=g;try{var v=s(u,i),w=T.S;w!==null&&w(g,v),Lf(e,t,v)}catch(k){Ro(e,t,k)}finally{T.T=f}}else try{f=s(u,i),Lf(e,t,f)}catch(k){Ro(e,t,k)}}function Lf(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(i){qf(e,t,i)},function(i){return Ro(e,t,i)}):qf(e,t,s)}function qf(e,t,s){t.status="fulfilled",t.value=s,Hf(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,zf(e,s)))}function Ro(e,t,s){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=s,Hf(t),t=t.next;while(t!==i)}e.action=null}function Hf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function If(e,t){return t}function $f(e,t){if(be){var s=xe.formState;if(s!==null){e:{var i=le;if(be){if(ze){t:{for(var u=ze,f=Qt;u.nodeType!==8;){if(!f){u=null;break t}if(u=Pt(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){ze=Pt(u.nextSibling),i=u.data==="F!";break e}}os(i)}i=!1}i&&(t=s[0])}}return s=dt(),s.memoizedState=s.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:If,lastRenderedState:t},s.queue=i,s=lh.bind(null,le,i),i.dispatch=s,i=Ao(!1),f=Co.bind(null,le,!1,i.queue),i=dt(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,s=Mg.bind(null,le,u,f,s),u.dispatch=s,i.memoizedState=e,[t,s,!1]}function Gf(e){var t=$e();return Pf(t,Ee,e)}function Pf(e,t,s){if(t=So(e,t,If)[0],e=br(hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ai(t)}catch(g){throw g===Ja?dr:g}else i=t;t=$e();var u=t.queue,f=u.dispatch;return s!==t.memoizedState&&(le.flags|=2048,Js(9,_r(),zg.bind(null,u,s),null)),[i,f,e]}function zg(e,t){e.action=t}function Yf(e){var t=$e(),s=Ee;if(s!==null)return Pf(t,s,e);$e(),t=t.memoizedState,s=$e();var i=s.queue.dispatch;return s.memoizedState=e,[t,i,!1]}function Js(e,t,s,i){return e={tag:e,create:s,deps:i,inst:t,next:null},t=le.updateQueue,t===null&&(t=_o(),le.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(i=s.next,s.next=e,e.next=i,t.lastEffect=e),e}function _r(){return{destroy:void 0,resource:void 0}}function Kf(){return $e().memoizedState}function wr(e,t,s,i){var u=dt();i=i===void 0?null:i,le.flags|=e,u.memoizedState=Js(1|t,_r(),s,i)}function ii(e,t,s,i){var u=$e();i=i===void 0?null:i;var f=u.memoizedState.inst;Ee!==null&&i!==null&&po(i,Ee.memoizedState.deps)?u.memoizedState=Js(t,f,s,i):(le.flags|=e,u.memoizedState=Js(1|t,f,s,i))}function Vf(e,t){wr(8390656,8,e,t)}function Xf(e,t){ii(2048,8,e,t)}function Qf(e,t){return ii(4,2,e,t)}function Ff(e,t){return ii(4,4,e,t)}function Zf(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jf(e,t,s){s=s!=null?s.concat([e]):null,ii(4,4,Zf.bind(null,t,e),s)}function To(){}function Wf(e,t){var s=$e();t=t===void 0?null:t;var i=s.memoizedState;return t!==null&&po(t,i[1])?i[0]:(s.memoizedState=[e,t],e)}function eh(e,t){var s=$e();t=t===void 0?null:t;var i=s.memoizedState;if(t!==null&&po(t,i[1]))return i[0];if(i=e(),hs){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[i,t],i}function Oo(e,t,s){return s===void 0||(kn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=s,e=sd(),le.lanes|=e,Mn|=e,s)}function th(e,t,s,i){return wt(s,t)?s:Qs.current!==null?(e=Oo(e,s,i),wt(e,t)||(Ze=!0),e):(kn&42)===0?(Ze=!0,e.memoizedState=s):(e=sd(),le.lanes|=e,Mn|=e,t)}function nh(e,t,s,i,u){var f=D.p;D.p=f!==0&&8>f?f:8;var g=T.T,v={};T.T=v,Co(e,!1,t,s);try{var w=u(),k=T.S;if(k!==null&&k(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var M=Bg(w,i);ri(e,t,M,Tt(e))}else ri(e,t,i,Tt(e))}catch(L){ri(e,t,{then:function(){},status:"rejected",reason:L},Tt())}finally{D.p=f,T.T=g}}function Lg(){}function xo(e,t,s,i){if(e.tag!==5)throw Error(r(476));var u=sh(e).queue;nh(e,u,t,X,s===null?Lg:function(){return ah(e),s(i)})}function sh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:X},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ah(e){var t=sh(e).next.queue;ri(e,t,{},Tt())}function ko(){return rt(Ai)}function ih(){return $e().memoizedState}function rh(){return $e().memoizedState}function qg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=Tt();e=On(s);var i=xn(t,e,s);i!==null&&(Ot(i,t,s),ei(i,t,s)),t={cache:ao()},e.payload=t;return}t=t.return}}function Hg(e,t,s){var i=Tt();s={lane:i,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Sr(e)?oh(t,s):(s=Xl(e,t,s,i),s!==null&&(Ot(s,e,i),uh(s,t,i)))}function lh(e,t,s){var i=Tt();ri(e,t,s,i)}function ri(e,t,s,i){var u={lane:i,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Sr(e))oh(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,v=f(g,s);if(u.hasEagerState=!0,u.eagerState=v,wt(v,g))return ir(e,t,u,0),xe===null&&ar(),!1}catch{}finally{}if(s=Xl(e,t,u,i),s!==null)return Ot(s,e,i),uh(s,t,i),!0}return!1}function Co(e,t,s,i){if(i={lane:2,revertLane:ou(),action:i,hasEagerState:!1,eagerState:null,next:null},Sr(e)){if(t)throw Error(r(479))}else t=Xl(e,s,i,2),t!==null&&Ot(t,e,2)}function Sr(e){var t=e.alternate;return e===le||t!==null&&t===le}function oh(e,t){Fs=gr=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function uh(e,t,s){if((s&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,gc(e,s)}}var Er={readContext:rt,use:vr,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe},ch={readContext:rt,use:vr,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Vf,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,wr(4194308,4,Zf.bind(null,t,e),s)},useLayoutEffect:function(e,t){return wr(4194308,4,e,t)},useInsertionEffect:function(e,t){wr(4,2,e,t)},useMemo:function(e,t){var s=dt();t=t===void 0?null:t;var i=e();if(hs){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[i,t],i},useReducer:function(e,t,s){var i=dt();if(s!==void 0){var u=s(t);if(hs){Sn(!0);try{s(t)}finally{Sn(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=Hg.bind(null,le,e),[i.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ao(e);var t=e.queue,s=lh.bind(null,le,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:To,useDeferredValue:function(e,t){var s=dt();return Oo(s,e,t)},useTransition:function(){var e=Ao(!1);return e=nh.bind(null,le,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var i=le,u=dt();if(be){if(s===void 0)throw Error(r(407));s=s()}else{if(s=t(),xe===null)throw Error(r(349));(pe&124)!==0||jf(i,t,s)}u.memoizedState=s;var f={value:s,getSnapshot:t};return u.queue=f,Vf(Bf.bind(null,i,f,e),[e]),i.flags|=2048,Js(9,_r(),Df.bind(null,i,f,s,t),null),s},useId:function(){var e=dt(),t=xe.identifierPrefix;if(be){var s=un,i=on;s=(i&~(1<<32-_t(i)-1)).toString(32)+s,t=""+t+"R"+s,s=yr++,0<s&&(t+="H"+s.toString(32)),t+=""}else s=Ng++,t=""+t+"r"+s.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ko,useFormState:$f,useActionState:$f,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Co.bind(null,le,!0,s),s.dispatch=t,[e,t]},useMemoCache:wo,useCacheRefresh:function(){return dt().memoizedState=qg.bind(null,le)}},fh={readContext:rt,use:vr,useCallback:Wf,useContext:rt,useEffect:Xf,useImperativeHandle:Jf,useInsertionEffect:Qf,useLayoutEffect:Ff,useMemo:eh,useReducer:br,useRef:Kf,useState:function(){return br(hn)},useDebugValue:To,useDeferredValue:function(e,t){var s=$e();return th(s,Ee.memoizedState,e,t)},useTransition:function(){var e=br(hn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:ai(e),t]},useSyncExternalStore:Cf,useId:ih,useHostTransitionStatus:ko,useFormState:Gf,useActionState:Gf,useOptimistic:function(e,t){var s=$e();return Mf(s,Ee,e,t)},useMemoCache:wo,useCacheRefresh:rh},Ig={readContext:rt,use:vr,useCallback:Wf,useContext:rt,useEffect:Xf,useImperativeHandle:Jf,useInsertionEffect:Qf,useLayoutEffect:Ff,useMemo:eh,useReducer:Eo,useRef:Kf,useState:function(){return Eo(hn)},useDebugValue:To,useDeferredValue:function(e,t){var s=$e();return Ee===null?Oo(s,e,t):th(s,Ee.memoizedState,e,t)},useTransition:function(){var e=Eo(hn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:ai(e),t]},useSyncExternalStore:Cf,useId:ih,useHostTransitionStatus:ko,useFormState:Yf,useActionState:Yf,useOptimistic:function(e,t){var s=$e();return Ee!==null?Mf(s,Ee,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:wo,useCacheRefresh:rh},Ws=null,li=0;function Ar(e){var t=li;return li+=1,Ws===null&&(Ws=[]),Sf(Ws,e,t)}function oi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Rr(e,t){throw t.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hh(e){var t=e._init;return t(e._payload)}function dh(e){function t(O,R){if(e){var x=O.deletions;x===null?(O.deletions=[R],O.flags|=16):x.push(R)}}function s(O,R){if(!e)return null;for(;R!==null;)t(O,R),R=R.sibling;return null}function i(O){for(var R=new Map;O!==null;)O.key!==null?R.set(O.key,O):R.set(O.index,O),O=O.sibling;return R}function u(O,R){return O=ln(O,R),O.index=0,O.sibling=null,O}function f(O,R,x){return O.index=x,e?(x=O.alternate,x!==null?(x=x.index,x<R?(O.flags|=67108866,R):x):(O.flags|=67108866,R)):(O.flags|=1048576,R)}function g(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,R,x,z){return R===null||R.tag!==6?(R=Fl(x,O.mode,z),R.return=O,R):(R=u(R,x),R.return=O,R)}function w(O,R,x,z){var Q=x.type;return Q===N?M(O,R,x.props.children,z,x.key):R!==null&&(R.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===oe&&hh(Q)===R.type)?(R=u(R,x.props),oi(R,x),R.return=O,R):(R=lr(x.type,x.key,x.props,null,O.mode,z),oi(R,x),R.return=O,R)}function k(O,R,x,z){return R===null||R.tag!==4||R.stateNode.containerInfo!==x.containerInfo||R.stateNode.implementation!==x.implementation?(R=Zl(x,O.mode,z),R.return=O,R):(R=u(R,x.children||[]),R.return=O,R)}function M(O,R,x,z,Q){return R===null||R.tag!==7?(R=as(x,O.mode,z,Q),R.return=O,R):(R=u(R,x),R.return=O,R)}function L(O,R,x){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Fl(""+R,O.mode,x),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return x=lr(R.type,R.key,R.props,null,O.mode,x),oi(x,R),x.return=O,x;case E:return R=Zl(R,O.mode,x),R.return=O,R;case oe:var z=R._init;return R=z(R._payload),L(O,R,x)}if(Me(R)||ie(R))return R=as(R,O.mode,x,null),R.return=O,R;if(typeof R.then=="function")return L(O,Ar(R),x);if(R.$$typeof===q)return L(O,fr(O,R),x);Rr(O,R)}return null}function C(O,R,x,z){var Q=R!==null?R.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return Q!==null?null:v(O,R,""+x,z);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _:return x.key===Q?w(O,R,x,z):null;case E:return x.key===Q?k(O,R,x,z):null;case oe:return Q=x._init,x=Q(x._payload),C(O,R,x,z)}if(Me(x)||ie(x))return Q!==null?null:M(O,R,x,z,null);if(typeof x.then=="function")return C(O,R,Ar(x),z);if(x.$$typeof===q)return C(O,R,fr(O,x),z);Rr(O,x)}return null}function j(O,R,x,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return O=O.get(x)||null,v(R,O,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case _:return O=O.get(z.key===null?x:z.key)||null,w(R,O,z,Q);case E:return O=O.get(z.key===null?x:z.key)||null,k(R,O,z,Q);case oe:var ce=z._init;return z=ce(z._payload),j(O,R,x,z,Q)}if(Me(z)||ie(z))return O=O.get(x)||null,M(R,O,z,Q,null);if(typeof z.then=="function")return j(O,R,x,Ar(z),Q);if(z.$$typeof===q)return j(O,R,x,fr(R,z),Q);Rr(R,z)}return null}function ne(O,R,x,z){for(var Q=null,ce=null,Z=R,te=R=0,We=null;Z!==null&&te<x.length;te++){Z.index>te?(We=Z,Z=null):We=Z.sibling;var ye=C(O,Z,x[te],z);if(ye===null){Z===null&&(Z=We);break}e&&Z&&ye.alternate===null&&t(O,Z),R=f(ye,R,te),ce===null?Q=ye:ce.sibling=ye,ce=ye,Z=We}if(te===x.length)return s(O,Z),be&&rs(O,te),Q;if(Z===null){for(;te<x.length;te++)Z=L(O,x[te],z),Z!==null&&(R=f(Z,R,te),ce===null?Q=Z:ce.sibling=Z,ce=Z);return be&&rs(O,te),Q}for(Z=i(Z);te<x.length;te++)We=j(Z,O,te,x[te],z),We!==null&&(e&&We.alternate!==null&&Z.delete(We.key===null?te:We.key),R=f(We,R,te),ce===null?Q=We:ce.sibling=We,ce=We);return e&&Z.forEach(function(Yn){return t(O,Yn)}),be&&rs(O,te),Q}function ee(O,R,x,z){if(x==null)throw Error(r(151));for(var Q=null,ce=null,Z=R,te=R=0,We=null,ye=x.next();Z!==null&&!ye.done;te++,ye=x.next()){Z.index>te?(We=Z,Z=null):We=Z.sibling;var Yn=C(O,Z,ye.value,z);if(Yn===null){Z===null&&(Z=We);break}e&&Z&&Yn.alternate===null&&t(O,Z),R=f(Yn,R,te),ce===null?Q=Yn:ce.sibling=Yn,ce=Yn,Z=We}if(ye.done)return s(O,Z),be&&rs(O,te),Q;if(Z===null){for(;!ye.done;te++,ye=x.next())ye=L(O,ye.value,z),ye!==null&&(R=f(ye,R,te),ce===null?Q=ye:ce.sibling=ye,ce=ye);return be&&rs(O,te),Q}for(Z=i(Z);!ye.done;te++,ye=x.next())ye=j(Z,O,te,ye.value,z),ye!==null&&(e&&ye.alternate!==null&&Z.delete(ye.key===null?te:ye.key),R=f(ye,R,te),ce===null?Q=ye:ce.sibling=ye,ce=ye);return e&&Z.forEach(function($y){return t(O,$y)}),be&&rs(O,te),Q}function Re(O,R,x,z){if(typeof x=="object"&&x!==null&&x.type===N&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case _:e:{for(var Q=x.key;R!==null;){if(R.key===Q){if(Q=x.type,Q===N){if(R.tag===7){s(O,R.sibling),z=u(R,x.props.children),z.return=O,O=z;break e}}else if(R.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===oe&&hh(Q)===R.type){s(O,R.sibling),z=u(R,x.props),oi(z,x),z.return=O,O=z;break e}s(O,R);break}else t(O,R);R=R.sibling}x.type===N?(z=as(x.props.children,O.mode,z,x.key),z.return=O,O=z):(z=lr(x.type,x.key,x.props,null,O.mode,z),oi(z,x),z.return=O,O=z)}return g(O);case E:e:{for(Q=x.key;R!==null;){if(R.key===Q)if(R.tag===4&&R.stateNode.containerInfo===x.containerInfo&&R.stateNode.implementation===x.implementation){s(O,R.sibling),z=u(R,x.children||[]),z.return=O,O=z;break e}else{s(O,R);break}else t(O,R);R=R.sibling}z=Zl(x,O.mode,z),z.return=O,O=z}return g(O);case oe:return Q=x._init,x=Q(x._payload),Re(O,R,x,z)}if(Me(x))return ne(O,R,x,z);if(ie(x)){if(Q=ie(x),typeof Q!="function")throw Error(r(150));return x=Q.call(x),ee(O,R,x,z)}if(typeof x.then=="function")return Re(O,R,Ar(x),z);if(x.$$typeof===q)return Re(O,R,fr(O,x),z);Rr(O,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,R!==null&&R.tag===6?(s(O,R.sibling),z=u(R,x),z.return=O,O=z):(s(O,R),z=Fl(x,O.mode,z),z.return=O,O=z),g(O)):s(O,R)}return function(O,R,x,z){try{li=0;var Q=Re(O,R,x,z);return Ws=null,Q}catch(Z){if(Z===Ja||Z===dr)throw Z;var ce=St(29,Z,null,O.mode);return ce.lanes=z,ce.return=O,ce}finally{}}}var ea=dh(!0),mh=dh(!1),zt=H(null),Ft=null;function Cn(e){var t=e.alternate;K(Xe,Xe.current&1),K(zt,e),Ft===null&&(t===null||Qs.current!==null||t.memoizedState!==null)&&(Ft=e)}function ph(e){if(e.tag===22){if(K(Xe,Xe.current),K(zt,e),Ft===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ft=e)}}else jn()}function jn(){K(Xe,Xe.current),K(zt,zt.current)}function dn(e){P(zt),Ft===e&&(Ft=null),P(Xe)}var Xe=H(0);function Tr(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||_u(s)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function jo(e,t,s,i){t=e.memoizedState,s=s(i,t),s=s==null?t:y({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Do={enqueueSetState:function(e,t,s){e=e._reactInternals;var i=Tt(),u=On(i);u.payload=t,s!=null&&(u.callback=s),t=xn(e,u,i),t!==null&&(Ot(t,e,i),ei(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var i=Tt(),u=On(i);u.tag=1,u.payload=t,s!=null&&(u.callback=s),t=xn(e,u,i),t!==null&&(Ot(t,e,i),ei(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Tt(),i=On(s);i.tag=2,t!=null&&(i.callback=t),t=xn(e,i,s),t!==null&&(Ot(t,e,s),ei(t,e,s))}};function gh(e,t,s,i,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,g):t.prototype&&t.prototype.isPureReactComponent?!Pa(s,i)||!Pa(u,f):!0}function yh(e,t,s,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,i),t.state!==e&&Do.enqueueReplaceState(t,t.state,null)}function ds(e,t){var s=t;if("ref"in t){s={};for(var i in t)i!=="ref"&&(s[i]=t[i])}if(e=e.defaultProps){s===t&&(s=y({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}var Or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vh(e){Or(e)}function bh(e){console.error(e)}function _h(e){Or(e)}function xr(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function wh(e,t,s){try{var i=e.onCaughtError;i(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Bo(e,t,s){return s=On(s),s.tag=3,s.payload={element:null},s.callback=function(){xr(e,t)},s}function Sh(e){return e=On(e),e.tag=3,e}function Eh(e,t,s,i){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;e.payload=function(){return u(f)},e.callback=function(){wh(t,s,i)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){wh(t,s,i),typeof u!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function $g(e,t,s,i,u){if(s.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=s.alternate,t!==null&&Qa(t,s,u,!0),s=zt.current,s!==null){switch(s.tag){case 13:return Ft===null?su():s.alternate===null&&Le===0&&(Le=3),s.flags&=-257,s.flags|=65536,s.lanes=u,i===lo?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([i]):t.add(i),iu(e,i,u)),!1;case 22:return s.flags|=65536,i===lo?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([i]):s.add(i)),iu(e,i,u)),!1}throw Error(r(435,s.tag))}return iu(e,i,u),su(),!1}if(be)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==eo&&(e=Error(r(422),{cause:i}),Xa(Bt(e,s)))):(i!==eo&&(t=Error(r(423),{cause:i}),Xa(Bt(t,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Bt(i,s),u=Bo(e.stateNode,i,u),co(e,u),Le!==4&&(Le=2)),!1;var f=Error(r(520),{cause:i});if(f=Bt(f,s),pi===null?pi=[f]:pi.push(f),Le!==4&&(Le=2),t===null)return!0;i=Bt(i,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=Bo(s.stateNode,i,e),co(s,e),!1;case 1:if(t=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zn===null||!zn.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Sh(u),Eh(u,e,s,i),co(s,u),!1}s=s.return}while(s!==null);return!1}var Ah=Error(r(461)),Ze=!1;function nt(e,t,s,i){t.child=e===null?mh(t,null,s,i):ea(t,e.child,s,i)}function Rh(e,t,s,i,u){s=s.render;var f=t.ref;if("ref"in i){var g={};for(var v in i)v!=="ref"&&(g[v]=i[v])}else g=i;return cs(t),i=go(e,t,s,g,f,u),v=yo(),e!==null&&!Ze?(vo(e,t,u),mn(e,t,u)):(be&&v&&Jl(t),t.flags|=1,nt(e,t,i,u),t.child)}function Th(e,t,s,i,u){if(e===null){var f=s.type;return typeof f=="function"&&!Ql(f)&&f.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=f,Oh(e,t,f,i,u)):(e=lr(s.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Io(e,u)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Pa,s(g,i)&&e.ref===t.ref)return mn(e,t,u)}return t.flags|=1,e=ln(f,i),e.ref=t.ref,e.return=t,t.child=e}function Oh(e,t,s,i,u){if(e!==null){var f=e.memoizedProps;if(Pa(f,i)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=i=f,Io(e,u))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,mn(e,t,u)}return No(e,t,s,i,u)}function xh(e,t,s){var i=t.pendingProps,u=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=f!==null?f.baseLanes|s:s,e!==null){for(u=t.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;t.childLanes=f&~i}else t.childLanes=0,t.child=null;return kh(e,t,i,s)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hr(t,f!==null?f.cachePool:null),f!==null?Of(t,f):ho(),ph(t);else return t.lanes=t.childLanes=536870912,kh(e,t,f!==null?f.baseLanes|s:s,s)}else f!==null?(hr(t,f.cachePool),Of(t,f),jn(),t.memoizedState=null):(e!==null&&hr(t,null),ho(),jn());return nt(e,t,u,s),t.child}function kh(e,t,s,i){var u=ro();return u=u===null?null:{parent:Ve._currentValue,pool:u},t.memoizedState={baseLanes:s,cachePool:u},e!==null&&hr(t,null),ho(),ph(t),e!==null&&Qa(e,t,i,!0),null}function kr(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function No(e,t,s,i,u){return cs(t),s=go(e,t,s,i,void 0,u),i=yo(),e!==null&&!Ze?(vo(e,t,u),mn(e,t,u)):(be&&i&&Jl(t),t.flags|=1,nt(e,t,s,u),t.child)}function Ch(e,t,s,i,u,f){return cs(t),t.updateQueue=null,s=kf(t,i,s,u),xf(e),i=yo(),e!==null&&!Ze?(vo(e,t,f),mn(e,t,f)):(be&&i&&Jl(t),t.flags|=1,nt(e,t,s,f),t.child)}function jh(e,t,s,i,u){if(cs(t),t.stateNode===null){var f=Ps,g=s.contextType;typeof g=="object"&&g!==null&&(f=rt(g)),f=new s(i,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Do,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=i,f.state=t.memoizedState,f.refs={},oo(t),g=s.contextType,f.context=typeof g=="object"&&g!==null?rt(g):Ps,f.state=t.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(jo(t,s,g,i),f.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Do.enqueueReplaceState(f,f.state,null),ni(t,i,f,u),ti(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){f=t.stateNode;var v=t.memoizedProps,w=ds(s,v);f.props=w;var k=f.context,M=s.contextType;g=Ps,typeof M=="object"&&M!==null&&(g=rt(M));var L=s.getDerivedStateFromProps;M=typeof L=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||k!==g)&&yh(t,f,i,g),Tn=!1;var C=t.memoizedState;f.state=C,ni(t,i,f,u),ti(),k=t.memoizedState,v||C!==k||Tn?(typeof L=="function"&&(jo(t,s,L,i),k=t.memoizedState),(w=Tn||gh(t,s,w,i,C,k,g))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=k),f.props=i,f.state=k,f.context=g,i=w):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,uo(e,t),g=t.memoizedProps,M=ds(s,g),f.props=M,L=t.pendingProps,C=f.context,k=s.contextType,w=Ps,typeof k=="object"&&k!==null&&(w=rt(k)),v=s.getDerivedStateFromProps,(k=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==L||C!==w)&&yh(t,f,i,w),Tn=!1,C=t.memoizedState,f.state=C,ni(t,i,f,u),ti();var j=t.memoizedState;g!==L||C!==j||Tn||e!==null&&e.dependencies!==null&&cr(e.dependencies)?(typeof v=="function"&&(jo(t,s,v,i),j=t.memoizedState),(M=Tn||gh(t,s,M,i,C,j,w)||e!==null&&e.dependencies!==null&&cr(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,j,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,j,w)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=j),f.props=i,f.state=j,f.context=w,i=M):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),i=!1)}return f=i,kr(e,t),i=(t.flags&128)!==0,f||i?(f=t.stateNode,s=i&&typeof s.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&i?(t.child=ea(t,e.child,null,u),t.child=ea(t,null,s,u)):nt(e,t,s,u),t.memoizedState=f.state,e=t.child):e=mn(e,t,u),e}function Dh(e,t,s,i){return Va(),t.flags|=256,nt(e,t,s,i),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mo(e){return{baseLanes:e,cachePool:bf()}}function zo(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Lt),e}function Bh(e,t,s){var i=t.pendingProps,u=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(u?Cn(t):jn(),be){var v=ze,w;if(w=v){e:{for(w=v,v=Qt;w.nodeType!==8;){if(!v){v=null;break e}if(w=Pt(w.nextSibling),w===null){v=null;break e}}v=w}v!==null?(t.memoizedState={dehydrated:v,treeContext:is!==null?{id:on,overflow:un}:null,retryLane:536870912,hydrationErrors:null},w=St(18,null,null,0),w.stateNode=v,w.return=t,t.child=w,ct=t,ze=null,w=!0):w=!1}w||os(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return _u(v)?t.lanes=32:t.lanes=536870912,null;dn(t)}return v=i.children,i=i.fallback,u?(jn(),u=t.mode,v=Cr({mode:"hidden",children:v},u),i=as(i,u,s,null),v.return=t,i.return=t,v.sibling=i,t.child=v,u=t.child,u.memoizedState=Mo(s),u.childLanes=zo(e,g,s),t.memoizedState=Uo,i):(Cn(t),Lo(t,v))}if(w=e.memoizedState,w!==null&&(v=w.dehydrated,v!==null)){if(f)t.flags&256?(Cn(t),t.flags&=-257,t=qo(e,t,s)):t.memoizedState!==null?(jn(),t.child=e.child,t.flags|=128,t=null):(jn(),u=i.fallback,v=t.mode,i=Cr({mode:"visible",children:i.children},v),u=as(u,v,s,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,ea(t,e.child,null,s),i=t.child,i.memoizedState=Mo(s),i.childLanes=zo(e,g,s),t.memoizedState=Uo,t=u);else if(Cn(t),_u(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var k=g.dgst;g=k,i=Error(r(419)),i.stack="",i.digest=g,Xa({value:i,source:null,stack:null}),t=qo(e,t,s)}else if(Ze||Qa(e,t,s,!1),g=(s&e.childLanes)!==0,Ze||g){if(g=xe,g!==null&&(i=s&-s,i=(i&42)!==0?1:_l(i),i=(i&(g.suspendedLanes|s))!==0?0:i,i!==0&&i!==w.retryLane))throw w.retryLane=i,Gs(e,i),Ot(g,e,i),Ah;v.data==="$?"||su(),t=qo(e,t,s)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,ze=Pt(v.nextSibling),ct=t,be=!0,ls=null,Qt=!1,e!==null&&(Ut[Mt++]=on,Ut[Mt++]=un,Ut[Mt++]=is,on=e.id,un=e.overflow,is=t),t=Lo(t,i.children),t.flags|=4096);return t}return u?(jn(),u=i.fallback,v=t.mode,w=e.child,k=w.sibling,i=ln(w,{mode:"hidden",children:i.children}),i.subtreeFlags=w.subtreeFlags&65011712,k!==null?u=ln(k,u):(u=as(u,v,s,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,v=e.child.memoizedState,v===null?v=Mo(s):(w=v.cachePool,w!==null?(k=Ve._currentValue,w=w.parent!==k?{parent:k,pool:k}:w):w=bf(),v={baseLanes:v.baseLanes|s,cachePool:w}),u.memoizedState=v,u.childLanes=zo(e,g,s),t.memoizedState=Uo,i):(Cn(t),s=e.child,e=s.sibling,s=ln(s,{mode:"visible",children:i.children}),s.return=t,s.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=s,t.memoizedState=null,s)}function Lo(e,t){return t=Cr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cr(e,t){return e=St(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qo(e,t,s){return ea(t,e.child,null,s),e=Lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nh(e,t,s){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),no(e.return,t,s)}function Ho(e,t,s,i,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=s,f.tailMode=u)}function Uh(e,t,s){var i=t.pendingProps,u=i.revealOrder,f=i.tail;if(nt(e,t,i.children,s),i=Xe.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nh(e,s,t);else if(e.tag===19)Nh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(K(Xe,i),u){case"forwards":for(s=t.child,u=null;s!==null;)e=s.alternate,e!==null&&Tr(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=t.child,t.child=null):(u=s.sibling,s.sibling=null),Ho(t,!1,u,s,f);break;case"backwards":for(s=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Tr(e)===null){t.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}Ho(t,!0,s,null,f);break;case"together":Ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(Qa(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,s=ln(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ln(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Io(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&cr(e)))}function Gg(e,t,s){switch(t.tag){case 3:je(t,t.stateNode.containerInfo),Rn(t,Ve,e.memoizedState.cache),Va();break;case 27:case 5:pl(t);break;case 4:je(t,t.stateNode.containerInfo);break;case 10:Rn(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Cn(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Bh(e,t,s):(Cn(t),e=mn(e,t,s),e!==null?e.sibling:null);Cn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(s&t.childLanes)!==0,i||(Qa(e,t,s,!1),i=(s&t.childLanes)!==0),u){if(i)return Uh(e,t,s);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),K(Xe,Xe.current),i)break;return null;case 22:case 23:return t.lanes=0,xh(e,t,s);case 24:Rn(t,Ve,e.memoizedState.cache)}return mn(e,t,s)}function Mh(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!Io(e,s)&&(t.flags&128)===0)return Ze=!1,Gg(e,t,s);Ze=(e.flags&131072)!==0}else Ze=!1,be&&(t.flags&1048576)!==0&&hf(t,ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,u=i._init;if(i=u(i._payload),t.type=i,typeof i=="function")Ql(i)?(e=ds(i,e),t.tag=1,t=jh(null,t,i,e,s)):(t.tag=0,t=No(null,t,i,e,s));else{if(i!=null){if(u=i.$$typeof,u===Y){t.tag=11,t=Rh(null,t,i,e,s);break e}else if(u===F){t.tag=14,t=Th(null,t,i,e,s);break e}}throw t=sn(i)||i,Error(r(306,t,""))}}return t;case 0:return No(e,t,t.type,t.pendingProps,s);case 1:return i=t.type,u=ds(i,t.pendingProps),jh(e,t,i,u,s);case 3:e:{if(je(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var f=t.memoizedState;u=f.element,uo(e,t),ni(t,i,null,s);var g=t.memoizedState;if(i=g.cache,Rn(t,Ve,i),i!==f.cache&&so(t,[Ve],s,!0),ti(),i=g.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Dh(e,t,i,s);break e}else if(i!==u){u=Bt(Error(r(424)),t),Xa(u),t=Dh(e,t,i,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Pt(e.firstChild),ct=t,be=!0,ls=null,Qt=!0,s=mh(t,null,i,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Va(),i===u){t=mn(e,t,s);break e}nt(e,t,i,s)}t=t.child}return t;case 26:return kr(e,t),e===null?(s=Hd(t.type,null,t.pendingProps,null))?t.memoizedState=s:be||(s=t.type,e=t.pendingProps,i=Pr(se.current).createElement(s),i[it]=t,i[ft]=e,at(i,s,e),Fe(i),t.stateNode=i):t.memoizedState=Hd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pl(t),e===null&&be&&(i=t.stateNode=zd(t.type,t.pendingProps,se.current),ct=t,Qt=!0,u=ze,Hn(t.type)?(wu=u,ze=Pt(i.firstChild)):ze=u),nt(e,t,t.pendingProps.children,s),kr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((u=i=ze)&&(i=yy(i,t.type,t.pendingProps,Qt),i!==null?(t.stateNode=i,ct=t,ze=Pt(i.firstChild),Qt=!1,u=!0):u=!1),u||os(t)),pl(t),u=t.type,f=t.pendingProps,g=e!==null?e.memoizedProps:null,i=f.children,yu(u,f)?i=null:g!==null&&yu(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=go(e,t,Ug,null,null,s),Ai._currentValue=u),kr(e,t),nt(e,t,i,s),t.child;case 6:return e===null&&be&&((e=s=ze)&&(s=vy(s,t.pendingProps,Qt),s!==null?(t.stateNode=s,ct=t,ze=null,e=!0):e=!1),e||os(t)),null;case 13:return Bh(e,t,s);case 4:return je(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ea(t,null,i,s):nt(e,t,i,s),t.child;case 11:return Rh(e,t,t.type,t.pendingProps,s);case 7:return nt(e,t,t.pendingProps,s),t.child;case 8:return nt(e,t,t.pendingProps.children,s),t.child;case 12:return nt(e,t,t.pendingProps.children,s),t.child;case 10:return i=t.pendingProps,Rn(t,t.type,i.value),nt(e,t,i.children,s),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,cs(t),u=rt(u),i=i(u),t.flags|=1,nt(e,t,i,s),t.child;case 14:return Th(e,t,t.type,t.pendingProps,s);case 15:return Oh(e,t,t.type,t.pendingProps,s);case 19:return Uh(e,t,s);case 31:return i=t.pendingProps,s=t.mode,i={mode:i.mode,children:i.children},e===null?(s=Cr(i,s),s.ref=t.ref,t.child=s,s.return=t,t=s):(s=ln(e.child,i),s.ref=t.ref,t.child=s,s.return=t,t=s),t;case 22:return xh(e,t,s);case 24:return cs(t),i=rt(Ve),e===null?(u=ro(),u===null&&(u=xe,f=ao(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),t.memoizedState={parent:i,cache:u},oo(t),Rn(t,Ve,u)):((e.lanes&s)!==0&&(uo(e,t),ni(t,null,null,s),ti()),u=e.memoizedState,f=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Rn(t,Ve,i)):(i=f.cache,Rn(t,Ve,i),i!==u.cache&&so(t,[Ve],s,!0))),nt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function pn(e){e.flags|=4}function zh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yd(t)){if(t=zt.current,t!==null&&((pe&4194048)===pe?Ft!==null:(pe&62914560)!==pe&&(pe&536870912)===0||t!==Ft))throw Wa=lo,_f;e.flags|=8192}}function jr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?mc():536870912,e.lanes|=t,aa|=t)}function ui(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,i=0;if(t)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=s,t}function Pg(e,t,s){var i=t.pendingProps;switch(Wl(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ne(t),null;case 3:return s=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),fn(Ve),wn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ka(t)?pn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,pf())),Ne(t),null;case 26:return s=t.memoizedState,e===null?(pn(t),s!==null?(Ne(t),zh(t,s)):(Ne(t),t.flags&=-16777217)):s?s!==e.memoizedState?(pn(t),Ne(t),zh(t,s)):(Ne(t),t.flags&=-16777217):(e.memoizedProps!==i&&pn(t),Ne(t),t.flags&=-16777217),null;case 27:$i(t),s=se.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&pn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Ne(t),null}e=W.current,Ka(t)?df(t):(e=zd(u,i,s),t.stateNode=e,pn(t))}return Ne(t),null;case 5:if($i(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&pn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Ne(t),null}if(e=W.current,Ka(t))df(t);else{switch(u=Pr(se.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?u.createElement("select",{is:i.is}):u.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?u.createElement(s,{is:i.is}):u.createElement(s)}}e[it]=t,e[ft]=i;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(at(e,s,i),s){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&pn(t)}}return Ne(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&pn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=se.current,Ka(t)){if(e=t.stateNode,s=t.memoizedProps,i=null,u=ct,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[it]=t,e=!!(e.nodeValue===s||i!==null&&i.suppressHydrationWarning===!0||Cd(e.nodeValue,s)),e||os(t)}else e=Pr(e).createTextNode(i),e[it]=t,t.stateNode=e}return Ne(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ka(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[it]=t}else Va(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),u=!1}else u=pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(dn(t),t):(dn(t),null)}if(dn(t),(t.flags&128)!==0)return t.lanes=s,t;if(s=i!==null,e=e!==null&&e.memoizedState!==null,s){i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool);var f=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)}return s!==e&&s&&(t.child.flags|=8192),jr(t,t.updateQueue),Ne(t),null;case 4:return wn(),e===null&&hu(t.stateNode.containerInfo),Ne(t),null;case 10:return fn(t.type),Ne(t),null;case 19:if(P(Xe),u=t.memoizedState,u===null)return Ne(t),null;if(i=(t.flags&128)!==0,f=u.rendering,f===null)if(i)ui(u,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Tr(e),f!==null){for(t.flags|=128,ui(u,!1),e=f.updateQueue,t.updateQueue=e,jr(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)ff(s,e),s=s.sibling;return K(Xe,Xe.current&1|2),t.child}e=e.sibling}u.tail!==null&&Xt()>Nr&&(t.flags|=128,i=!0,ui(u,!1),t.lanes=4194304)}else{if(!i)if(e=Tr(f),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,jr(t,e),ui(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!be)return Ne(t),null}else 2*Xt()-u.renderingStartTime>Nr&&s!==536870912&&(t.flags|=128,i=!0,ui(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(e=u.last,e!==null?e.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Xt(),t.sibling=null,e=Xe.current,K(Xe,i?e&1|2:e&1),t):(Ne(t),null);case 22:case 23:return dn(t),mo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(s&536870912)!==0&&(t.flags&128)===0&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),s=t.updateQueue,s!==null&&jr(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==s&&(t.flags|=2048),e!==null&&P(fs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),fn(Ve),Ne(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Yg(e,t){switch(Wl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(Ve),wn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $i(t),null;case 13:if(dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return P(Xe),null;case 4:return wn(),null;case 10:return fn(t.type),null;case 22:case 23:return dn(t),mo(),e!==null&&P(fs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fn(Ve),null;case 25:return null;default:return null}}function Lh(e,t){switch(Wl(t),t.tag){case 3:fn(Ve),wn();break;case 26:case 27:case 5:$i(t);break;case 4:wn();break;case 13:dn(t);break;case 19:P(Xe);break;case 10:fn(t.type);break;case 22:case 23:dn(t),mo(),e!==null&&P(fs);break;case 24:fn(Ve)}}function ci(e,t){try{var s=t.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var u=i.next;s=u;do{if((s.tag&e)===e){i=void 0;var f=s.create,g=s.inst;i=f(),g.destroy=i}s=s.next}while(s!==u)}}catch(v){Te(t,t.return,v)}}function Dn(e,t,s){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&e)===e){var g=i.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,u=t;var w=s,k=v;try{k()}catch(M){Te(u,w,M)}}}i=i.next}while(i!==f)}}catch(M){Te(t,t.return,M)}}function qh(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Tf(t,s)}catch(i){Te(e,e.return,i)}}}function Hh(e,t,s){s.props=ds(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(i){Te(e,t,i)}}function fi(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof s=="function"?e.refCleanup=s(i):s.current=i}}catch(u){Te(e,t,u)}}function Zt(e,t){var s=e.ref,i=e.refCleanup;if(s!==null)if(typeof i=="function")try{i()}catch(u){Te(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Te(e,t,u)}else s.current=null}function Ih(e){var t=e.type,s=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&i.focus();break e;case"img":s.src?i.src=s.src:s.srcSet&&(i.srcset=s.srcSet)}}catch(u){Te(e,e.return,u)}}function $o(e,t,s){try{var i=e.stateNode;hy(i,e.type,s,t),i[ft]=t}catch(u){Te(e,e.return,u)}}function $h(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function Go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Po(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Gr));else if(i!==4&&(i===27&&Hn(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Po(e,t,s),e=e.sibling;e!==null;)Po(e,t,s),e=e.sibling}function Dr(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(i!==4&&(i===27&&Hn(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Dr(e,t,s),e=e.sibling;e!==null;)Dr(e,t,s),e=e.sibling}function Gh(e){var t=e.stateNode,s=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);at(t,i,s),t[it]=e,t[ft]=s}catch(f){Te(e,e.return,f)}}var gn=!1,He=!1,Yo=!1,Ph=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Kg(e,t){if(e=e.containerInfo,pu=Fr,e=ef(e),$l(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,v=-1,w=-1,k=0,M=0,L=e,C=null;t:for(;;){for(var j;L!==s||u!==0&&L.nodeType!==3||(v=g+u),L!==f||i!==0&&L.nodeType!==3||(w=g+i),L.nodeType===3&&(g+=L.nodeValue.length),(j=L.firstChild)!==null;)C=L,L=j;for(;;){if(L===e)break t;if(C===s&&++k===u&&(v=g),C===f&&++M===i&&(w=g),(j=L.nextSibling)!==null)break;L=C,C=L.parentNode}L=j}s=v===-1||w===-1?null:{start:v,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(gu={focusedElem:e,selectionRange:s},Fr=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){switch(t=Je,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=t,u=f.memoizedProps,f=f.memoizedState,i=s.stateNode;try{var ne=ds(s.type,u,s.elementType===s.type);e=i.getSnapshotBeforeUpdate(ne,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(ee){Te(s,s.return,ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)bu(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}}function Yh(e,t,s){var i=s.flags;switch(s.tag){case 0:case 11:case 15:Bn(e,s),i&4&&ci(5,s);break;case 1:if(Bn(e,s),i&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(g){Te(s,s.return,g)}else{var u=ds(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Te(s,s.return,g)}}i&64&&qh(s),i&512&&fi(s,s.return);break;case 3:if(Bn(e,s),i&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Tf(e,t)}catch(g){Te(s,s.return,g)}}break;case 27:t===null&&i&4&&Gh(s);case 26:case 5:Bn(e,s),t===null&&i&4&&Ih(s),i&512&&fi(s,s.return);break;case 12:Bn(e,s);break;case 13:Bn(e,s),i&4&&Xh(e,s),i&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=ty.bind(null,s),by(e,s))));break;case 22:if(i=s.memoizedState!==null||gn,!i){t=t!==null&&t.memoizedState!==null||He,u=gn;var f=He;gn=i,(He=t)&&!f?Nn(e,s,(s.subtreeFlags&8772)!==0):Bn(e,s),gn=u,He=f}break;case 30:break;default:Bn(e,s)}}function Kh(e){var t=e.alternate;t!==null&&(e.alternate=null,Kh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&El(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,mt=!1;function yn(e,t,s){for(s=s.child;s!==null;)Vh(e,t,s),s=s.sibling}function Vh(e,t,s){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Da,s)}catch{}switch(s.tag){case 26:He||Zt(s,t),yn(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:He||Zt(s,t);var i=De,u=mt;Hn(s.type)&&(De=s.stateNode,mt=!1),yn(e,t,s),_i(s.stateNode),De=i,mt=u;break;case 5:He||Zt(s,t);case 6:if(i=De,u=mt,De=null,yn(e,t,s),De=i,mt=u,De!==null)if(mt)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(s.stateNode)}catch(f){Te(s,t,f)}else try{De.removeChild(s.stateNode)}catch(f){Te(s,t,f)}break;case 18:De!==null&&(mt?(e=De,Ud(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),xi(e)):Ud(De,s.stateNode));break;case 4:i=De,u=mt,De=s.stateNode.containerInfo,mt=!0,yn(e,t,s),De=i,mt=u;break;case 0:case 11:case 14:case 15:He||Dn(2,s,t),He||Dn(4,s,t),yn(e,t,s);break;case 1:He||(Zt(s,t),i=s.stateNode,typeof i.componentWillUnmount=="function"&&Hh(s,t,i)),yn(e,t,s);break;case 21:yn(e,t,s);break;case 22:He=(i=He)||s.memoizedState!==null,yn(e,t,s),He=i;break;default:yn(e,t,s)}}function Xh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xi(e)}catch(s){Te(t,t.return,s)}}function Vg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ph),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ph),t;default:throw Error(r(435,e.tag))}}function Ko(e,t){var s=Vg(e);t.forEach(function(i){var u=ny.bind(null,e,i);s.has(i)||(s.add(i),i.then(u,u))})}function Et(e,t){var s=t.deletions;if(s!==null)for(var i=0;i<s.length;i++){var u=s[i],f=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(Hn(v.type)){De=v.stateNode,mt=!1;break e}break;case 5:De=v.stateNode,mt=!1;break e;case 3:case 4:De=v.stateNode.containerInfo,mt=!0;break e}v=v.return}if(De===null)throw Error(r(160));Vh(f,g,u),De=null,mt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Qh(t,e),t=t.sibling}var Gt=null;function Qh(e,t){var s=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Et(t,e),At(e),i&4&&(Dn(3,e,e.return),ci(3,e),Dn(5,e,e.return));break;case 1:Et(t,e),At(e),i&512&&(He||s===null||Zt(s,s.return)),i&64&&gn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?i:s.concat(i))));break;case 26:var u=Gt;if(Et(t,e),At(e),i&512&&(He||s===null||Zt(s,s.return)),i&4){var f=s!==null?s.memoizedState:null;if(i=e.memoizedState,s===null)if(i===null)if(e.stateNode===null){e:{i=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Ua]||f[it]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),at(f,i,s),f[it]=e,Fe(f),i=f;break e;case"link":var g=Gd("link","href",u).get(i+(s.href||""));if(g){for(var v=0;v<g.length;v++)if(f=g[v],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(v,1);break t}}f=u.createElement(i),at(f,i,s),u.head.appendChild(f);break;case"meta":if(g=Gd("meta","content",u).get(i+(s.content||""))){for(v=0;v<g.length;v++)if(f=g[v],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(v,1);break t}}f=u.createElement(i),at(f,i,s),u.head.appendChild(f);break;default:throw Error(r(468,i))}f[it]=e,Fe(f),i=f}e.stateNode=i}else Pd(u,e.type,e.stateNode);else e.stateNode=$d(u,i,e.memoizedProps);else f!==i?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,i===null?Pd(u,e.type,e.stateNode):$d(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&$o(e,e.memoizedProps,s.memoizedProps)}break;case 27:Et(t,e),At(e),i&512&&(He||s===null||Zt(s,s.return)),s!==null&&i&4&&$o(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Et(t,e),At(e),i&512&&(He||s===null||Zt(s,s.return)),e.flags&32){u=e.stateNode;try{Ms(u,"")}catch(j){Te(e,e.return,j)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,$o(e,u,s!==null?s.memoizedProps:u)),i&1024&&(Yo=!0);break;case 6:if(Et(t,e),At(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,s=e.stateNode;try{s.nodeValue=i}catch(j){Te(e,e.return,j)}}break;case 3:if(Vr=null,u=Gt,Gt=Yr(t.containerInfo),Et(t,e),Gt=u,At(e),i&4&&s!==null&&s.memoizedState.isDehydrated)try{xi(t.containerInfo)}catch(j){Te(e,e.return,j)}Yo&&(Yo=!1,Fh(e));break;case 4:i=Gt,Gt=Yr(e.stateNode.containerInfo),Et(t,e),At(e),Gt=i;break;case 12:Et(t,e),At(e);break;case 13:Et(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Jo=Xt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ko(e,i)));break;case 22:u=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,k=gn,M=He;if(gn=k||u,He=M||w,Et(t,e),He=M,gn=k,At(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(s===null||w||gn||He||ms(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){w=s=t;try{if(f=w.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=w.stateNode;var L=w.memoizedProps.style,C=L!=null&&L.hasOwnProperty("display")?L.display:null;v.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(j){Te(w,w.return,j)}}}else if(t.tag===6){if(s===null){w=t;try{w.stateNode.nodeValue=u?"":w.memoizedProps}catch(j){Te(w,w.return,j)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(s=i.retryQueue,s!==null&&(i.retryQueue=null,Ko(e,s))));break;case 19:Et(t,e),At(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ko(e,i)));break;case 30:break;case 21:break;default:Et(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var s,i=e.return;i!==null;){if($h(i)){s=i;break}i=i.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var u=s.stateNode,f=Go(e);Dr(e,f,u);break;case 5:var g=s.stateNode;s.flags&32&&(Ms(g,""),s.flags&=-33);var v=Go(e);Dr(e,v,g);break;case 3:case 4:var w=s.stateNode.containerInfo,k=Go(e);Po(e,k,w);break;default:throw Error(r(161))}}catch(M){Te(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Yh(e,t.alternate,t),t=t.sibling}function ms(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Dn(4,t,t.return),ms(t);break;case 1:Zt(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Hh(t,t.return,s),ms(t);break;case 27:_i(t.stateNode);case 26:case 5:Zt(t,t.return),ms(t);break;case 22:t.memoizedState===null&&ms(t);break;case 30:ms(t);break;default:ms(t)}e=e.sibling}}function Nn(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,f=t,g=f.flags;switch(f.tag){case 0:case 11:case 15:Nn(u,f,s),ci(4,f);break;case 1:if(Nn(u,f,s),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){Te(i,i.return,k)}if(i=f,u=i.updateQueue,u!==null){var v=i.stateNode;try{var w=u.shared.hiddenCallbacks;if(w!==null)for(u.shared.hiddenCallbacks=null,u=0;u<w.length;u++)Rf(w[u],v)}catch(k){Te(i,i.return,k)}}s&&g&64&&qh(f),fi(f,f.return);break;case 27:Gh(f);case 26:case 5:Nn(u,f,s),s&&i===null&&g&4&&Ih(f),fi(f,f.return);break;case 12:Nn(u,f,s);break;case 13:Nn(u,f,s),s&&g&4&&Xh(u,f);break;case 22:f.memoizedState===null&&Nn(u,f,s),fi(f,f.return);break;case 30:break;default:Nn(u,f,s)}t=t.sibling}}function Vo(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Fa(s))}function Xo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fa(e))}function Jt(e,t,s,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zh(e,t,s,i),t=t.sibling}function Zh(e,t,s,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,s,i),u&2048&&ci(9,t);break;case 1:Jt(e,t,s,i);break;case 3:Jt(e,t,s,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fa(e)));break;case 12:if(u&2048){Jt(e,t,s,i),e=t.stateNode;try{var f=t.memoizedProps,g=f.id,v=f.onPostCommit;typeof v=="function"&&v(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Te(t,t.return,w)}}else Jt(e,t,s,i);break;case 13:Jt(e,t,s,i);break;case 23:break;case 22:f=t.stateNode,g=t.alternate,t.memoizedState!==null?f._visibility&2?Jt(e,t,s,i):hi(e,t):f._visibility&2?Jt(e,t,s,i):(f._visibility|=2,ta(e,t,s,i,(t.subtreeFlags&10256)!==0)),u&2048&&Vo(g,t);break;case 24:Jt(e,t,s,i),u&2048&&Xo(t.alternate,t);break;default:Jt(e,t,s,i)}}function ta(e,t,s,i,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,g=t,v=s,w=i,k=g.flags;switch(g.tag){case 0:case 11:case 15:ta(f,g,v,w,u),ci(8,g);break;case 23:break;case 22:var M=g.stateNode;g.memoizedState!==null?M._visibility&2?ta(f,g,v,w,u):hi(f,g):(M._visibility|=2,ta(f,g,v,w,u)),u&&k&2048&&Vo(g.alternate,g);break;case 24:ta(f,g,v,w,u),u&&k&2048&&Xo(g.alternate,g);break;default:ta(f,g,v,w,u)}t=t.sibling}}function hi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,i=t,u=i.flags;switch(i.tag){case 22:hi(s,i),u&2048&&Vo(i.alternate,i);break;case 24:hi(s,i),u&2048&&Xo(i.alternate,i);break;default:hi(s,i)}t=t.sibling}}var di=8192;function na(e){if(e.subtreeFlags&di)for(e=e.child;e!==null;)Jh(e),e=e.sibling}function Jh(e){switch(e.tag){case 26:na(e),e.flags&di&&e.memoizedState!==null&&Dy(Gt,e.memoizedState,e.memoizedProps);break;case 5:na(e);break;case 3:case 4:var t=Gt;Gt=Yr(e.stateNode.containerInfo),na(e),Gt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=di,di=16777216,na(e),di=t):na(e));break;default:na(e)}}function Wh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function mi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];Je=i,td(i,e)}Wh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ed(e),e=e.sibling}function ed(e){switch(e.tag){case 0:case 11:case 15:mi(e),e.flags&2048&&Dn(9,e,e.return);break;case 3:mi(e);break;case 12:mi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Br(e)):mi(e);break;default:mi(e)}}function Br(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];Je=i,td(i,e)}Wh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Dn(8,t,t.return),Br(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Br(t));break;default:Br(t)}e=e.sibling}}function td(e,t){for(;Je!==null;){var s=Je;switch(s.tag){case 0:case 11:case 15:Dn(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var i=s.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Fa(s.memoizedState.cache)}if(i=s.child,i!==null)i.return=s,Je=i;else e:for(s=e;Je!==null;){i=Je;var u=i.sibling,f=i.return;if(Kh(i),i===s){Je=null;break e}if(u!==null){u.return=f,Je=u;break e}Je=f}}}var Xg={getCacheForType:function(e){var t=rt(Ve),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s}},Qg=typeof WeakMap=="function"?WeakMap:Map,_e=0,xe=null,fe=null,pe=0,we=0,Rt=null,Un=!1,sa=!1,Qo=!1,vn=0,Le=0,Mn=0,ps=0,Fo=0,Lt=0,aa=0,pi=null,pt=null,Zo=!1,Jo=0,Nr=1/0,Ur=null,zn=null,st=0,Ln=null,ia=null,ra=0,Wo=0,eu=null,nd=null,gi=0,tu=null;function Tt(){if((_e&2)!==0&&pe!==0)return pe&-pe;if(T.T!==null){var e=Vs;return e!==0?e:ou()}return yc()}function sd(){Lt===0&&(Lt=(pe&536870912)===0||be?dc():536870912);var e=zt.current;return e!==null&&(e.flags|=32),Lt}function Ot(e,t,s){(e===xe&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(la(e,0),qn(e,pe,Lt,!1)),Na(e,s),((_e&2)===0||e!==xe)&&(e===xe&&((_e&2)===0&&(ps|=s),Le===4&&qn(e,pe,Lt,!1)),Wt(e))}function ad(e,t,s){if((_e&6)!==0)throw Error(r(327));var i=!s&&(t&124)===0&&(t&e.expiredLanes)===0||Ba(e,t),u=i?Jg(e,t):au(e,t,!0),f=i;do{if(u===0){sa&&!i&&qn(e,t,0,!1);break}else{if(s=e.current.alternate,f&&!Fg(s)){u=au(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var v=e;u=pi;var w=v.current.memoizedState.isDehydrated;if(w&&(la(v,g).flags|=256),g=au(v,g,!1),g!==2){if(Qo&&!w){v.errorRecoveryDisabledLanes|=f,ps|=f,u=4;break e}f=pt,pt=u,f!==null&&(pt===null?pt=f:pt.push.apply(pt,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){la(e,0),qn(e,t,0,!0);break}e:{switch(i=e,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:qn(i,t,Lt,!Un);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Jo+300-Xt(),10<u)){if(qn(i,t,Lt,!Un),Ki(i,0,!0)!==0)break e;i.timeoutHandle=Bd(id.bind(null,i,s,pt,Ur,Zo,t,Lt,ps,aa,Un,f,2,-0,0),u);break e}id(i,s,pt,Ur,Zo,t,Lt,ps,aa,Un,f,0,-0,0)}}break}while(!0);Wt(e)}function id(e,t,s,i,u,f,g,v,w,k,M,L,C,j){if(e.timeoutHandle=-1,L=t.subtreeFlags,(L&8192||(L&16785408)===16785408)&&(Ei={stylesheets:null,count:0,unsuspend:jy},Jh(t),L=By(),L!==null)){e.cancelPendingCommit=L(hd.bind(null,e,t,f,s,i,u,g,v,w,M,1,C,j)),qn(e,f,g,!k);return}hd(e,t,f,s,i,u,g,v,w)}function Fg(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var i=0;i<s.length;i++){var u=s[i],f=u.getSnapshot;u=u.value;try{if(!wt(f(),u))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t,s,i){t&=~Fo,t&=~ps,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var f=31-_t(u),g=1<<f;i[f]=-1,u&=~g}s!==0&&pc(e,s,t)}function Mr(){return(_e&6)===0?(yi(0),!1):!0}function nu(){if(fe!==null){if(we===0)var e=fe.return;else e=fe,cn=us=null,bo(e),Ws=null,li=0,e=fe;for(;e!==null;)Lh(e.alternate,e),e=e.return;fe=null}}function la(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,my(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),nu(),xe=e,fe=s=ln(e.current,null),pe=t,we=0,Rt=null,Un=!1,sa=Ba(e,t),Qo=!1,aa=Lt=Fo=ps=Mn=Le=0,pt=pi=null,Zo=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-_t(i),f=1<<u;t|=e[u],i&=~f}return vn=t,ar(),s}function rd(e,t){le=null,T.H=Er,t===Ja||t===dr?(t=Ef(),we=3):t===_f?(t=Ef(),we=4):we=t===Ah?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,fe===null&&(Le=1,xr(e,Bt(t,e.current)))}function ld(){var e=T.H;return T.H=Er,e===null?Er:e}function od(){var e=T.A;return T.A=Xg,e}function su(){Le=4,Un||(pe&4194048)!==pe&&zt.current!==null||(sa=!0),(Mn&134217727)===0&&(ps&134217727)===0||xe===null||qn(xe,pe,Lt,!1)}function au(e,t,s){var i=_e;_e|=2;var u=ld(),f=od();(xe!==e||pe!==t)&&(Ur=null,la(e,t)),t=!1;var g=Le;e:do try{if(we!==0&&fe!==null){var v=fe,w=Rt;switch(we){case 8:nu(),g=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var k=we;if(we=0,Rt=null,oa(e,v,w,k),s&&sa){g=0;break e}break;default:k=we,we=0,Rt=null,oa(e,v,w,k)}}Zg(),g=Le;break}catch(M){rd(e,M)}while(!0);return t&&e.shellSuspendCounter++,cn=us=null,_e=i,T.H=u,T.A=f,fe===null&&(xe=null,pe=0,ar()),g}function Zg(){for(;fe!==null;)ud(fe)}function Jg(e,t){var s=_e;_e|=2;var i=ld(),u=od();xe!==e||pe!==t?(Ur=null,Nr=Xt()+500,la(e,t)):sa=Ba(e,t);e:do try{if(we!==0&&fe!==null){t=fe;var f=Rt;t:switch(we){case 1:we=0,Rt=null,oa(e,t,f,1);break;case 2:case 9:if(wf(f)){we=0,Rt=null,cd(t);break}t=function(){we!==2&&we!==9||xe!==e||(we=7),Wt(e)},f.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:wf(f)?(we=0,Rt=null,cd(t)):(we=0,Rt=null,oa(e,t,f,7));break;case 5:var g=null;switch(fe.tag){case 26:g=fe.memoizedState;case 5:case 27:var v=fe;if(!g||Yd(g)){we=0,Rt=null;var w=v.sibling;if(w!==null)fe=w;else{var k=v.return;k!==null?(fe=k,zr(k)):fe=null}break t}}we=0,Rt=null,oa(e,t,f,5);break;case 6:we=0,Rt=null,oa(e,t,f,6);break;case 8:nu(),Le=6;break e;default:throw Error(r(462))}}Wg();break}catch(M){rd(e,M)}while(!0);return cn=us=null,T.H=i,T.A=u,_e=s,fe!==null?0:(xe=null,pe=0,ar(),Le)}function Wg(){for(;fe!==null&&!wp();)ud(fe)}function ud(e){var t=Mh(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?zr(e):fe=t}function cd(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Ch(s,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=Ch(s,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:bo(t);default:Lh(s,t),t=fe=ff(t,vn),t=Mh(s,t,vn)}e.memoizedProps=e.pendingProps,t===null?zr(e):fe=t}function oa(e,t,s,i){cn=us=null,bo(t),Ws=null,li=0;var u=t.return;try{if($g(e,u,t,s,pe)){Le=1,xr(e,Bt(s,e.current)),fe=null;return}}catch(f){if(u!==null)throw fe=u,f;Le=1,xr(e,Bt(s,e.current)),fe=null;return}t.flags&32768?(be||i===1?e=!0:sa||(pe&536870912)!==0?e=!1:(Un=e=!0,(i===2||i===9||i===3||i===6)&&(i=zt.current,i!==null&&i.tag===13&&(i.flags|=16384))),fd(t,e)):zr(t)}function zr(e){var t=e;do{if((t.flags&32768)!==0){fd(t,Un);return}e=t.return;var s=Pg(t.alternate,t,vn);if(s!==null){fe=s;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);Le===0&&(Le=5)}function fd(e,t){do{var s=Yg(e.alternate,e);if(s!==null){s.flags&=32767,fe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){fe=e;return}fe=e=s}while(e!==null);Le=6,fe=null}function hd(e,t,s,i,u,f,g,v,w){e.cancelPendingCommit=null;do Lr();while(st!==0);if((_e&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(f=t.lanes|t.childLanes,f|=Vl,jp(e,s,f,g,v,w),e===xe&&(fe=xe=null,pe=0),ia=t,Ln=e,ra=s,Wo=f,eu=u,nd=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sy(Gi,function(){return yd(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=T.T,T.T=null,u=D.p,D.p=2,g=_e,_e|=4;try{Kg(e,t,s)}finally{_e=g,D.p=u,T.T=i}}st=1,dd(),md(),pd()}}function dd(){if(st===1){st=0;var e=Ln,t=ia,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=T.T,T.T=null;var i=D.p;D.p=2;var u=_e;_e|=4;try{Qh(t,e);var f=gu,g=ef(e.containerInfo),v=f.focusedElem,w=f.selectionRange;if(g!==v&&v&&v.ownerDocument&&Wc(v.ownerDocument.documentElement,v)){if(w!==null&&$l(v)){var k=w.start,M=w.end;if(M===void 0&&(M=k),"selectionStart"in v)v.selectionStart=k,v.selectionEnd=Math.min(M,v.value.length);else{var L=v.ownerDocument||document,C=L&&L.defaultView||window;if(C.getSelection){var j=C.getSelection(),ne=v.textContent.length,ee=Math.min(w.start,ne),Re=w.end===void 0?ee:Math.min(w.end,ne);!j.extend&&ee>Re&&(g=Re,Re=ee,ee=g);var O=Jc(v,ee),R=Jc(v,Re);if(O&&R&&(j.rangeCount!==1||j.anchorNode!==O.node||j.anchorOffset!==O.offset||j.focusNode!==R.node||j.focusOffset!==R.offset)){var x=L.createRange();x.setStart(O.node,O.offset),j.removeAllRanges(),ee>Re?(j.addRange(x),j.extend(R.node,R.offset)):(x.setEnd(R.node,R.offset),j.addRange(x))}}}}for(L=[],j=v;j=j.parentNode;)j.nodeType===1&&L.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<L.length;v++){var z=L[v];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Fr=!!pu,gu=pu=null}finally{_e=u,D.p=i,T.T=s}}e.current=t,st=2}}function md(){if(st===2){st=0;var e=Ln,t=ia,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=T.T,T.T=null;var i=D.p;D.p=2;var u=_e;_e|=4;try{Yh(e,t.alternate,t)}finally{_e=u,D.p=i,T.T=s}}st=3}}function pd(){if(st===4||st===3){st=0,Sp();var e=Ln,t=ia,s=ra,i=nd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,ia=Ln=null,gd(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(zn=null),wl(s),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Da,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=T.T,u=D.p,D.p=2,T.T=null;try{for(var f=e.onRecoverableError,g=0;g<i.length;g++){var v=i[g];f(v.value,{componentStack:v.stack})}}finally{T.T=t,D.p=u}}(ra&3)!==0&&Lr(),Wt(e),u=e.pendingLanes,(s&4194090)!==0&&(u&42)!==0?e===tu?gi++:(gi=0,tu=e):gi=0,yi(0)}}function gd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Fa(t)))}function Lr(e){return dd(),md(),pd(),yd()}function yd(){if(st!==5)return!1;var e=Ln,t=Wo;Wo=0;var s=wl(ra),i=T.T,u=D.p;try{D.p=32>s?32:s,T.T=null,s=eu,eu=null;var f=Ln,g=ra;if(st=0,ia=Ln=null,ra=0,(_e&6)!==0)throw Error(r(331));var v=_e;if(_e|=4,ed(f.current),Zh(f,f.current,g,s),_e=v,yi(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Da,f)}catch{}return!0}finally{D.p=u,T.T=i,gd(e,t)}}function vd(e,t,s){t=Bt(s,t),t=Bo(e.stateNode,t,2),e=xn(e,t,2),e!==null&&(Na(e,2),Wt(e))}function Te(e,t,s){if(e.tag===3)vd(e,e,s);else for(;t!==null;){if(t.tag===3){vd(t,e,s);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zn===null||!zn.has(i))){e=Bt(s,e),s=Sh(2),i=xn(t,s,2),i!==null&&(Eh(s,i,t,e),Na(i,2),Wt(i));break}}t=t.return}}function iu(e,t,s){var i=e.pingCache;if(i===null){i=e.pingCache=new Qg;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(s)||(Qo=!0,u.add(s),e=ey.bind(null,e,t,s),t.then(e,e))}function ey(e,t,s){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,xe===e&&(pe&s)===s&&(Le===4||Le===3&&(pe&62914560)===pe&&300>Xt()-Jo?(_e&2)===0&&la(e,0):Fo|=s,aa===pe&&(aa=0)),Wt(e)}function bd(e,t){t===0&&(t=mc()),e=Gs(e,t),e!==null&&(Na(e,t),Wt(e))}function ty(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),bd(e,s)}function ny(e,t){var s=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),bd(e,s)}function sy(e,t){return yl(e,t)}var qr=null,ua=null,ru=!1,Hr=!1,lu=!1,gs=0;function Wt(e){e!==ua&&e.next===null&&(ua===null?qr=ua=e:ua=ua.next=e),Hr=!0,ru||(ru=!0,iy())}function yi(e,t){if(!lu&&Hr){lu=!0;do for(var s=!1,i=qr;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var g=i.suspendedLanes,v=i.pingedLanes;f=(1<<31-_t(42|e)+1)-1,f&=u&~(g&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ed(i,f))}else f=pe,f=Ki(i,i===xe?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Ba(i,f)||(s=!0,Ed(i,f));i=i.next}while(s);lu=!1}}function ay(){_d()}function _d(){Hr=ru=!1;var e=0;gs!==0&&(dy()&&(e=gs),gs=0);for(var t=Xt(),s=null,i=qr;i!==null;){var u=i.next,f=wd(i,t);f===0?(i.next=null,s===null?qr=u:s.next=u,u===null&&(ua=s)):(s=i,(e!==0||(f&3)!==0)&&(Hr=!0)),i=u}yi(e)}function wd(e,t){for(var s=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_t(f),v=1<<g,w=u[g];w===-1?((v&s)===0||(v&i)!==0)&&(u[g]=Cp(v,t)):w<=t&&(e.expiredLanes|=v),f&=~v}if(t=xe,s=pe,s=Ki(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,s===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&vl(i),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ba(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(i!==null&&vl(i),wl(s)){case 2:case 8:s=fc;break;case 32:s=Gi;break;case 268435456:s=hc;break;default:s=Gi}return i=Sd.bind(null,e),s=yl(s,i),e.callbackPriority=t,e.callbackNode=s,t}return i!==null&&i!==null&&vl(i),e.callbackPriority=2,e.callbackNode=null,2}function Sd(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Lr()&&e.callbackNode!==s)return null;var i=pe;return i=Ki(e,e===xe?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(ad(e,i,t),wd(e,Xt()),e.callbackNode!=null&&e.callbackNode===s?Sd.bind(null,e):null)}function Ed(e,t){if(Lr())return null;ad(e,t,!0)}function iy(){py(function(){(_e&6)!==0?yl(cc,ay):_d()})}function ou(){return gs===0&&(gs=dc()),gs}function Ad(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zi(""+e)}function Rd(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function ry(e,t,s,i,u){if(t==="submit"&&s&&s.stateNode===u){var f=Ad((u[ft]||null).action),g=i.submitter;g&&(t=(t=g[ft]||null)?Ad(t.formAction):g.getAttribute("formAction"),t!==null&&(f=t,g=null));var v=new tr("action","action",null,i,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(gs!==0){var w=g?Rd(u,g):new FormData(u);xo(s,{pending:!0,data:w,method:u.method,action:f},null,w)}}else typeof f=="function"&&(v.preventDefault(),w=g?Rd(u,g):new FormData(u),xo(s,{pending:!0,data:w,method:u.method,action:f},f,w))},currentTarget:u}]})}}for(var uu=0;uu<Kl.length;uu++){var cu=Kl[uu],ly=cu.toLowerCase(),oy=cu[0].toUpperCase()+cu.slice(1);$t(ly,"on"+oy)}$t(sf,"onAnimationEnd"),$t(af,"onAnimationIteration"),$t(rf,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(Rg,"onTransitionRun"),$t(Tg,"onTransitionStart"),$t(Og,"onTransitionCancel"),$t(lf,"onTransitionEnd"),Bs("onMouseEnter",["mouseout","mouseover"]),Bs("onMouseLeave",["mouseout","mouseover"]),Bs("onPointerEnter",["pointerout","pointerover"]),Bs("onPointerLeave",["pointerout","pointerover"]),es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),es("onBeforeInput",["compositionend","keypress","textInput","paste"]),es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vi));function Td(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var i=e[s],u=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var g=i.length-1;0<=g;g--){var v=i[g],w=v.instance,k=v.currentTarget;if(v=v.listener,w!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=k;try{f(u)}catch(M){Or(M)}u.currentTarget=null,f=w}else for(g=0;g<i.length;g++){if(v=i[g],w=v.instance,k=v.currentTarget,v=v.listener,w!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=k;try{f(u)}catch(M){Or(M)}u.currentTarget=null,f=w}}}}function he(e,t){var s=t[Sl];s===void 0&&(s=t[Sl]=new Set);var i=e+"__bubble";s.has(i)||(Od(t,e,2,!1),s.add(i))}function fu(e,t,s){var i=0;t&&(i|=4),Od(s,e,i,t)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function hu(e){if(!e[Ir]){e[Ir]=!0,bc.forEach(function(s){s!=="selectionchange"&&(uy.has(s)||fu(s,!1,e),fu(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ir]||(t[Ir]=!0,fu("selectionchange",!1,t))}}function Od(e,t,s,i){switch(Zd(t)){case 2:var u=My;break;case 8:u=zy;break;default:u=Tu}s=u.bind(null,t,s,e),u=void 0,!Bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,s,{capture:!0,passive:u}):e.addEventListener(t,s,!0):u!==void 0?e.addEventListener(t,s,{passive:u}):e.addEventListener(t,s,!1)}function du(e,t,s,i,u){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var v=i.stateNode.containerInfo;if(v===u)break;if(g===4)for(g=i.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;v!==null;){if(g=Cs(v),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){i=f=g;continue e}v=v.parentNode}}i=i.return}Bc(function(){var k=f,M=jl(s),L=[];e:{var C=of.get(e);if(C!==void 0){var j=tr,ne=e;switch(e){case"keypress":if(Wi(s)===0)break e;case"keydown":case"keyup":j=sg;break;case"focusin":ne="focus",j=zl;break;case"focusout":ne="blur",j=zl;break;case"beforeblur":case"afterblur":j=zl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=rg;break;case sf:case af:case rf:j=Xp;break;case lf:j=og;break;case"scroll":case"scrollend":j=Gp;break;case"wheel":j=cg;break;case"copy":case"cut":case"paste":j=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Lc;break;case"toggle":case"beforetoggle":j=hg}var ee=(t&4)!==0,Re=!ee&&(e==="scroll"||e==="scrollend"),O=ee?C!==null?C+"Capture":null:C;ee=[];for(var R=k,x;R!==null;){var z=R;if(x=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||x===null||O===null||(z=za(R,O),z!=null&&ee.push(bi(R,z,x))),Re)break;R=R.return}0<ee.length&&(C=new j(C,ne,null,s,M),L.push({event:C,listeners:ee}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",C&&s!==Cl&&(ne=s.relatedTarget||s.fromElement)&&(Cs(ne)||ne[ks]))break e;if((j||C)&&(C=M.window===M?M:(C=M.ownerDocument)?C.defaultView||C.parentWindow:window,j?(ne=s.relatedTarget||s.toElement,j=k,ne=ne?Cs(ne):null,ne!==null&&(Re=c(ne),ee=ne.tag,ne!==Re||ee!==5&&ee!==27&&ee!==6)&&(ne=null)):(j=null,ne=k),j!==ne)){if(ee=Mc,z="onMouseLeave",O="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ee=Lc,z="onPointerLeave",O="onPointerEnter",R="pointer"),Re=j==null?C:Ma(j),x=ne==null?C:Ma(ne),C=new ee(z,R+"leave",j,s,M),C.target=Re,C.relatedTarget=x,z=null,Cs(M)===k&&(ee=new ee(O,R+"enter",ne,s,M),ee.target=x,ee.relatedTarget=Re,z=ee),Re=z,j&&ne)t:{for(ee=j,O=ne,R=0,x=ee;x;x=ca(x))R++;for(x=0,z=O;z;z=ca(z))x++;for(;0<R-x;)ee=ca(ee),R--;for(;0<x-R;)O=ca(O),x--;for(;R--;){if(ee===O||O!==null&&ee===O.alternate)break t;ee=ca(ee),O=ca(O)}ee=null}else ee=null;j!==null&&xd(L,C,j,ee,!1),ne!==null&&Re!==null&&xd(L,Re,ne,ee,!0)}}e:{if(C=k?Ma(k):window,j=C.nodeName&&C.nodeName.toLowerCase(),j==="select"||j==="input"&&C.type==="file")var Q=Kc;else if(Pc(C))if(Vc)Q=Sg;else{Q=_g;var ce=bg}else j=C.nodeName,!j||j.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?k&&kl(k.elementType)&&(Q=Kc):Q=wg;if(Q&&(Q=Q(e,k))){Yc(L,Q,s,M);break e}ce&&ce(e,C,k),e==="focusout"&&k&&C.type==="number"&&k.memoizedProps.value!=null&&xl(C,"number",C.value)}switch(ce=k?Ma(k):window,e){case"focusin":(Pc(ce)||ce.contentEditable==="true")&&(Hs=ce,Gl=k,Ya=null);break;case"focusout":Ya=Gl=Hs=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,tf(L,s,M);break;case"selectionchange":if(Ag)break;case"keydown":case"keyup":tf(L,s,M)}var Z;if(ql)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else qs?$c(e,s)&&(te="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(te="onCompositionStart");te&&(qc&&s.locale!=="ko"&&(qs||te!=="onCompositionStart"?te==="onCompositionEnd"&&qs&&(Z=Nc()):(An=M,Nl="value"in An?An.value:An.textContent,qs=!0)),ce=$r(k,te),0<ce.length&&(te=new zc(te,e,null,s,M),L.push({event:te,listeners:ce}),Z?te.data=Z:(Z=Gc(s),Z!==null&&(te.data=Z)))),(Z=mg?pg(e,s):gg(e,s))&&(te=$r(k,"onBeforeInput"),0<te.length&&(ce=new zc("onBeforeInput","beforeinput",null,s,M),L.push({event:ce,listeners:te}),ce.data=Z)),ry(L,e,k,s,M)}Td(L,t)})}function bi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function $r(e,t){for(var s=t+"Capture",i=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=za(e,s),u!=null&&i.unshift(bi(e,u,f)),u=za(e,t),u!=null&&i.push(bi(e,u,f))),e.tag===3)return i;e=e.return}return[]}function ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xd(e,t,s,i,u){for(var f=t._reactName,g=[];s!==null&&s!==i;){var v=s,w=v.alternate,k=v.stateNode;if(v=v.tag,w!==null&&w===i)break;v!==5&&v!==26&&v!==27||k===null||(w=k,u?(k=za(s,f),k!=null&&g.unshift(bi(s,k,w))):u||(k=za(s,f),k!=null&&g.push(bi(s,k,w)))),s=s.return}g.length!==0&&e.push({event:t,listeners:g})}var cy=/\r\n?/g,fy=/\u0000|\uFFFD/g;function kd(e){return(typeof e=="string"?e:""+e).replace(cy,`
`).replace(fy,"")}function Cd(e,t){return t=kd(t),kd(e)===t}function Gr(){}function Ae(e,t,s,i,u,f){switch(s){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ms(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ms(e,""+i);break;case"className":Xi(e,"class",i);break;case"tabIndex":Xi(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Xi(e,s,i);break;case"style":jc(e,i,f);break;case"data":if(t!=="object"){Xi(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=Zi(""+i),e.setAttribute(s,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(t!=="input"&&Ae(e,t,"name",u.name,u,null),Ae(e,t,"formEncType",u.formEncType,u,null),Ae(e,t,"formMethod",u.formMethod,u,null),Ae(e,t,"formTarget",u.formTarget,u,null)):(Ae(e,t,"encType",u.encType,u,null),Ae(e,t,"method",u.method,u,null),Ae(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=Zi(""+i),e.setAttribute(s,i);break;case"onClick":i!=null&&(e.onclick=Gr);break;case"onScroll":i!=null&&he("scroll",e);break;case"onScrollEnd":i!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(s=i.__html,s!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}s=Zi(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""+i):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":i===!0?e.setAttribute(s,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,i):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(s,i):e.removeAttribute(s);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(s):e.setAttribute(s,i);break;case"popover":he("beforetoggle",e),he("toggle",e),Vi(e,"popover",i);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Vi(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ip.get(s)||s,Vi(e,s,i))}}function mu(e,t,s,i,u,f){switch(s){case"style":jc(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(s=i.__html,s!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof i=="string"?Ms(e,i):(typeof i=="number"||typeof i=="bigint")&&Ms(e,""+i);break;case"onScroll":i!=null&&he("scroll",e);break;case"onScrollEnd":i!=null&&he("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_c.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),t=s.slice(2,u?s.length-7:void 0),f=e[ft]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,i,u);break e}s in e?e[s]=i:i===!0?e.setAttribute(s,""):Vi(e,s,i)}}}function at(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var i=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ae(e,t,f,g,s,null)}}u&&Ae(e,t,"srcSet",s.srcSet,s,null),i&&Ae(e,t,"src",s.src,s,null);return;case"input":he("invalid",e);var v=f=g=u=null,w=null,k=null;for(i in s)if(s.hasOwnProperty(i)){var M=s[i];if(M!=null)switch(i){case"name":u=M;break;case"type":g=M;break;case"checked":w=M;break;case"defaultChecked":k=M;break;case"value":f=M;break;case"defaultValue":v=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:Ae(e,t,i,M,s,null)}}Oc(e,f,v,w,k,g,u,!1),Qi(e);return;case"select":he("invalid",e),i=g=f=null;for(u in s)if(s.hasOwnProperty(u)&&(v=s[u],v!=null))switch(u){case"value":f=v;break;case"defaultValue":g=v;break;case"multiple":i=v;default:Ae(e,t,u,v,s,null)}t=f,s=g,e.multiple=!!i,t!=null?Us(e,!!i,t,!1):s!=null&&Us(e,!!i,s,!0);return;case"textarea":he("invalid",e),f=u=i=null;for(g in s)if(s.hasOwnProperty(g)&&(v=s[g],v!=null))switch(g){case"value":i=v;break;case"defaultValue":u=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Ae(e,t,g,v,s,null)}kc(e,i,u,f),Qi(e);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(i=s[w],i!=null))switch(w){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ae(e,t,w,i,s,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(i=0;i<vi.length;i++)he(vi[i],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(i=s[k],i!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ae(e,t,k,i,s,null)}return;default:if(kl(t)){for(M in s)s.hasOwnProperty(M)&&(i=s[M],i!==void 0&&mu(e,t,M,i,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(i=s[v],i!=null&&Ae(e,t,v,i,s,null))}function hy(e,t,s,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,v=null,w=null,k=null,M=null;for(j in s){var L=s[j];if(s.hasOwnProperty(j)&&L!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=L;default:i.hasOwnProperty(j)||Ae(e,t,j,null,i,L)}}for(var C in i){var j=i[C];if(L=s[C],i.hasOwnProperty(C)&&(j!=null||L!=null))switch(C){case"type":f=j;break;case"name":u=j;break;case"checked":k=j;break;case"defaultChecked":M=j;break;case"value":g=j;break;case"defaultValue":v=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,t));break;default:j!==L&&Ae(e,t,C,j,i,L)}}Ol(e,g,v,w,k,M,f,u);return;case"select":j=g=v=C=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":j=w;default:i.hasOwnProperty(f)||Ae(e,t,f,null,i,w)}for(u in i)if(f=i[u],w=s[u],i.hasOwnProperty(u)&&(f!=null||w!=null))switch(u){case"value":C=f;break;case"defaultValue":v=f;break;case"multiple":g=f;default:f!==w&&Ae(e,t,u,f,i,w)}t=v,s=g,i=j,C!=null?Us(e,!!s,C,!1):!!i!=!!s&&(t!=null?Us(e,!!s,t,!0):Us(e,!!s,s?[]:"",!1));return;case"textarea":j=C=null;for(v in s)if(u=s[v],s.hasOwnProperty(v)&&u!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ae(e,t,v,null,i,u)}for(g in i)if(u=i[g],f=s[g],i.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":C=u;break;case"defaultValue":j=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&Ae(e,t,g,u,i,f)}xc(e,C,j);return;case"option":for(var ne in s)if(C=s[ne],s.hasOwnProperty(ne)&&C!=null&&!i.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:Ae(e,t,ne,null,i,C)}for(w in i)if(C=i[w],j=s[w],i.hasOwnProperty(w)&&C!==j&&(C!=null||j!=null))switch(w){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Ae(e,t,w,C,i,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in s)C=s[ee],s.hasOwnProperty(ee)&&C!=null&&!i.hasOwnProperty(ee)&&Ae(e,t,ee,null,i,C);for(k in i)if(C=i[k],j=s[k],i.hasOwnProperty(k)&&C!==j&&(C!=null||j!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:Ae(e,t,k,C,i,j)}return;default:if(kl(t)){for(var Re in s)C=s[Re],s.hasOwnProperty(Re)&&C!==void 0&&!i.hasOwnProperty(Re)&&mu(e,t,Re,void 0,i,C);for(M in i)C=i[M],j=s[M],!i.hasOwnProperty(M)||C===j||C===void 0&&j===void 0||mu(e,t,M,C,i,j);return}}for(var O in s)C=s[O],s.hasOwnProperty(O)&&C!=null&&!i.hasOwnProperty(O)&&Ae(e,t,O,null,i,C);for(L in i)C=i[L],j=s[L],!i.hasOwnProperty(L)||C===j||C==null&&j==null||Ae(e,t,L,C,i,j)}var pu=null,gu=null;function Pr(e){return e.nodeType===9?e:e.ownerDocument}function jd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vu=null;function dy(){var e=window.event;return e&&e.type==="popstate"?e===vu?!1:(vu=e,!0):(vu=null,!1)}var Bd=typeof setTimeout=="function"?setTimeout:void 0,my=typeof clearTimeout=="function"?clearTimeout:void 0,Nd=typeof Promise=="function"?Promise:void 0,py=typeof queueMicrotask=="function"?queueMicrotask:typeof Nd<"u"?function(e){return Nd.resolve(null).then(e).catch(gy)}:Bd;function gy(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function Ud(e,t){var s=t,i=0,u=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<i&&8>i){s=i;var g=e.ownerDocument;if(s&1&&_i(g.documentElement),s&2&&_i(g.body),s&4)for(s=g.head,_i(s),g=s.firstChild;g;){var v=g.nextSibling,w=g.nodeName;g[Ua]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||s.removeChild(g),g=v}}if(u===0){e.removeChild(f),xi(t);return}u--}else s==="$"||s==="$?"||s==="$!"?u++:i=s.charCodeAt(0)-48;else i=0;s=f}while(s);xi(t)}function bu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":bu(s),El(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function yy(e,t,s,i){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ua])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function vy(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Pt(e.nextSibling),e===null))return null;return e}function _u(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function by(e,t){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")t();else{var i=function(){t(),s.removeEventListener("DOMContentLoaded",i)};s.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var wu=null;function Md(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}function zd(e,t,s){switch(t=Pr(s),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function _i(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);El(e)}var qt=new Map,Ld=new Set;function Yr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bn=D.d;D.d={f:_y,r:wy,D:Sy,C:Ey,L:Ay,m:Ry,X:Oy,S:Ty,M:xy};function _y(){var e=bn.f(),t=Mr();return e||t}function wy(e){var t=js(e);t!==null&&t.tag===5&&t.type==="form"?ah(t):bn.r(e)}var fa=typeof document>"u"?null:document;function qd(e,t,s){var i=fa;if(i&&typeof t=="string"&&t){var u=Dt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),Ld.has(u)||(Ld.add(u),e={rel:e,crossOrigin:s,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),at(t,"link",e),Fe(t),i.head.appendChild(t)))}}function Sy(e){bn.D(e),qd("dns-prefetch",e,null)}function Ey(e,t){bn.C(e,t),qd("preconnect",e,t)}function Ay(e,t,s){bn.L(e,t,s);var i=fa;if(i&&e&&t){var u='link[rel="preload"][as="'+Dt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Dt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Dt(s.imageSizes)+'"]')):u+='[href="'+Dt(e)+'"]';var f=u;switch(t){case"style":f=ha(e);break;case"script":f=da(e)}qt.has(f)||(e=y({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),qt.set(f,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(wi(f))||t==="script"&&i.querySelector(Si(f))||(t=i.createElement("link"),at(t,"link",e),Fe(t),i.head.appendChild(t)))}}function Ry(e,t){bn.m(e,t);var s=fa;if(s&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Dt(i)+'"][href="'+Dt(e)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=da(e)}if(!qt.has(f)&&(e=y({rel:"modulepreload",href:e},t),qt.set(f,e),s.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Si(f)))return}i=s.createElement("link"),at(i,"link",e),Fe(i),s.head.appendChild(i)}}}function Ty(e,t,s){bn.S(e,t,s);var i=fa;if(i&&e){var u=Ds(i).hoistableStyles,f=ha(e);t=t||"default";var g=u.get(f);if(!g){var v={loading:0,preload:null};if(g=i.querySelector(wi(f)))v.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},s),(s=qt.get(f))&&Su(e,s);var w=g=i.createElement("link");Fe(w),at(w,"link",e),w._p=new Promise(function(k,M){w.onload=k,w.onerror=M}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Kr(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:v},u.set(f,g)}}}function Oy(e,t){bn.X(e,t);var s=fa;if(s&&e){var i=Ds(s).hoistableScripts,u=da(e),f=i.get(u);f||(f=s.querySelector(Si(u)),f||(e=y({src:e,async:!0},t),(t=qt.get(u))&&Eu(e,t),f=s.createElement("script"),Fe(f),at(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function xy(e,t){bn.M(e,t);var s=fa;if(s&&e){var i=Ds(s).hoistableScripts,u=da(e),f=i.get(u);f||(f=s.querySelector(Si(u)),f||(e=y({src:e,async:!0,type:"module"},t),(t=qt.get(u))&&Eu(e,t),f=s.createElement("script"),Fe(f),at(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function Hd(e,t,s,i){var u=(u=se.current)?Yr(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=ha(s.href),s=Ds(u).hoistableStyles,i=s.get(t),i||(i={type:"style",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ha(s.href);var f=Ds(u).hoistableStyles,g=f.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=u.querySelector(wi(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qt.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qt.set(e,s),f||ky(u,e,s,g.state))),t&&i===null)throw Error(r(528,""));return g}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=da(s),s=Ds(u).hoistableScripts,i=s.get(t),i||(i={type:"script",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ha(e){return'href="'+Dt(e)+'"'}function wi(e){return'link[rel="stylesheet"]['+e+"]"}function Id(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function ky(e,t,s,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),at(t,"link",s),Fe(t),e.head.appendChild(t))}function da(e){return'[src="'+Dt(e)+'"]'}function Si(e){return"script[async]"+e}function $d(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Dt(s.href)+'"]');if(i)return t.instance=i,Fe(i),i;var u=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Fe(i),at(i,"style",u),Kr(i,s.precedence,e),t.instance=i;case"stylesheet":u=ha(s.href);var f=e.querySelector(wi(u));if(f)return t.state.loading|=4,t.instance=f,Fe(f),f;i=Id(s),(u=qt.get(u))&&Su(i,u),f=(e.ownerDocument||e).createElement("link"),Fe(f);var g=f;return g._p=new Promise(function(v,w){g.onload=v,g.onerror=w}),at(f,"link",i),t.state.loading|=4,Kr(f,s.precedence,e),t.instance=f;case"script":return f=da(s.src),(u=e.querySelector(Si(f)))?(t.instance=u,Fe(u),u):(i=s,(u=qt.get(f))&&(i=y({},s),Eu(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),Fe(u),at(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Kr(i,s.precedence,e));return t.instance}function Kr(e,t,s){for(var i=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,g=0;g<i.length;g++){var v=i[g];if(v.dataset.precedence===t)f=v;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Vr=null;function Gd(e,t,s){if(Vr===null){var i=new Map,u=Vr=new Map;u.set(s,i)}else u=Vr,i=u.get(s),i||(i=new Map,u.set(s,i));if(i.has(e))return i;for(i.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var f=s[u];if(!(f[Ua]||f[it]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(t)||"";g=e+g;var v=i.get(g);v?v.push(f):i.set(g,[f])}}return i}function Pd(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function Cy(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Yd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ei=null;function jy(){}function Dy(e,t,s){if(Ei===null)throw Error(r(475));var i=Ei;if(t.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=ha(s.href),f=e.querySelector(wi(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Xr.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=f,Fe(f);return}f=e.ownerDocument||e,s=Id(s),(u=qt.get(u))&&Su(s,u),f=f.createElement("link"),Fe(f);var g=f;g._p=new Promise(function(v,w){g.onload=v,g.onerror=w}),at(f,"link",s),t.instance=f}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=Xr.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function By(){if(Ei===null)throw Error(r(475));var e=Ei;return e.stylesheets&&e.count===0&&Au(e,e.stylesheets),0<e.count?function(t){var s=setTimeout(function(){if(e.stylesheets&&Au(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Xr(){if(this.count--,this.count===0){if(this.stylesheets)Au(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qr=null;function Au(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qr=new Map,t.forEach(Ny,e),Qr=null,Xr.call(e))}function Ny(e,t){if(!(t.state.loading&4)){var s=Qr.get(e);if(s)var i=s.get(null);else{s=new Map,Qr.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),i=g)}i&&s.set(null,i)}u=t.instance,g=u.getAttribute("data-precedence"),f=s.get(g)||i,f===i&&s.set(null,u),s.set(g,u),this.count++,i=Xr.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ai={$$typeof:q,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function Uy(e,t,s,i,u,f,g,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.hiddenUpdates=bl(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Kd(e,t,s,i,u,f,g,v,w,k,M,L){return e=new Uy(e,t,s,g,v,w,k,L),t=1,f===!0&&(t|=24),f=St(3,null,null,t),e.current=f,f.stateNode=e,t=ao(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:i,isDehydrated:s,cache:t},oo(f),e}function Vd(e){return e?(e=Ps,e):Ps}function Xd(e,t,s,i,u,f){u=Vd(u),i.context===null?i.context=u:i.pendingContext=u,i=On(t),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=xn(e,i,t),s!==null&&(Ot(s,e,t),ei(s,e,t))}function Qd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Ru(e,t){Qd(e,t),(e=e.alternate)&&Qd(e,t)}function Fd(e){if(e.tag===13){var t=Gs(e,67108864);t!==null&&Ot(t,e,67108864),Ru(e,67108864)}}var Fr=!0;function My(e,t,s,i){var u=T.T;T.T=null;var f=D.p;try{D.p=2,Tu(e,t,s,i)}finally{D.p=f,T.T=u}}function zy(e,t,s,i){var u=T.T;T.T=null;var f=D.p;try{D.p=8,Tu(e,t,s,i)}finally{D.p=f,T.T=u}}function Tu(e,t,s,i){if(Fr){var u=Ou(i);if(u===null)du(e,t,i,Zr,s),Jd(e,i);else if(qy(u,e,t,s,i))i.stopPropagation();else if(Jd(e,i),t&4&&-1<Ly.indexOf(e)){for(;u!==null;){var f=js(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var w=1<<31-_t(g);v.entanglements[1]|=w,g&=~w}Wt(f),(_e&6)===0&&(Nr=Xt()+500,yi(0))}}break;case 13:v=Gs(f,2),v!==null&&Ot(v,f,2),Mr(),Ru(f,2)}if(f=Ou(i),f===null&&du(e,t,i,Zr,s),f===u)break;u=f}u!==null&&i.stopPropagation()}else du(e,t,i,null,s)}}function Ou(e){return e=jl(e),xu(e)}var Zr=null;function xu(e){if(Zr=null,e=Cs(e),e!==null){var t=c(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=h(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zr=e,null}function Zd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ep()){case cc:return 2;case fc:return 8;case Gi:case Ap:return 32;case hc:return 268435456;default:return 32}default:return 32}}var ku=!1,In=null,$n=null,Gn=null,Ri=new Map,Ti=new Map,Pn=[],Ly="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jd(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ti.delete(t.pointerId)}}function Oi(e,t,s,i,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:s,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},t!==null&&(t=js(t),t!==null&&Fd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function qy(e,t,s,i,u){switch(t){case"focusin":return In=Oi(In,e,t,s,i,u),!0;case"dragenter":return $n=Oi($n,e,t,s,i,u),!0;case"mouseover":return Gn=Oi(Gn,e,t,s,i,u),!0;case"pointerover":var f=u.pointerId;return Ri.set(f,Oi(Ri.get(f)||null,e,t,s,i,u)),!0;case"gotpointercapture":return f=u.pointerId,Ti.set(f,Oi(Ti.get(f)||null,e,t,s,i,u)),!0}return!1}function Wd(e){var t=Cs(e.target);if(t!==null){var s=c(t);if(s!==null){if(t=s.tag,t===13){if(t=h(s),t!==null){e.blockedOn=t,Dp(e.priority,function(){if(s.tag===13){var i=Tt();i=_l(i);var u=Gs(s,i);u!==null&&Ot(u,s,i),Ru(s,i)}});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Ou(e.nativeEvent);if(s===null){s=e.nativeEvent;var i=new s.constructor(s.type,s);Cl=i,s.target.dispatchEvent(i),Cl=null}else return t=js(s),t!==null&&Fd(t),e.blockedOn=s,!1;t.shift()}return!0}function em(e,t,s){Jr(e)&&s.delete(t)}function Hy(){ku=!1,In!==null&&Jr(In)&&(In=null),$n!==null&&Jr($n)&&($n=null),Gn!==null&&Jr(Gn)&&(Gn=null),Ri.forEach(em),Ti.forEach(em)}function Wr(e,t){e.blockedOn===t&&(e.blockedOn=null,ku||(ku=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Hy)))}var el=null;function tm(e){el!==e&&(el=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){el===e&&(el=null);for(var t=0;t<e.length;t+=3){var s=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(xu(i||s)===null)continue;break}var f=js(s);f!==null&&(e.splice(t,3),t-=3,xo(f,{pending:!0,data:u,method:s.method,action:i},i,u))}}))}function xi(e){function t(w){return Wr(w,e)}In!==null&&Wr(In,e),$n!==null&&Wr($n,e),Gn!==null&&Wr(Gn,e),Ri.forEach(t),Ti.forEach(t);for(var s=0;s<Pn.length;s++){var i=Pn[s];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Pn.length&&(s=Pn[0],s.blockedOn===null);)Wd(s),s.blockedOn===null&&Pn.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(i=0;i<s.length;i+=3){var u=s[i],f=s[i+1],g=u[ft]||null;if(typeof f=="function")g||tm(s);else if(g){var v=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[ft]||null)v=g.formAction;else if(xu(u)!==null)continue}else v=g.action;typeof v=="function"?s[i+1]=v:(s.splice(i,3),i-=3),tm(s)}}}function Cu(e){this._internalRoot=e}tl.prototype.render=Cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var s=t.current,i=Tt();Xd(s,i,e,t,null,null)},tl.prototype.unmount=Cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Mr(),t[ks]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=yc();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Pn.length&&t!==0&&t<Pn[s].priority;s++);Pn.splice(s,0,e),s===0&&Wd(e)}};var nm=n.version;if(nm!=="19.1.1")throw Error(r(527,nm,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Iy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Da=nl.inject(Iy),bt=nl}catch{}}return Ci.createRoot=function(e,t){if(!o(e))throw Error(r(299));var s=!1,i="",u=vh,f=bh,g=_h,v=null;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Kd(e,1,!1,null,null,s,i,u,f,g,v,null),e[ks]=t.current,hu(e),new Cu(t)},Ci.hydrateRoot=function(e,t,s){if(!o(e))throw Error(r(299));var i=!1,u="",f=vh,g=bh,v=_h,w=null,k=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks),s.formState!==void 0&&(k=s.formState)),t=Kd(e,1,!0,t,s??null,i,u,f,g,v,w,k),t.context=Vd(null),s=t.current,i=Tt(),i=_l(i),u=On(i),u.callback=null,xn(s,u,i),s=i,t.current.lanes=s,Na(t,s),Wt(t),e[ks]=t.current,hu(e),new tl(t)},Ci.version="19.1.1",Ci}var hm;function Wy(){if(hm)return Bu.exports;hm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Bu.exports=Jy(),Bu.exports}var ev=Wy();class tv extends Se.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,a){console.error("ErrorBoundary caught an error:",n,a),this.setState({error:n,errorInfo:a})}handleReload=()=>{window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?A.jsx("div",{className:"error-boundary",children:A.jsxs("div",{className:"error-container",children:[A.jsx("h1",{children:"Something went wrong"}),A.jsx("p",{className:"error-message",children:"An unexpected error occurred while running the ROM patcher. This might be due to an incompatible ROM file, browser limitations, or a temporary issue."}),A.jsxs("div",{className:"error-details",children:[A.jsx("h3",{children:"Error Details"}),A.jsxs("div",{className:"error-text",children:[A.jsx("strong",{children:"Error:"})," ",this.state.error?.message||"Unknown error"]}),this.state.errorInfo&&A.jsxs("details",{className:"error-stack",children:[A.jsx("summary",{children:"Technical Details (Click to expand)"}),A.jsx("pre",{children:this.state.errorInfo.componentStack})]})]}),A.jsxs("div",{className:"error-actions",children:[A.jsx("button",{onClick:this.handleReset,className:"retry-button",children:"Try Again"}),A.jsx("button",{onClick:this.handleReload,className:"reload-button",children:"Reload Page"})]}),A.jsxs("div",{className:"error-help",children:[A.jsx("h3",{children:"Troubleshooting Tips"}),A.jsxs("ul",{children:[A.jsx("li",{children:"Make sure you're using a valid Illusion of Gaia ROM file"}),A.jsx("li",{children:"Try using a different browser (Chrome, Firefox, or Edge)"}),A.jsx("li",{children:"Clear your browser cache and try again"}),A.jsx("li",{children:"Ensure your ROM file is not corrupted"}),A.jsx("li",{children:"Check that your browser supports modern JavaScript features"})]})]})]})}):this.props.children}}const nv="modulepreload",sv=function(l){return"/"+l},dm={},qi=function(n,a,r){let o=Promise.resolve();if(a&&a.length>0){let m=function(y){return Promise.all(y.map(b=>Promise.resolve(b).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var h=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");o=m(a.map(y=>{if(y=sv(y),y in dm)return;dm[y]=!0;const b=y.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${_}`))return;const E=document.createElement("link");if(E.rel=b?"stylesheet":nv,b||(E.as="script"),E.crossOrigin="",E.href=y,p&&E.setAttribute("nonce",p),document.head.appendChild(E),b)return new Promise((N,B)=>{E.addEventListener("load",N),E.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return n().catch(c)})},av=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...a)=>qi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ca);return{default:r}},void 0).then(({default:r})=>r(...a)):n=fetch,(...a)=>n(...a)};class rc extends Error{constructor(n,a="FunctionsError",r){super(n),this.name=a,this.context=r}}class mm extends rc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class pm extends rc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class gm extends rc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Ku;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Ku||(Ku={}));var iv=function(l,n,a,r){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(y){try{m(r.next(y))}catch(b){h(b)}}function p(y){try{m(r.throw(y))}catch(b){h(b)}}function m(y){y.done?c(y.value):o(y.value).then(d,p)}m((r=r.apply(l,n||[])).next())})};class rv{constructor(n,{headers:a={},customFetch:r,region:o=Ku.Any}={}){this.url=n,this.headers=a,this.region=o,this.fetch=av(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return iv(this,arguments,void 0,function*(a,r={}){var o;try{const{headers:c,method:h,body:d,signal:p}=r;let m={},{region:y}=r;y||(y=this.region);const b=new URL(`${this.url}/${a}`);y&&y!=="any"&&(m["x-region"]=y,b.searchParams.set("forceFunctionRegion",y));let _;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",_=d):typeof d=="string"?(m["Content-Type"]="text/plain",_=d):typeof FormData<"u"&&d instanceof FormData?_=d:(m["Content-Type"]="application/json",_=JSON.stringify(d)));const E=yield this.fetch(b.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:_,signal:p}).catch($=>{throw $.name==="AbortError"?$:new mm($)}),N=E.headers.get("x-relay-error");if(N&&N==="true")throw new pm(E);if(!E.ok)throw new gm(E);let B=((o=E.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),U;return B==="application/json"?U=yield E.json():B==="application/octet-stream"?U=yield E.blob():B==="text/event-stream"?U=E:B==="multipart/form-data"?U=yield E.formData():U=yield E.text(),{data:U,error:null,response:E}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new mm(c)}:{data:null,error:c,response:c instanceof gm||c instanceof pm?c.context:void 0}}})}}var et={},ma={},pa={},ga={},ya={},va={},lv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},ka=lv();const ov=ka.fetch,Ym=ka.fetch.bind(ka),Km=ka.Headers,uv=ka.Request,cv=ka.Response,Ca=Object.freeze(Object.defineProperty({__proto__:null,Headers:Km,Request:uv,Response:cv,default:Ym,fetch:ov},Symbol.toStringTag,{value:"Module"})),fv=Py(Ca);var sl={},ym;function Vm(){if(ym)return sl;ym=1,Object.defineProperty(sl,"__esModule",{value:!0});class l extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return sl.default=l,sl}var vm;function Xm(){if(vm)return va;vm=1;var l=va&&va.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(va,"__esModule",{value:!0});const n=l(fv),a=l(Vm());class r{constructor(c){var h,d;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(h=c.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=c.signal,this.isMaybeSingle=(d=c.isMaybeSingle)!==null&&d!==void 0?d:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,h){return this.headers=new Headers(this.headers),this.headers.set(c,h),this}then(c,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,b,_,E;let N=null,B=null,U=null,$=m.status,I=m.statusText;if(m.ok){if(this.method!=="HEAD"){const V=await m.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?B=V:B=JSON.parse(V))}const Y=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),G=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");Y&&G&&G.length>1&&(U=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(B)&&(B.length>1?(N={code:"PGRST116",details:`Results contain ${B.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},B=null,U=null,$=406,I="Not Acceptable"):B.length===1?B=B[0]:B=null)}else{const Y=await m.text();try{N=JSON.parse(Y),Array.isArray(N)&&m.status===404&&(B=[],N=null,$=200,I="OK")}catch{m.status===404&&Y===""?($=204,I="No Content"):N={message:Y}}if(N&&this.isMaybeSingle&&(!((E=N?.details)===null||E===void 0)&&E.includes("0 rows"))&&(N=null,$=200,I="OK"),N&&this.shouldThrowOnError)throw new a.default(N)}return{error:N,data:B,count:U,status:$,statusText:I}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,b,_;return{error:{message:`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,details:`${(b=m?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(_=m?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,h)}returns(){return this}overrideTypes(){return this}}return va.default=r,va}var bm;function Qm(){if(bm)return ya;bm=1;var l=ya&&ya.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ya,"__esModule",{value:!0});const n=l(Xm());class a extends n.default{select(o){let c=!1;const h=(o??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:h,foreignTable:d,referencedTable:p=d}={}){const m=p?`${p}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${o}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:h=c}={}){const d=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,c,{foreignTable:h,referencedTable:d=h}={}){const p=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(m,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:h=!1,buffers:d=!1,wal:p=!1,format:m="text"}={}){var y;const b=[o?"analyze":null,c?"verbose":null,h?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),_=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${_}"; options=${b};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return ya.default=a,ya}var _m;function lc(){if(_m)return ga;_m=1;var l=ga&&ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ga,"__esModule",{value:!0});const n=l(Qm());class a extends n.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const h=Array.from(new Set(c)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:h,type:d}={}){let p="";d==="plain"?p="pl":d==="phrase"?p="ph":d==="websearch"&&(p="w");const m=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${p}fts${m}.${c}`),this}match(o){return Object.entries(o).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(o,c,h){return this.url.searchParams.append(o,`not.${c}.${h}`),this}or(o,{foreignTable:c,referencedTable:h=c}={}){const d=h?`${h}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,c,h){return this.url.searchParams.append(o,`${c}.${h}`),this}}return ga.default=a,ga}var wm;function Fm(){if(wm)return pa;wm=1;var l=pa&&pa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pa,"__esModule",{value:!0});const n=l(lc());class a{constructor(o,{headers:c={},schema:h,fetch:d}){this.url=o,this.headers=new Headers(c),this.schema=h,this.fetch=d}select(o,c){const{head:h=!1,count:d}=c??{},p=h?"HEAD":"GET";let m=!1;const y=(o??"*").split("").map(b=>/\s/.test(b)&&!m?"":(b==='"'&&(m=!m),b)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:h=!0}={}){var d;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(m.length>0){const y=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:h=!1,count:d,defaultToNull:p=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((_,E)=>_.concat(Object.keys(E)),[]);if(b.length>0){const _=[...new Set(b)].map(E=>`"${E}"`);this.url.searchParams.set("columns",_.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:c}={}){var h;const d="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:o}={}){var c;const h="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return pa.default=a,pa}var Sm;function hv(){if(Sm)return ma;Sm=1;var l=ma&&ma.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ma,"__esModule",{value:!0});const n=l(Fm()),a=l(lc());class r{constructor(c,{headers:h={},schema:d,fetch:p}={}){this.url=c,this.headers=new Headers(h),this.schemaName=d,this.fetch=p}from(c){const h=new URL(`${this.url}/${c}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new r(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:d=!1,get:p=!1,count:m}={}){var y;let b;const _=new URL(`${this.url}/rpc/${c}`);let E;d||p?(b=d?"HEAD":"GET",Object.entries(h).filter(([B,U])=>U!==void 0).map(([B,U])=>[B,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([B,U])=>{_.searchParams.append(B,U)})):(b="POST",E=h);const N=new Headers(this.headers);return m&&N.set("Prefer",`count=${m}`),new a.default({method:b,url:_,headers:N,schema:this.schemaName,body:E,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return ma.default=r,ma}var Em;function dv(){if(Em)return et;Em=1;var l=et&&et.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(et,"__esModule",{value:!0}),et.PostgrestError=et.PostgrestBuilder=et.PostgrestTransformBuilder=et.PostgrestFilterBuilder=et.PostgrestQueryBuilder=et.PostgrestClient=void 0;const n=l(hv());et.PostgrestClient=n.default;const a=l(Fm());et.PostgrestQueryBuilder=a.default;const r=l(lc());et.PostgrestFilterBuilder=r.default;const o=l(Qm());et.PostgrestTransformBuilder=o.default;const c=l(Xm());et.PostgrestBuilder=c.default;const h=l(Vm());return et.PostgrestError=h.default,et.default={PostgrestClient:n.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:h.default},et}var mv=dv();const pv=Gy(mv),{PostgrestClient:gv,PostgrestQueryBuilder:S_,PostgrestFilterBuilder:E_,PostgrestTransformBuilder:A_,PostgrestBuilder:R_,PostgrestError:T_}=pv;class yv{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const r=a.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let a=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(a+=`

Suggested solution: ${n.workaround}`),new Error(a)}static createWebSocket(n,a){const r=this.getWebSocketConstructor();return new r(n,a)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const vv="2.75.0",bv=`realtime-js/${vv}`,_v="1.0.0",Vu=1e4,wv=1e3,Sv=100;var Bi;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Bi||(Bi={}));var Qe;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Qe||(Qe={}));var Kt;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Kt||(Kt={}));var Xu;(function(l){l.websocket="websocket"})(Xu||(Xu={}));var _s;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(_s||(_s={}));class Ev{constructor(){this.HEADER_LENGTH=1}decode(n,a){return n.constructor===ArrayBuffer?a(this._binaryDecode(n)):a(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const a=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,a,r)}_decodeBroadcast(n,a,r){const o=a.getUint8(1),c=a.getUint8(2);let h=this.HEADER_LENGTH+2;const d=r.decode(n.slice(h,h+o));h=h+o;const p=r.decode(n.slice(h,h+c));h=h+c;const m=JSON.parse(r.decode(n.slice(h,n.byteLength)));return{ref:null,topic:d,event:p,payload:m}}}class Zm{constructor(n,a){this.callback=n,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ke||(ke={}));const Am=(l,n,a={})=>{var r;const o=(r=a.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((c,h)=>(c[h]=Av(h,l,n,o),c),{}):{}},Av=(l,n,a,r)=>{const o=n.find(d=>d.name===l),c=o?.type,h=a[l];return c&&!r.includes(c)?Jm(c,h):Qu(h)},Jm=(l,n)=>{if(l.charAt(0)==="_"){const a=l.slice(1,l.length);return xv(n,a)}switch(l){case ke.bool:return Rv(n);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return Tv(n);case ke.json:case ke.jsonb:return Ov(n);case ke.timestamp:return kv(n);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Qu(n);default:return Qu(n)}},Qu=l=>l,Rv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Tv=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},Ov=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(n){return console.log(`JSON parse error: ${n}`),l}return l},xv=(l,n)=>{if(typeof l!="string")return l;const a=l.length-1,r=l[a];if(l[0]==="{"&&r==="}"){let c;const h=l.slice(1,a);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(d=>Jm(n,d))}return l},kv=l=>typeof l=="string"?l.replace(" ","T"):l,Wm=l=>{let n=l;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class zu{constructor(n,a,r={},o=Vu){this.channel=n,this.event=a,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,a){var r;return this._hasReceived(n)&&a((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:a}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(a))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Rm;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Rm||(Rm={}));class Ni{constructor(n,a){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:c,onLeave:h,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ni.syncState(this.state,o,c,h),this.pendingDiffs.forEach(p=>{this.state=Ni.syncDiff(this.state,p,c,h)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},o=>{const{onJoin:c,onLeave:h,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ni.syncDiff(this.state,o,c,h),d())}),this.onJoin((o,c,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:h})}),this.onLeave((o,c,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,a,r,o){const c=this.cloneDeep(n),h=this.transformState(a),d={},p={};return this.map(c,(m,y)=>{h[m]||(p[m]=y)}),this.map(h,(m,y)=>{const b=c[m];if(b){const _=y.map(U=>U.presence_ref),E=b.map(U=>U.presence_ref),N=y.filter(U=>E.indexOf(U.presence_ref)<0),B=b.filter(U=>_.indexOf(U.presence_ref)<0);N.length>0&&(d[m]=N),B.length>0&&(p[m]=B)}else d[m]=y}),this.syncDiff(c,{joins:d,leaves:p},r,o)}static syncDiff(n,a,r,o){const{joins:c,leaves:h}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(c,(d,p)=>{var m;const y=(m=n[d])!==null&&m!==void 0?m:[];if(n[d]=this.cloneDeep(p),y.length>0){const b=n[d].map(E=>E.presence_ref),_=y.filter(E=>b.indexOf(E.presence_ref)<0);n[d].unshift(..._)}r(d,y,p)}),this.map(h,(d,p)=>{let m=n[d];if(!m)return;const y=p.map(b=>b.presence_ref);m=m.filter(b=>y.indexOf(b.presence_ref)<0),n[d]=m,o(d,m,p),m.length===0&&delete n[d]}),n}static map(n,a){return Object.getOwnPropertyNames(n).map(r=>a(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((a,r)=>{const o=n[r];return"metas"in o?a[r]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):a[r]=o,a},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tm;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Tm||(Tm={}));var Ui;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Ui||(Ui={}));var _n;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class oc{constructor(n,a={config:{}},r){var o,c;if(this.topic=n,this.params=a,this.socket=r,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new zu(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new Zm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(h,d)=>{this._trigger(this._replyEventName(d),h)}),this.presence=new Ni(this),this.broadcastEndpointURL=Wm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,a=this.timeout){var r,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:h,presence:d,private:p}}=this.params,m=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Ui.PRESENCE]&&this.bindings[Ui.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},_={broadcast:h,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(E=>n?.(_n.CHANNEL_ERROR,E)),this._onClose(()=>n?.(_n.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:E})=>{var N;if(this.socket.setAuth(),E===void 0){n?.(_n.SUBSCRIBED);return}else{const B=this.bindings.postgres_changes,U=(N=B?.length)!==null&&N!==void 0?N:0,$=[];for(let I=0;I<U;I++){const q=B[I],{filter:{event:Y,schema:G,table:V,filter:F}}=q,oe=E&&E[I];if(oe&&oe.event===Y&&oe.schema===G&&oe.table===V&&oe.filter===F)$.push(Object.assign(Object.assign({},q),{id:oe.id}));else{this.unsubscribe(),this.state=Qe.errored,n?.(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,n&&n(_n.SUBSCRIBED);return}}).receive("error",E=>{this.state=Qe.errored,n?.(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n?.(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,a={}){return await this.send({type:"presence",event:"track",payload:n},a.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,a,r){return this.state===Qe.joined&&n===Ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,a,r)}async send(n,a={}){var r,o;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:h}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,d,p;const m=this._push(n.type,n,a.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(d=(h=this.params)===null||h===void 0?void 0:h.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Qe.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new zu(this,Kt.leave,{},n),r.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(n,a,r){const o=new AbortController,c=setTimeout(()=>o.abort(),r),h=await this.socket.fetch(n,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(c),h}_push(n,a,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new zu(this,n,a,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Sv){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(n,a,r){return a}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,a,r){var o,c;const h=n.toLocaleLowerCase(),{close:d,error:p,leave:m,join:y}=Kt;if(r&&[d,p,m,y].indexOf(h)>=0&&r!==this._joinRef())return;let _=this._onMessage(h,a,r);if(a&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var N,B,U;return((N=E.filter)===null||N===void 0?void 0:N.event)==="*"||((U=(B=E.filter)===null||B===void 0?void 0:B.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===h}).map(E=>E.callback(_,r)):(c=this.bindings[h])===null||c===void 0||c.filter(E=>{var N,B,U,$,I,q;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const Y=E.id,G=(N=E.filter)===null||N===void 0?void 0:N.event;return Y&&((B=a.ids)===null||B===void 0?void 0:B.includes(Y))&&(G==="*"||G?.toLocaleLowerCase()===((U=a.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const Y=(I=($=E?.filter)===null||$===void 0?void 0:$.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return Y==="*"||Y===((q=a?.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof _=="object"&&"ids"in _){const N=_.data,{schema:B,table:U,commit_timestamp:$,type:I,errors:q}=N;_=Object.assign(Object.assign({},{schema:B,table:U,commit_timestamp:$,eventType:I,new:{},old:{},errors:q}),this._getPayloadRecords(N))}E.callback(_,r)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,a,r){const o=n.toLocaleLowerCase(),c={type:o,filter:a,callback:r};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,a){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&oc.isEqual(o.filter,a))})),this}static isEqual(n,a){if(Object.keys(n).length!==Object.keys(a).length)return!1;for(const r in n)if(n[r]!==a[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Kt.close,{},n)}_onError(n){this._on(Kt.error,{},a=>n(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const a={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(a.new=Am(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(a.old=Am(n.columns,n.old_record)),a}}const Lu=()=>{},al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cv=[1e3,2e3,5e3,1e4],jv=1e4,Dv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bv{constructor(n,a){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vu,this.transport=null,this.heartbeatIntervalMs=al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lu,this.ref=0,this.reconnectTimer=null,this.logger=Lu,this.conn=null,this.sendBuffer=[],this.serializer=new Ev,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...h)=>qi(async()=>{const{default:d}=await Promise.resolve().then(()=>Ca);return{default:d}},void 0).then(({default:d})=>d(...h)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...h)=>c(...h)},!(!((r=a?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${n}/${Xu.websocket}`,this.httpEndpoint=Wm(n),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const a=n.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_v}))}disconnect(n,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},n?this.conn.close(n,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const a=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const n=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,a,r){this.logger(n,a,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bi.connecting:return _s.Connecting;case Bi.open:return _s.Open;case Bi.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,a={config:{}}){const r=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===r);if(o)return o;{const c=new oc(`realtime:${n}`,a,this);return this.channels.push(c),c}}push(n){const{topic:a,event:r,payload:o,ref:c}=n,h=()=>{this.encode(n,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${a} ${r} (${c})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(wv,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},al.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let a=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${n}"`),a.unsubscribe())}_remove(n){this.channels=this.channels.filter(a=>a.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:c,ref:h}=a,d=h?`(${h})`:"",p=c.status||"";this.log("receive",`${p} ${r} ${o} ${d}`.trim(),c),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(o,c,h)),this._triggerStateCallbacks("message",a)})}_clearTimer(n){var a;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var a;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Kt.error))}_appendParams(n,a){if(Object.keys(a).length===0)return n;const r=n.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${n}${r}${o}`}_workerObjectUrl(n){let a;if(n)a=n;else{const r=new Blob([Dv],{type:"application/javascript"});a=URL.createObjectURL(r)}return a}_setConnectionState(n,a=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(n=null){let a;n?a=n:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(r=>{const o={access_token:a,version:bv};a&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Kt.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${n}`,a)})}_triggerStateCallbacks(n,a){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(a)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Zm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var a,r,o,c,h,d,p,m,y;if(this.transport=(a=n?.transport)!==null&&a!==void 0?a:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:Vu,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:al.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(d=n?.heartbeatCallback)!==null&&d!==void 0?d:Lu,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(b=>Cv[b-1]||jv),this.encode=(m=n?.encode)!==null&&m!==void 0?m:((b,_)=>_(JSON.stringify(b))),this.decode=(y=n?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class uc extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ke(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class Nv extends uc{constructor(n,a,r){super(n),this.name="StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fu extends uc{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}}var Uv=function(l,n,a,r){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(y){try{m(r.next(y))}catch(b){h(b)}}function p(y){try{m(r.throw(y))}catch(b){h(b)}}function m(y){y.done?c(y.value):o(y.value).then(d,p)}m((r=r.apply(l,n||[])).next())})};const ep=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...a)=>qi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ca);return{default:r}},void 0).then(({default:r})=>r(...a)):n=fetch,(...a)=>n(...a)},Mv=()=>Uv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qi(()=>Promise.resolve().then(()=>Ca),void 0)).Response:Response}),Zu=l=>{if(Array.isArray(l))return l.map(a=>Zu(a));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([a,r])=>{const o=a.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=Zu(r)}),n},zv=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)};var xs=function(l,n,a,r){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(y){try{m(r.next(y))}catch(b){h(b)}}function p(y){try{m(r.throw(y))}catch(b){h(b)}}function m(y){y.done?c(y.value):o(y.value).then(d,p)}m((r=r.apply(l,n||[])).next())})};const qu=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Lv=(l,n,a)=>xs(void 0,void 0,void 0,function*(){const r=yield Mv();l instanceof r&&!a?.noResolveJson?l.json().then(o=>{const c=l.status||500,h=o?.statusCode||c+"";n(new Nv(qu(o),c,h))}).catch(o=>{n(new Fu(qu(o),o))}):n(new Fu(qu(l),l))}),qv=(l,n,a,r)=>{const o={method:l,headers:n?.headers||{}};return l==="GET"||!r?o:(zv(r)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(r)):o.body=r,n?.duplex&&(o.duplex=n.duplex),Object.assign(Object.assign({},o),a))};function Hi(l,n,a,r,o,c){return xs(this,void 0,void 0,function*(){return new Promise((h,d)=>{l(a,qv(n,r,o,c)).then(p=>{if(!p.ok)throw p;return r?.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>Lv(p,d,r))})})}function ul(l,n,a,r){return xs(this,void 0,void 0,function*(){return Hi(l,"GET",n,a,r)})}function en(l,n,a,r,o){return xs(this,void 0,void 0,function*(){return Hi(l,"POST",n,r,o,a)})}function Ju(l,n,a,r,o){return xs(this,void 0,void 0,function*(){return Hi(l,"PUT",n,r,o,a)})}function Hv(l,n,a,r){return xs(this,void 0,void 0,function*(){return Hi(l,"HEAD",n,Object.assign(Object.assign({},a),{noResolveJson:!0}),r)})}function tp(l,n,a,r,o){return xs(this,void 0,void 0,function*(){return Hi(l,"DELETE",n,r,o,a)})}var Iv=function(l,n,a,r){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(y){try{m(r.next(y))}catch(b){h(b)}}function p(y){try{m(r.throw(y))}catch(b){h(b)}}function m(y){y.done?c(y.value):o(y.value).then(d,p)}m((r=r.apply(l,n||[])).next())})};class $v{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a}then(n,a){return this.execute().then(n,a)}execute(){return Iv(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}}var Gv=function(l,n,a,r){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(y){try{m(r.next(y))}catch(b){h(b)}}function p(y){try{m(r.throw(y))}catch(b){h(b)}}function m(y){y.done?c(y.value):o(y.value).then(d,p)}m((r=r.apply(l,n||[])).next())})};class Pv{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a}asStream(){return new $v(this.downloadFn,this.shouldThrowOnError)}then(n,a){return this.execute().then(n,a)}execute(){return Gv(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}}var gt=function(l,n,a,r){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(y){try{m(r.next(y))}catch(b){h(b)}}function p(y){try{m(r.throw(y))}catch(b){h(b)}}function m(y){y.done?c(y.value):o(y.value).then(d,p)}m((r=r.apply(l,n||[])).next())})};const Yv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Om={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kv{constructor(n,a={},r,o){this.shouldThrowOnError=!1,this.url=n,this.headers=a,this.bucketId=r,this.fetch=ep(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,a,r,o){return gt(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},Om),o);let d=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",h.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=r,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType,p&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const m=this._removeEmptyFolders(a),y=this._getFinalPath(m),b=yield(n=="PUT"?Ju:en)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:d},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}})}upload(n,a,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,a,r)})}uploadToSignedUrl(n,a,r,o){return gt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),d=new URL(this.url+`/object/upload/sign/${h}`);d.searchParams.set("token",a);try{let p;const m=Object.assign({upsert:Om.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",m.cacheControl)):(p=r,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const b=yield Ju(this.fetch,d.toString(),p,{headers:y});return{data:{path:c,fullPath:b.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ke(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,a){return gt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const o=Object.assign({},this.headers);a?.upsert&&(o["x-upsert"]="true");const c=yield en(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),h=new URL(this.url+c.url),d=h.searchParams.get("token");if(!d)throw new uc("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}update(n,a,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,a,r)})}move(n,a,r){return gt(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}copy(n,a,r){return gt(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrl(n,a,r){return gt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),c=yield en(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrls(n,a,r){return gt(this,void 0,void 0,function*(){try{const o=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:n},{headers:this.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}download(n,a){const o=typeof a?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(a?.transform||{}),h=c?`?${c}`:"",d=this._getFinalPath(n),p=()=>ul(this.fetch,`${this.url}/${o}/${d}${h}`,{headers:this.headers,noResolveJson:!0});return new Pv(p,this.shouldThrowOnError)}info(n){return gt(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{const r=yield ul(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Zu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}exists(n){return gt(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{return yield Hv(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r)&&r instanceof Fu){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,a){const r=this._getFinalPath(n),o=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&o.push(c);const d=typeof a?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(a?.transform||{});p!==""&&o.push(p);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${m}`)}}}remove(n){return gt(this,void 0,void 0,function*(){try{return{data:yield tp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}list(n,a,r){return gt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Yv),a),{prefix:n||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}listV2(n,a){return gt(this,void 0,void 0,function*(){try{const r=Object.assign({},n);return{data:yield en(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}}const Vv="2.75.0",Xv={"X-Client-Info":`storage-js/${Vv}`};var ba=function(l,n,a,r){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(y){try{m(r.next(y))}catch(b){h(b)}}function p(y){try{m(r.throw(y))}catch(b){h(b)}}function m(y){y.done?c(y.value):o(y.value).then(d,p)}m((r=r.apply(l,n||[])).next())})};class Qv{constructor(n,a={},r,o){this.shouldThrowOnError=!1;const c=new URL(n);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xv),a),this.fetch=ep(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ba(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}getBucket(n){return ba(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}createBucket(n){return ba(this,arguments,void 0,function*(a,r={public:!1}){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}updateBucket(n,a){return ba(this,void 0,void 0,function*(){try{return{data:yield Ju(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}emptyBucket(n){return ba(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}deleteBucket(n){return ba(this,void 0,void 0,function*(){try{return{data:yield tp(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}}class Fv extends Qv{constructor(n,a={},r,o){super(n,a,r,o)}from(n){return new Kv(this.url,this.headers,n,this.fetch)}}const Zv="2.75.0";let ji="";typeof Deno<"u"?ji="deno":typeof document<"u"?ji="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ji="react-native":ji="node";const Jv={"X-Client-Info":`supabase-js-${ji}/${Zv}`},Wv={headers:Jv},e0={schema:"public"},t0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n0={};var s0=function(l,n,a,r){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(y){try{m(r.next(y))}catch(b){h(b)}}function p(y){try{m(r.throw(y))}catch(b){h(b)}}function m(y){y.done?c(y.value):o(y.value).then(d,p)}m((r=r.apply(l,n||[])).next())})};const a0=l=>{let n;return l?n=l:typeof fetch>"u"?n=Ym:n=fetch,(...a)=>n(...a)},i0=()=>typeof Headers>"u"?Km:Headers,r0=(l,n,a)=>{const r=a0(a),o=i0();return(c,h)=>s0(void 0,void 0,void 0,function*(){var d;const p=(d=yield n())!==null&&d!==void 0?d:l;let m=new o(h?.headers);return m.has("apikey")||m.set("apikey",l),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),r(c,Object.assign(Object.assign({},h),{headers:m}))})};var l0=function(l,n,a,r){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(y){try{m(r.next(y))}catch(b){h(b)}}function p(y){try{m(r.throw(y))}catch(b){h(b)}}function m(y){y.done?c(y.value):o(y.value).then(d,p)}m((r=r.apply(l,[])).next())})};function o0(l){return l.endsWith("/")?l:l+"/"}function u0(l,n){var a,r;const{db:o,auth:c,realtime:h,global:d}=l,{db:p,auth:m,realtime:y,global:b}=n,_={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},m),c),realtime:Object.assign(Object.assign({},y),h),storage:{},global:Object.assign(Object.assign(Object.assign({},b),d),{headers:Object.assign(Object.assign({},(a=b?.headers)!==null&&a!==void 0?a:{}),(r=d?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>l0(this,void 0,void 0,function*(){return""})};return l.accessToken?_.accessToken=l.accessToken:delete _.accessToken,_}function c0(l){const n=l?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(o0(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const np="2.75.0",Ra=30*1e3,Wu=3,Hu=Wu*Ra,f0="http://localhost:9999",h0="supabase.auth.token",d0={"X-Client-Info":`gotrue-js/${np}`},ec="X-Supabase-Api-Version",sp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},m0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p0=600*1e3;class Mi extends Error{constructor(n,a,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=r}}function J(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class g0 extends Mi{constructor(n,a,r){super(n,a,r),this.name="AuthApiError",this.status=a,this.code=r}}function y0(l){return J(l)&&l.name==="AuthApiError"}class ws extends Mi{constructor(n,a){super(n),this.name="AuthUnknownError",this.originalError=a}}class Jn extends Mi{constructor(n,a,r,o){super(n,r,o),this.name=a,this.status=r}}class Vn extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v0(l){return J(l)&&l.name==="AuthSessionMissingError"}class _a extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class il extends Jn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class rl extends Jn{constructor(n,a=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function b0(l){return J(l)&&l.name==="AuthImplicitGrantRedirectError"}class xm extends Jn{constructor(n,a=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tc extends Jn{constructor(n,a){super(n,"AuthRetryableFetchError",a,void 0)}}function Iu(l){return J(l)&&l.name==="AuthRetryableFetchError"}class km extends Jn{constructor(n,a,r){super(n,"AuthWeakPasswordError",a,"weak_password"),this.reasons=r}}class nc extends Jn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cm=` 	
\r=`.split(""),_0=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<Cm.length;n+=1)l[Cm[n].charCodeAt(0)]=-2;for(let n=0;n<cl.length;n+=1)l[cl[n].charCodeAt(0)]=n;return l})();function jm(l,n,a){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;a(cl[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;a(cl[r]),n.queuedBits-=6}}function ap(l,n,a){const r=_0[l];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)a(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Dm(l){const n=[],a=h=>{n.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=h=>{E0(h,r,a)};for(let h=0;h<l.length;h+=1)ap(l.charCodeAt(h),o,c);return n.join("")}function w0(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function S0(l,n){for(let a=0;a<l.length;a+=1){let r=l.charCodeAt(a);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(l.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}w0(r,n)}}function E0(l,n,a){if(n.utf8seq===0){if(l<=127){a(l);return}for(let r=1;r<6;r+=1)if((l>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&a(n.codepoint)}}function Oa(l){const n=[],a={queue:0,queuedBits:0},r=o=>{n.push(o)};for(let o=0;o<l.length;o+=1)ap(l.charCodeAt(o),a,r);return new Uint8Array(n)}function A0(l){const n=[];return S0(l,a=>n.push(a)),new Uint8Array(n)}function Ss(l){const n=[],a={queue:0,queuedBits:0},r=o=>{n.push(o)};return l.forEach(o=>jm(o,a,r)),jm(null,a,r),n.join("")}function R0(l){return Math.round(Date.now()/1e3)+l}function T0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const n=Math.random()*16|0;return(l=="x"?n:n&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",ys={tested:!1,writable:!1},ip=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ys.tested)return ys.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),ys.tested=!0,ys.writable=!0}catch{ys.tested=!0,ys.writable=!1}return ys.writable};function O0(l){const n={},a=new URL(l);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return a.searchParams.forEach((r,o)=>{n[o]=r}),n}const rp=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...a)=>qi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ca);return{default:r}},void 0).then(({default:r})=>r(...a)):n=fetch,(...a)=>n(...a)},x0=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Ta=async(l,n,a)=>{await l.setItem(n,JSON.stringify(a))},vs=async(l,n)=>{const a=await l.getItem(n);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Kn=async(l,n)=>{await l.removeItem(n)};class ml{constructor(){this.promise=new ml.promiseConstructor((n,a)=>{this.resolve=n,this.reject=a})}}ml.promiseConstructor=Promise;function $u(l){const n=l.split(".");if(n.length!==3)throw new nc("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!m0.test(n[r]))throw new nc("JWT not in base64url format");return{header:JSON.parse(Dm(n[0])),payload:JSON.parse(Dm(n[1])),signature:Oa(n[2]),raw:{header:n[0],payload:n[1]}}}async function k0(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function C0(l,n){return new Promise((r,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await l(c);if(!n(c,null,h)){r(h);return}}catch(h){if(!n(c,h)){o(h);return}}})()})}function j0(l){return("0"+l.toString(16)).substr(-2)}function D0(){const n=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=a.length;let o="";for(let c=0;c<56;c++)o+=a.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(n),Array.from(n,j0).join("")}async function B0(l){const a=new TextEncoder().encode(l),r=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(r);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function N0(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const a=await B0(l);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wa(l,n,a=!1){const r=D0();let o=r;a&&(o+="/PASSWORD_RECOVERY"),await Ta(l,`${n}-code-verifier`,o);const c=await N0(r);return[c,r===c?"plain":"s256"]}const U0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function M0(l){const n=l.headers.get(ec);if(!n||!n.match(U0))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function z0(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function L0(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sa(l){if(!q0.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gu(){const l={};return new Proxy(l,{get:(n,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bm(l){return JSON.parse(JSON.stringify(l))}var H0=function(l,n){var a={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&n.indexOf(r)<0&&(a[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(l);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(l,r[o])&&(a[r[o]]=l[r[o]]);return a};const bs=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),I0=[502,503,504];async function Nm(l){var n;if(!x0(l))throw new tc(bs(l),0);if(I0.includes(l.status))throw new tc(bs(l),l.status);let a;try{a=await l.json()}catch(c){throw new ws(bs(c),c)}let r;const o=M0(l);if(o&&o.getTime()>=sp["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?r=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(r=a.error_code),r){if(r==="weak_password")throw new km(bs(a),l.status,((n=a.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Vn}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new km(bs(a),l.status,a.weak_password.reasons);throw new g0(bs(a),l.status||500,r)}const $0=(l,n,a,r)=>{const o={method:l,headers:n?.headers||{}};return l==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),a))};async function ae(l,n,a,r){var o;const c=Object.assign({},r?.headers);c[ec]||(c[ec]=sp["2024-01-01"].name),r?.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const h=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(h.redirect_to=r.redirectTo);const d=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await G0(l,n,a+d,{headers:c,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function G0(l,n,a,r,o,c){const h=$0(n,r,o,c);let d;try{d=await l(a,Object.assign({},h))}catch(p){throw console.error(p),new tc(bs(p),0)}if(d.ok||await Nm(d),r?.noResolveJson)return d;try{return await d.json()}catch(p){await Nm(p)}}function Yt(l){var n;let a=null;K0(l)&&(a=Object.assign({},l),l.expires_at||(a.expires_at=R0(l.expires_in)));const r=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:a,user:r},error:null}}function Um(l){const n=Yt(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0)&&(n.data.weak_password=l.weak_password),n}function Xn(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function P0(l){return{data:l,error:null}}function Y0(l){const{action_link:n,email_otp:a,hashed_token:r,redirect_to:o,verification_type:c}=l,h=H0(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:a,hashed_token:r,redirect_to:o,verification_type:c},p=Object.assign({},h);return{data:{properties:d,user:p},error:null}}function Mm(l){return l}function K0(l){return l.access_token&&l.refresh_token&&l.expires_in}const Pu=["global","local","others"];var V0=function(l,n){var a={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&n.indexOf(r)<0&&(a[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(l);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(l,r[o])&&(a[r[o]]=l[r[o]]);return a};class X0{constructor({url:n="",headers:a={},fetch:r}){this.url=n,this.headers=a,this.fetch=rp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,a=Pu[0]){if(Pu.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pu.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,a={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Xn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:a}=n,r=V0(n,["options"]),o=Object.assign(Object.assign({},r),a);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Y0,redirectTo:a?.redirectTo})}catch(a){if(J(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Xn})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async listUsers(n){var a,r,o,c,h,d,p;try{const m={nextPage:null,lastPage:0,total:0},y=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=n?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Mm});if(y.error)throw y.error;const b=await y.json(),_=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(N=>{const B=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(N.split(";")[1].split("=")[1]);m[`${U}Page`]=B}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(J(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){Sa(n);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Xn})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async updateUserById(n,a){Sa(n);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:a,headers:this.headers,xform:Xn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,a=!1){Sa(n);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:a},xform:Xn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Sa(n.userId);try{const{data:a,error:r}=await ae(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:r}}catch(a){if(J(a))return{data:null,error:a};throw a}}async _deleteFactor(n){Sa(n.userId),Sa(n.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}}async _listOAuthClients(n){var a,r,o,c,h,d,p;try{const m={nextPage:null,lastPage:0,total:0},y=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=n?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Mm});if(y.error)throw y.error;const b=await y.json(),_=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(N=>{const B=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(N.split(";")[1].split("=")[1]);m[`${U}Page`]=B}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(J(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _getOAuthClient(n){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(n){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(J(a))return{data:null,error:a};throw a}}}function zm(l={}){return{getItem:n=>l[n]||null,setItem:(n,a)=>{l[n]=a},removeItem:n=>{delete l[n]}}}const Ea={debug:!!(globalThis&&ip()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lp extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Q0 extends lp{}async function F0(l,n,a){Ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Ea.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,o.name);try{return await a()}finally{Ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,o.name)}}else{if(n===0)throw Ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Q0(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Ea.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function Z0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function op(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function J0(l){return parseInt(l,16)}function W0(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function eb(l){var n;const{chainId:a,domain:r,expirationTime:o,issuedAt:c=new Date,nonce:h,notBefore:d,requestId:p,resources:m,scheme:y,uri:b,version:_}=l;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const E=op(l.address),N=y?`${y}://${r}`:r,B=l.statement?`${l.statement}
`:"",U=`${N} wants you to sign in with your Ethereum account:
${E}

${B}`;let $=`URI: ${b}
Version: ${_}
Chain ID: ${a}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(o&&($+=`
Expiration Time: ${o.toISOString()}`),d&&($+=`
Not Before: ${d.toISOString()}`),p&&($+=`
Request ID: ${p}`),m){let I=`
Resources:`;for(const q of m){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);I+=`
- ${q}`}$+=I}return`${U}
${$}`}class Ye extends Error{constructor({message:n,code:a,cause:r,name:o}){var c;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(c=o??(r instanceof Error?r.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=a}}class fl extends Ye{constructor(n,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:n}),this.name="WebAuthnUnknownError",this.originalError=a}}function tb({error:l,options:n}){var a,r,o;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((r=c.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Ye({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(cp(h)){if(c.rp.id!==h)return new Ye({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function nb({error:l,options:n}){const{publicKey:a}=n;if(!a)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Ye({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const r=window.location.hostname;if(cp(r)){if(a.rpId!==r)return new Ye({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}var up=function(l,n){var a={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&n.indexOf(r)<0&&(a[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(l);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(l,r[o])&&(a[r[o]]=l[r[o]]);return a};class sb{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const ab=new sb;function ib(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:a,excludeCredentials:r}=l,o=up(l,["challenge","user","excludeCredentials"]),c=Oa(n).buffer,h=Object.assign(Object.assign({},a),{id:Oa(a.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:c,user:h});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const m=r[p];d.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Oa(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function rb(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:a}=l,r=up(l,["challenge","allowCredentials"]),o=Oa(n).buffer,c=Object.assign(Object.assign({},r),{challenge:o});if(a&&a.length>0){c.allowCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const d=a[h];c.allowCredentials[h]=Object.assign(Object.assign({},d),{id:Oa(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function lb(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const a=l;return{id:l.id,rawId:l.id,response:{attestationObject:Ss(new Uint8Array(l.response.attestationObject)),clientDataJSON:Ss(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=a.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function ob(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const a=l,r=l.getClientExtensionResults(),o=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Ss(new Uint8Array(o.authenticatorData)),clientDataJSON:Ss(new Uint8Array(o.clientDataJSON)),signature:Ss(new Uint8Array(o.signature)),userHandle:o.userHandle?Ss(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=a.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function cp(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Lm(){var l,n;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function ub(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new fl("Browser returned unexpected credential type",n)}:{data:null,error:new fl("Empty credential response",n)}}catch(n){return{data:null,error:tb({error:n,options:l})}}}async function cb(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new fl("Browser returned unexpected credential type",n)}:{data:null,error:new fl("Empty credential response",n)}}catch(n){return{data:null,error:nb({error:n,options:l})}}}const fb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},hb={userVerification:"preferred",hints:["security-key"]};function hl(...l){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),a=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of l)if(o)for(const c in o){const h=o[c];if(h!==void 0)if(Array.isArray(h))r[c]=h;else if(a(h))r[c]=h;else if(n(h)){const d=r[c];n(d)?r[c]=hl(d,h):r[c]=hl(h)}else r[c]=h}return r}function db(l,n){return hl(fb,l,n||{})}function mb(l,n){return hl(hb,l,n||{})}class pb{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:a,friendlyName:r,signal:o},c){try{const{data:h,error:d}=await this.client.mfa.challenge({factorId:n,webauthn:a});if(!h)return{data:null,error:d};const p=o??ab.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:m}=h.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${r}`),m.displayName||(m.displayName=m.name)}switch(h.webauthn.type){case"create":{const m=db(h.webauthn.credential_options.publicKey,c?.create),{data:y,error:b}=await ub({publicKey:m,signal:p});return y?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const m=mb(h.webauthn.credential_options.publicKey,c?.request),{data:y,error:b}=await cb(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:m,signal:p}));return y?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(h){return J(h)?{data:null,error:h}:{data:null,error:new ws("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:a,webauthn:r}){return this.client.mfa.verify({factorId:a,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},c){if(!a)return{data:null,error:new Mi("rpId is required for WebAuthn authentication")};try{if(!Lm())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:h,error:d}=await this.challenge({factorId:n,webauthn:{rpId:a,rpOrigins:r},signal:o},{request:c});if(!h)return{data:null,error:d};const{webauthn:p}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:p.type,rpId:a,rpOrigins:r,credential_response:p.credential_response}})}catch(h){return J(h)?{data:null,error:h}:{data:null,error:new ws("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},c){if(!a)return{data:null,error:new Mi("rpId is required for WebAuthn registration")};try{if(!Lm())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:h,error:d}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:d};const{data:p,error:m}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:a,rpOrigins:r},signal:o},{create:c});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:a,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(h){return J(h)?{data:null,error:h}:{data:null,error:new ws("Unexpected error in register",h)}}}}Z0();const gb={url:f0,storageKey:h0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:d0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qm(l,n,a){return await a()}const Aa={};class zi{get jwks(){var n,a;return(a=(n=Aa[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(n){Aa[this.storageKey]=Object.assign(Object.assign({},Aa[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,a;return(a=(n=Aa[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Aa[this.storageKey]=Object.assign(Object.assign({},Aa[this.storageKey]),{cachedAt:n})}constructor(n){var a,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zi.nextInstanceID,zi.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},gb),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new X0({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=rp(o.fetch),this.lock=o.lock||qm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:xt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=F0:this.lock=qm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pb(this)},this.persistSession?(o.storage?this.storage=o.storage:ip()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zm(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=zm(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${np}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const a=O0(window.location.href);let r="none";if(this._isImplicitGrantCallback(a)?r="implicit":await this._isPKCECallback(a)&&(r="pkce"),xt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:c}=await this._getSessionFromURL(a,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),b0(c)){const p=(n=c.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",d),await this._saveSession(h),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return J(a)?{error:a}:{error:new ws("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var a,r,o;try{const c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(a=n?.options)===null||a===void 0?void 0:a.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Yt}),{data:h,error:d}=c;if(d||!h)return{data:{user:null,session:null},error:d};const p=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(c){if(J(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var a,r,o;try{let c;if("email"in n){const{email:y,password:b,options:_}=n;let E=null,N=null;this.flowType==="pkce"&&([E,N]=await wa(this.storage,this.storageKey)),c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:b,data:(a=_?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:E,code_challenge_method:N},xform:Yt})}else if("phone"in n){const{phone:y,password:b,options:_}=n;c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(r=_?.data)!==null&&r!==void 0?r:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Yt})}else throw new il("You must provide either an email or phone number and a password");const{data:h,error:d}=c;if(d||!h)return{data:{user:null,session:null},error:d};const p=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(c){if(J(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let a;if("email"in n){const{email:c,password:h,options:d}=n;a=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Um})}else if("phone"in n){const{phone:c,password:h,options:d}=n;a=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Um})}else throw new il("You must provide either an email or phone number and a password");const{data:r,error:o}=a;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _a}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(n){var a,r,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:a}=n;switch(a){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(n){var a,r,o,c,h,d,p,m,y,b,_;let E,N;if("message"in n)E=n.message,N=n.signature;else{const{chain:B,wallet:U,statement:$,options:I}=n;let q;if(xt())if(typeof U=="object")q=U;else{const ve=window;if("ethereum"in ve&&typeof ve.ethereum=="object"&&"request"in ve.ethereum&&typeof ve.ethereum.request=="function")q=ve.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=U}const Y=new URL((a=I?.url)!==null&&a!==void 0?a:window.location.href),G=await q.request({method:"eth_requestAccounts"}).then(ve=>ve).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=op(G[0]);let F=(r=I?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const ve=await q.request({method:"eth_chainId"});F=J0(ve)}const oe={domain:Y.host,address:V,statement:$,uri:Y.href,version:"1",chainId:F,nonce:(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(h=(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=I?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=I?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=I?.signInWithEthereum)===null||y===void 0?void 0:y.resources};E=eb(oe),N=await q.request({method:"personal_sign",params:[W0(E),V]})}try{const{data:B,error:U}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:N},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Yt});if(U)throw U;return!B||!B.session||!B.user?{data:{user:null,session:null},error:new _a}:(B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),{data:Object.assign({},B),error:U})}catch(B){if(J(B))return{data:{user:null,session:null},error:B};throw B}}async signInWithSolana(n){var a,r,o,c,h,d,p,m,y,b,_,E;let N,B;if("message"in n)N=n.message,B=n.signature;else{const{chain:U,wallet:$,statement:I,options:q}=n;let Y;if(xt())if(typeof $=="object")Y=$;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))Y=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=$}const G=new URL((a=q?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in Y&&Y.signIn){const V=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),I?{statement:I}:null));let F;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")F=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)F=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)N=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),B=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${G.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(o=(r=q?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=q?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((h=q?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((d=q?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((p=q?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((m=q?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((b=(y=q?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...q.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const V=await Y.signMessage(new TextEncoder().encode(N),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=V}}try{const{data:U,error:$}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Ss(B)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Yt});if($)throw $;return!U||!U.session||!U.user?{data:{user:null,session:null},error:new _a}:(U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),{data:Object.assign({},U),error:$})}catch(U){if(J(U))return{data:{user:null,session:null},error:U};throw U}}async _exchangeCodeForSession(n){const a=await vs(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(a??"").split("/");try{const{data:c,error:h}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:Yt});if(await Kn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new _a}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:h})}catch(c){if(J(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:a,provider:r,token:o,access_token:c,nonce:h}=n,d=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Yt}),{data:p,error:m}=d;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new _a}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(n){var a,r,o,c,h;try{if("email"in n){const{email:d,options:p}=n;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await wa(this.storage,this.storageKey));const{error:b}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in n){const{phone:d,options:p}=n,{data:m,error:y}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:y}}throw new il("You must provide either an email or phone number.")}catch(d){if(J(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(n){var a,r;try{let o,c;"options"in n&&(o=(a=n.options)===null||a===void 0?void 0:a.redirectTo,c=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:d}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Yt});if(d)throw d;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,m=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(n){var a,r,o;try{let c=null,h=null;return this.flowType==="pkce"&&([c,h]=await wa(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(a=n.options)===null||a===void 0?void 0:a.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:P0})}catch(c){if(J(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:a},error:r}=n;if(r)throw r;if(!a)throw new Vn;const{error:o}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:o}})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const a=`${this.url}/resend`;if("email"in n){const{email:r,type:o,options:c}=n,{error:h}=await ae(this.fetch,"POST",a,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:r,type:o,options:c}=n,{data:h,error:d}=await ae(this.fetch,"POST",a,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:d}}throw new il("You must provide either an email or phone number and a type")}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(n,a){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=a();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await n(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const a=await vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?n=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Hu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const h=await vs(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=Gu()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(p,m,y)=>(!h&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,y))})}return{data:{session:n},error:null}}const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Xn}):await this._useSession(async a=>{var r,o,c;const{data:h,error:d}=a;if(d)throw d;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vn}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Xn})})}catch(a){if(J(a))return v0(a)&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(n,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,a))}async _updateUser(n,a={}){try{return await this._useSession(async r=>{const{data:o,error:c}=r;if(c)throw c;if(!o.session)throw new Vn;const h=o.session;let d=null,p=null;this.flowType==="pkce"&&n.email!=null&&([d,p]=await wa(this.storage,this.storageKey));const{data:m,error:y}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:p}),jwt:h.access_token,xform:Xn});if(y)throw y;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Vn;const a=Date.now()/1e3;let r=a,o=!0,c=null;const{payload:h}=$u(n.access_token);if(h.exp&&(r=h.exp,o=r<=a),o){const{data:d,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!d)return{data:{user:null,session:null},error:null};c=d}else{const{data:d,error:p}=await this._getUser(n.access_token);if(p)throw p;c={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:r-a,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(a){if(J(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async a=>{var r;if(!n){const{data:h,error:d}=a;if(d)throw d;n=(r=h.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new Vn;const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(n,a){try{if(!xt())throw new rl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new rl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new xm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rl("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new xm("No code detected.");const{data:I,error:q}=await this._exchangeCodeForSession(n.code);if(q)throw q;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:c,refresh_token:h,expires_in:d,expires_at:p,token_type:m}=n;if(!c||!d||!h||!m)throw new rl("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(d);let _=y+b;p&&(_=parseInt(p));const E=_-y;E*1e3<=Ra&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${b}s`);const N=_-b;y-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,_,y):y-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,_,y);const{data:B,error:U}=await this._getUser(c);if(U)throw U;const $={provider_token:r,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:_,refresh_token:h,token_type:m,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:n.type},error:null}}catch(r){if(J(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const a=await vs(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&a)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async a=>{var r;const{data:o,error:c}=a;if(c)return{error:c};const h=(r=o.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:d}=await this.admin.signOut(h,n);if(d&&!(y0(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return n!=="others"&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const a=T0(),r={id:a,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async a=>{var r,o;try{const{data:{session:c},error:h}=a;if(h)throw h;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,a={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await wa(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(c){if(J(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:a,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(n=a.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var a;try{const{data:r,error:o}=await this._useSession(async c=>{var h,d,p,m,y;const{data:b,error:_}=c;if(_)throw _;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return xt()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:n.provider,url:r?.url},error:null}}catch(r){if(J(r))return{data:{provider:n.provider,url:null},error:r};throw r}}async linkIdentityIdToken(n){return await this._useSession(async a=>{var r;try{const{error:o,data:{session:c}}=a;if(o)throw o;const{options:h,provider:d,token:p,access_token:m,nonce:y}=n,b=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=c?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:p,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Yt}),{data:_,error:E}=b;return E?{data:{user:null,session:null},error:E}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new _a}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),{data:_,error:E})}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(n){try{return await this._useSession(async a=>{var r,o;const{data:c,error:h}=a;if(h)throw h;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _refreshAccessToken(n){const a=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{const r=Date.now();return await C0(async o=>(o>0&&await k0(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Yt})),(o,c)=>{const h=200*Math.pow(2,o);return c&&Iu(c)&&Date.now()+h-r<Ra})}catch(r){if(this._debug(a,"error",r),J(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(a,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,a){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",a,"url",r),xt()&&!a.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,a;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await vs(this.storage,this.storageKey);if(o&&this.userStorage){let h=await vs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await Ta(this.userStorage,this.storageKey+"-user",h)),o.user=(n=h?.user)!==null&&n!==void 0?n:Gu()}else if(o&&!o.user&&!o.user){const h=await vs(this.storage,this.storageKey+"-user");h&&h?.user?(o.user=h.user,await Kn(this.storage,this.storageKey+"-user"),await Ta(this.storage,this.storageKey,o)):o.user=Gu()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const c=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Hu;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${Hu}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),Iu(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:d}=await this._getUser(o.access_token);!d&&h?.user?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var a,r;if(!n)throw new Vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ml;const{data:c,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!c.session)throw new Vn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const d={data:c.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(c){if(this._debug(o,"error",c),J(c)){const h={data:null,error:c};return Iu(c)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,a,r=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",a,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:a});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,a)}catch(p){c.push(p)}});if(await Promise.all(h),c.length>0){for(let d=0;d<c.length;d+=1)console.error(c[d]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const a=Object.assign({},n),r=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&a.user&&await Ta(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const c=Bm(o);await Ta(this.storage,this.storageKey,c)}else{const o=Bm(a);await Ta(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Kn(this.storage,this.storageKey),await Kn(this.storage,this.storageKey+"-code-verifier"),await Kn(this.storage,this.storageKey+"-user"),this.userStorage&&await Kn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ra);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async a=>{const{data:{session:r}}=a;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-n)/Ra);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ra}ms, refresh threshold is ${Wu} ticks`),o<=Wu&&await this._callRefreshToken(r.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof lp)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const a=`#_onVisibilityChanged(${n})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,a,r){const o=[`provider=${encodeURIComponent(a)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,h]=await wa(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(d.toString())}if(r?.queryParams){const c=new URLSearchParams(r.queryParams);o.push(c.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async a=>{var r;const{data:o,error:c}=a;return c?{data:null,error:c}:await ae(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _enroll(n){try{return await this._useSession(async a=>{var r,o;const{data:c,error:h}=a;if(h)return{data:null,error:h};const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:m}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:o,error:c}=a;if(c)return{data:null,error:c};const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?lb(n.webauthn.credential_response):ob(n.webauthn.credential_response)})}:{code:n.code}),{data:d,error:p}=await ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:p})})}catch(a){if(J(a))return{data:null,error:a};throw a}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:o,error:c}=a;if(c)return{data:null,error:c};const h=await ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});if(h.error)return h;const{data:d}=h;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:ib(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:rb(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(J(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(n){const{data:a,error:r}=await this._challenge({factorId:n.factorId});return r?{data:null,error:r}:await this._verify({factorId:n.factorId,challengeId:a.id,code:n.code})}async _listFactors(){var n;const{data:{user:a},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=a?.factors)!==null&&n!==void 0?n:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var a,r;const{data:{session:o},error:c}=n;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=$u(o.access_token);let d=null;h.aal&&(d=h.aal);let p=d;((r=(a=o.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const y=h.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,a={keys:[]}){let r=a.keys.find(d=>d.kid===n);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(d=>d.kid===n),r&&this.jwks_cached_at+p0>o)return r;const{data:c,error:h}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,r=c.keys.find(d=>d.kid===n),!r)?null:r}async getClaims(n,a={}){try{let r=n;if(!r){const{data:E,error:N}=await this.getSession();if(N||!E.session)return{data:null,error:N};r=E.session.access_token}const{header:o,payload:c,signature:h,raw:{header:d,payload:p}}=$u(r);a?.allowExpired||z0(c.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!m){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:c,header:o,signature:h},error:null}}const y=L0(o.alg),b=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,h,A0(`${d}.${p}`)))throw new nc("Invalid JWT signature");return{data:{claims:c,header:o,signature:h},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}zi.nextInstanceID=0;const yb=zi;class vb extends yb{constructor(n){super(n)}}var bb=function(l,n,a,r){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(y){try{m(r.next(y))}catch(b){h(b)}}function p(y){try{m(r.throw(y))}catch(b){h(b)}}function m(y){y.done?c(y.value):o(y.value).then(d,p)}m((r=r.apply(l,[])).next())})};class _b{constructor(n,a,r){var o,c,h;this.supabaseUrl=n,this.supabaseKey=a;const d=c0(n);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:e0,realtime:n0,auth:Object.assign(Object.assign({},t0),{storageKey:p}),global:Wv},y=u0(r??{},m);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=y.auth)!==null&&h!==void 0?h:{},this.headers,y.global.fetch),this.fetch=r0(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new gv(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Fv(this.storageUrl.href,this.headers,this.fetch,r?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new rv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,a,r)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return bb(this,void 0,void 0,function*(){var n,a;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(a=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:o,userStorage:c,storageKey:h,flowType:d,lock:p,debug:m},y,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vb({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),y),storageKey:h,autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:o,userStorage:c,flowType:d,lock:p,debug:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Bv(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,r)=>{this._handleTokenChanged(a,"CLIENT",r?.access_token)})}_handleTokenChanged(n,a,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wb=(l,n,a)=>new _b(l,n,a);function Sb(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const n=l.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Sb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Oe,Be=(Oe=class{static getSize(n){if(n==null)return 0;switch(typeof n){case"object":if(Array.isArray(n))return n.reduce((a,r)=>a+Oe.getSize(r),0);if("size"in n)return n.size;if("length"in n)return n.length;if("_tag"in n)switch(n._tag){case"Byte":return 1;case"Word":return 2}break;case"number":return n<=255?1:n<=65535?2:n<=16777215?3:4;case"string":if(!n.length)return 0;switch(n[0]){case"@":return 3;case"*":case"&":return 2;case"^":return 1}switch(n){case"Byte":return 1;case"Word":return 2;case"Offset":return 2;case"Address":return 3}return n.length}return 0}},Oe.PAGE_SIZE=32768,Oe.SNES_HEADER_SIZE=80,Oe.DICTIONARIES=["dictionary_01EBA8","dictionary_01F54D"],Oe.DICT_COMMANDS=[214,215],Oe.END_CHARS=[192,202,209],Oe.WHITESPACE=[" ","	"],Oe.OPERATORS=["-","+"],Oe.COMMA_SPACE=[","," ","	"],Oe.ADDRESS_SPACE=["@","&","^","#","$","%","*"],Oe.SYMBOL_SPACE=[","," ","	","<",">","(",")",":","[","]","{","}","`","~","|"],Oe.LABEL_SPACE=["[","{","#","`","~","|",":"],Oe.OBJECT_SPACE=["<","["],Oe.COP_SPLIT_CHARS=[" ","	",",","(",")","[","]","$","#"],Oe.WHITESPACE_REGEX=/[ \t]/,Oe.COMMA_SPACE_REGEX=/[, \t]/,Oe.SYMBOL_SPACE_REGEX=/[, \t<>()\:\[\]{}`~|]/,Oe.LABEL_SPACE_REGEX=/[\[{#`~|:]/,Oe.OBJECT_SPACE_REGEX=/[<\[]/,Oe.ADDRESS_SPACE_REGEX=/[@&^#$%*]/,Oe.COP_SPLIT_REGEX=/[ \t,()[\]$#]/,Oe.COMMA_SPACE_TRIM_REGEX=/^[, \t]+|[, \t]+$/g,Oe),Ge,kt=(Ge=class{},Ge.REF_SEARCH_MAX_RANGE=416,Ge.BANK_MASK_CHECK=64,Ge.BYTE_DELIMITER_THRESHOLD=256,Ge.BANK_HIGH_MEMORY_1=126,Ge.BANK_HIGH_MEMORY_2=127,Ge.POINTER_CHARACTERS=["&","@"],Ge.WIDE_STRING_TYPE="WideString",Ge.BINARY_TYPE="Binary",Ge.CODE_TYPE="Code",Ge.LOCATION_FORMAT="loc_{0:X6}",Ge.TYPE_NAME_FORMAT="{0}_{1:X6}",Ge.OFFSET_FORMAT="+{0:X}",Ge.MARKER_FORMAT="+M",Ge.NEGATIVE_OFFSET_FORMAT="-{0:X}",Ge.NEGATIVE_MARKER_FORMAT="-M",Ge),Ce=(l=>(l.Unknown="Unknown",l.Bank="Bank",l.Offset="Offset",l.Address="Address",l.WBank="WBank",l.Relative="Relative",l))(Ce||{}),ja=(l=>(l.None="None",l.ROM="ROM",l.WRAM="WRAM",l.SRAM="SRAM",l.System="System",l))(ja||{}),tn,Ct=(tn=class{constructor(n,a){this.bank=n&255,this.offset=a&65535}get isROM(){return this.space==="ROM"}get isCodeBank(){return(this.bank&tn.DATA_BANK_FLAG)===0}get space(){return this.isCodeBank?this.offset>=Be.PAGE_SIZE?"ROM":this.offset>=24576&&(this.bank&32)!==0?"SRAM":this.offset<8192?"WRAM":this.offset<8448?"None":this.offset<8704?"System":this.offset<12288?"None":this.offset<16640?"System":this.offset<16896?"None":this.offset<17664?"System":"None":this.bank===126||this.bank===127?"WRAM":"ROM"}toInt(){return(this.bank&63)<<16|this.offset}toString(){return(this.bank<<16|this.offset).toString(16).toUpperCase().padStart(6,"0")}static fromInt(n){return new tn(n>>16&255,n&65535)}static typeFromCode(n){switch(n){case"^":return"Bank";case"&":return"Offset";case"@":return"Address";case"*":return"WBank";default:return"Unknown"}}static codeFromType(n){switch(n){case"Bank":return"^";case"Offset":return"&";case"Address":return"@";case"WBank":return"*";default:return null}}},tn.UPPER_BANK=32768,tn.DATA_BANK_FLAG=64,tn.FAST_BANK_FLAG=128,tn),de=(l=>(l.Byte="Byte",l.Word="Word",l.Offset="Offset",l.Address="Address",l.Binary="Binary",l.Code="Code",l))(de||{}),ll=(l=>(l.M="M",l.X="X",l.B="B",l))(ll||{}),Es=(l=>(l[l.Carry=1]="Carry",l[l.Zero=2]="Zero",l[l.IrqDisable=4]="IrqDisable",l[l.DecimalMode=8]="DecimalMode",l[l.IndexMode=16]="IndexMode",l[l.AccumulatorMode=32]="AccumulatorMode",l[l.Overflow=64]="Overflow",l[l.Negative=128]="Negative",l))(Es||{}),Ue=(l=>(l.Bitmap="Bitmap",l.Tilemap="Tilemap",l.Tileset="Tileset",l.Palette="Palette",l.Sound="Sound",l.Music="Music",l.Unknown="Unknown",l.Meta17="Meta17",l.Spritemap="Spritemap",l.Assembly="Assembly",l.Patch="Patch",l.Transform="Transform",l))(Ue||{}),sc=class{constructor(l,n,a){this.code=l,this.mnem=n,this.mode=a}},As=class extends sc{constructor(l,n=0,a=[],r=1){super(l.code,l.mnem,l.mode),this.code=l.code,this.location=n,this.operands=a,this.size=r}},dl=class{constructor(l=0,n=0,a=!1,r,o,c){this.label=r,this.location=l,this.size=n,this.isString=a,this.objList=[],this.structName=o,this.bank=c,this.includes=new Set}},Hm=class{static isInside(l,n){return n>=l.location&&n<l.location+l.size}static isOutside(l,n){return n<l.location||n>=l.location+l.size}},nn,Im=(nn=class{constructor(n,a=0){this.bitFlag=128,this.writeSample=0,this.data=n,this.position=a}get dataArray(){return this.data}get currentPosition(){return this.position}set currentPosition(n){this.position=n}readByte(){if(this.position>=this.data.length)return-1;let n=this.data[this.position++];if(this.bitFlag!==128){n=n<<8|this.data[this.position];for(let a=this.bitFlag;a>0;a>>=1)n>>=1}return n&255}readShort(){return this.position+1>=this.data.length?-1:this.data[this.position++]|this.data[this.position++]<<8}readBit(){if(this.position>=this.data.length)return!1;const n=this.data[this.position]&this.bitFlag;return this.bitFlag>>=1,this.bitFlag===0&&(this.bitFlag=128,this.position++),n!==0}readNibble(){if(this.position>=this.data.length)return-1;let n=this.data[this.position];if(this.bitFlag===nn.NIBBLE_PERFECT_POSITION)this.bitFlag=128,this.position++;else{let a=-4;for(;this.bitFlag!==0;)this.bitFlag>>=1,a++;a<0&&(n=n<<8|this.data[++this.position],a+=8),n>>=a,this.bitFlag=1<<a-1}return n&nn.NIBBLE_MASK}writeBit(n){n&&(this.writeSample|=this.bitFlag),this.bitFlag>>=1,this.bitFlag===0&&(this.bitFlag=128,this.data[this.position++]=this.writeSample,this.writeSample=0)}writeByte(n){if(this.bitFlag===128)this.data[this.position++]=n;else{for(let a=1;a<=this.bitFlag;a<<=1)n<<=1;this.data[this.position++]=(this.writeSample|n>>8)&255,this.writeSample=n&255}}writeNibble(n){if(n&=nn.NIBBLE_MASK,this.bitFlag>=16){let a=0;switch(this.bitFlag){case 128:a=4;break;case 64:a=3;break;case 32:a=2;break;case 16:a=1;break}this.writeSample|=n<<a,this.bitFlag>>=4}else{let a=0;switch(this.bitFlag){case 8:a=0;break;case 4:a=1;break;case 2:a=2;break;case 1:a=3;break}this.data[this.position++]=this.writeSample|n>>a,this.writeSample=n<<8-a,this.bitFlag<<=4}}flush(){this.bitFlag!==128&&(this.data[this.position++]=this.writeSample)}},nn.NIBBLE_MASK=15,nn.NIBBLE_PERFECT_POSITION=8,nn),xa,fp=(xa=class{static register(n,a){this.providers.set(n,a)}static get(n){const a=this.providers.get(n);if(!a)throw new Error(`No compression provider registered for type: ${n}`);return a()}static has(n){return this.providers.has(n)}static getRegisteredIds(){return Array.from(this.providers.keys())}static clear(){this.providers.clear()}},xa.providers=new Map,xa),Eb=["Bitmap","Tilemap","Tileset","Spritemap","Meta17"];function Ab(l){return Eb.includes(l)}var Li=class{constructor(l,n,a,r){this.name=l,this.size=n,this.location=a,this.type=r,this.mnemonics={},this.compressed=Ab(r)?!1:void 0}};function Rb(l,n,a){const r=new Li(a.name,a.end-a.start,a.start,a.type);return r.id=a.id,r.compressed=a.compressed,r.upper=a.upper,Ob(l,r,n,a),r}function Tb(l){const n=new Li(l.name,0,0,"Assembly");return n.id=l.id,n.group=l.group,xb(n,l),n}function $m(l,n,a,r,o){let c=a+(r?r.length:0);o==="Palette"&&a<512&&(c+=512-a);const h=new Uint8Array(c);let d=0;return r&&(h.set(r,d),d+=r.length),h.set(l.slice(n,n+a),d),d+=a,o==="Palette"&&a<512&&h.fill(0,d,d+(512-a)),h}function Ob(l,n,a,r){let o=r.start,c=null;r.type==="Tilemap"?c=new Uint8Array([l[o++],l[o++]]):r.type==="Meta17"&&(c=new Uint8Array([l[o++],l[o++],l[o++],l[o++]]));let h=r.end-o,d;if(r.compressed===!0){const p=a.expand(l,o,h);d=$m(p,0,p.length,c,r.type)}else r.compressed!==void 0&&(o+=2,h-=2),d=$m(l,o,h,c,r.type);n.rawData=d,n.size=d.length}function xb(l,n){if(l.parts=[],l.size=0,!n.parts?.length)throw new Error(`Block ${n.name} has no parts`);l.location=n.parts[0].start,l.bank=n.movable?void 0:l.location>>16,l.transforms=n.transforms,l.postProcess=n.postProcess;for(const a of n.parts){const r=new dl(a.start,a.size,!1,a.name,a.struct||void 0,a.bank);l.size+=r.size,l.parts.push(r)}}var Zn=class{static rebase(l,n){if(n!==void 0&&(l.location=n),!l.parts)return;let a=l.location;for(let r=0;r<l.parts.length;r++){const o=l.parts[r];if(r>0&&!o.label)break;o.location=a,a+=o.size||0}}static calculateSize(l){if(!l.parts)return(typeof l.compressed=="boolean"||l.type=="Sound")&&(l.size+=2),l.size;let n=0;for(let a=0;a<l.parts.length;a++){const r=l.parts[a];if(a>0&&!r.label)break;n+=r.size||0}return l.size=n,n}static isOutsideWithPart(l,n,a){const[r,o]=this.isInsideWithPart(n,a);if(r)return[!1,n,o];for(const c of l)if(c!==n){const[h,d]=this.isInsideWithPart(c,a);if(h)return[!0,c,d]}return[!0,null,null]}static isInsideWithPart(l,n){for(const a of l?.parts||[])if(Hm.isInside(a,n))return[!0,a];return[!1,null]}static isOutside(l,n){return!this.isInside(l,n)}static isInside(l,n){for(const a of l?.parts||[])if(Hm.isInside(a,n))return!0;return!1}static getIncludes(l){if(!l.parts)return[];const n=[],a=new Set;for(const r of l.parts)if(r?.includes)for(const o of r.includes)a.has(o.block)||(n.push(o.block),a.add(o.block));return n}},Rs=class{constructor(l,n){this.location=l,this.type=n}};function kb(l,n){return{location:l,object:n}}var Qn=class{constructor(l,n){this.value=l,this.size=n}},yt=class extends Qn{constructor(l){super(l&255,1)}},Vt=class extends Qn{constructor(l){super(l&65535,2)}},ac=class extends Qn{constructor(l){super(l&16777215,3)}},Yu=null;function Cb(){return wb("https://adwobxutnpmjbmhdxrzx.supabase.co","sb_publishable_uBZdKmgGql5sDNGpj1DVMQ_opZ2V4kV",{auth:{persistSession:!1,autoRefreshToken:!1},db:{schema:"public"}})}function Ii(){return Yu||(Yu=Cb()),Yu}function jb(l){const n=l.includes(",")?l.split(",")[1]:l;try{if(typeof atob<"u"){const a=atob(n),r=new Uint8Array(a.length);for(let o=0;o<a.length;o++)r[o]=a.charCodeAt(o);return r}if(typeof Buffer<"u")return new Uint8Array(Buffer.from(n,"base64"));throw new Error("No base64 decoding method available")}catch(a){throw new Error(`Failed to decode base64 data: ${a instanceof Error?a.message:"Unknown error"}`)}}function Db(l){try{let n=l.replace(/\\x/g,"").replace(/\s/g,"");if(n.length%2!==0)throw new Error("Hex string must have even length");const a=new Uint8Array(n.length/2);for(let r=0;r<n.length;r+=2){const o=n.substring(r,r+2),c=parseInt(o,16);if(isNaN(c))throw new Error(`Invalid hex character at position ${r}: ${o}`);a[r/2]=c}return a}catch(n){throw new Error(`Failed to decode hex data: ${n instanceof Error?n.message:"Unknown error"}`)}}function Bb(l){return l.startsWith("\\x")?Db(l):jb(l)}var tt=class extends Error{constructor(l,n,a){super(l),this.code=n,this.details=a,this.name="SupabaseFromError"}};async function Nb(l){try{const n=Ii(),{data:a,error:r}=await n.from("BaseRomBranchFile").select("*,file:BaseRomFile!inner(*)").eq("branchId",l);if(r)throw new tt(`Failed to load BaseRomFiles: ${r.message}`,"FILES_NOT_FOUND",{baseRomBranchId:l,error:r});if(!a||a.length===0)throw new tt(`No BaseRomFiles found for baseRomBranchId: ${l}`,"FILES_NOT_FOUND",{baseRomBranchId:l});return await hp(a.map(c=>c.file))}catch(n){throw n instanceof tt?n:new tt(`Failed to load and convert BaseRomFiles: ${n instanceof Error?n.message:"Unknown error"}`,"NETWORK_ERROR",{baseRomBranchId:l,error:n})}}async function hp(l){return l.map(n=>{try{return{...n,data:n.data?Bb(n.data):void 0}}catch(a){throw new tt(`Failed to convert data for file ${n.name}: ${a instanceof Error?a.message:"Unknown error"}`,"INVALID_DATA",{file:n,error:a})}})}async function Ub(l){try{const n=Ii(),{data:a,error:r}=await n.from("ProjectBranchFile").select("*,file:ProjectFile!inner(*)").eq("branchId",l);if(r)throw new tt(`Failed to load ProjectFiles: ${r.message}`,"FILES_NOT_FOUND",{projectBranchId:l,error:r});if(!a||a.length===0)throw new tt(`No ProjectFiles found for projectBranchId: ${l}`,"FILES_NOT_FOUND",{projectBranchId:l});return await hp(a.map(c=>c.file))}catch(n){throw n instanceof tt?n:new tt(`Failed to load and convert ProjectFiles: ${n instanceof Error?n.message:"Unknown error"}`,"NETWORK_ERROR",{projectBranchId:l,error:n})}}async function Mb(l,n){const a=performance.now();let r=0,o=0;if(!l&&!n)throw new Error("Project name or branch ID are required");try{const c=Ii(),h=performance.now();let d=c.from("ProjectBranch").select(`
        id,
        name,
        version,
        isActive,
        notes,
        projectId,
        baseRomBranchId,
        modules,
        createdAt,
        updatedAt,
        project:Project!inner(
          id,
          name,
          meta,
          gameId,
          baseRomId,
          createdAt,
          updatedAt
        ),
        baseRomBranch:BaseRomBranch!inner(
          id,
          name,
          version,
          isActive,
          notes,
          baseRomId,
          gameRomBranchId,
          createdAt,
          updatedAt,
          baseRom:BaseRom!inner(
            id,
            name,
            gameId,
            gameRomId,
            createdAt,
            updatedAt
          ),
          gameRomBranch:GameRomBranch!inner(
            id,
            name,
            version,
            isActive,
            notes,
            gameRomId,
            platformBranchId,
            config,
            coplib,
            files,
            blocks,
            fixups,
            strings,
            structs,
            createdAt,
            updatedAt,
            gameRom:GameRom!inner(
              id,
              crc,
              gameId,
              regionId,
              createdAt,
              updatedAt,
              game:Game!inner(
                id,
                name,
                createdAt,
                updatedAt
              ),
              region:Region!inner(
                id,
                name,
                meta,
                platformId,
                createdAt,
                updatedAt
              )
            ),
            platformBranch:PlatformBranch!inner(
              id,
              name,
              version,
              isActive,
              notes,
              platformId,
              addressingModes,
              instructionSet,
              vectors,
              types,
              createdAt,
              updatedAt,
              platform:Platform!inner(
                id,
                name,
                meta,
                createdAt,
                updatedAt
              )
            )
          )
        )
      `);l&&(d=d.eq("project.name",l)),n?d=d.eq("id",n):d=d.eq("isActive",!0);const{data:p,error:m}=await d.single();if(r=performance.now()-h,m||!p)throw new tt(`ProjectBranch not found for criteria: projectName="${l}"`,"BRANCH_NOT_FOUND",{projectName:l,error:m});const y=p.baseRomBranch,b=await Ub(p.id),_=await Nb(y.id);o=performance.now()-h-r;const E={projectBranch:p,projectFiles:b,baseRomBranch:y,baseRomFiles:_},N=performance.now()-a,B={branchQueryTime:r,fileQueryTime:o,totalTime:N,fileCount:b.length};return console.log("Project ROM load stats:",B),E}catch(c){throw c instanceof tt?c:new tt(`Failed to load Project data: ${c instanceof Error?c.message:"Unknown error"}`,"NETWORK_ERROR",{projectName:l,error:c})}}async function zb(l,n,a,r){const o=performance.now();let c=0,h=0;if(!l&&!n&&!a)throw new Error("Game name, region name, and platform name are required");try{const d=Ii(),p=performance.now();let m=d.from("GameRomBranch").select(`
        id,
        name,
        version,
        isActive,
        notes,
        gameRomId,
        platformBranchId,
        coplib,
        config,
        files,
        blocks,
        fixups,
        strings,
        structs,
        createdAt,
        updatedAt,
        gameRom:GameRom!inner(
          id,
          crc,
          meta,
          gameId,
          regionId,
          createdAt,
          updatedAt,
          game:Game!inner(
            id,
            name,
            createdAt,
            updatedAt
          ),
          region:Region!inner(
            id,
            name,
            meta,
            platformId,
            createdAt,
            updatedAt
          )
        ),
        platformBranch:PlatformBranch!inner(
          id,
          name,
          version,
          isActive,
          platformId,
          addressingModes,
          instructionSet,
          vectors,
          types,
          createdAt,
          updatedAt,
          platform:Platform!inner(
            id,
            name,
            meta,
            createdAt,
            updatedAt
          )
        )
      `);l&&(m=m.eq("gameRom.game.name",l)),n&&(m=m.eq("gameRom.region.name",n)),r||(m=m.eq("isActive",!0));const{data:y,error:b}=await m.single();if(c=performance.now()-p,b||!y)throw new tt(`GameRomBranch not found for criteria: gameName="${l}", regionName="${n}", platformName="${a}"`,"BRANCH_NOT_FOUND",{gameName:l,regionName:n,platformName:a,error:b});const _=y,E={id:"",name:null,version:null,baseRomId:"",gameRomBranchId:_.id,gameRomBranch:_,baseRom:{id:"",name:"",gameId:"",gameRomId:"",createdAt:"",updatedAt:""},createdAt:"",updatedAt:""},U={projectBranch:{id:"",name:null,version:null,projectId:"",baseRomBranchId:"",modules:[],project:{id:"",name:"",meta:null,gameId:"",baseRomId:"",createdAt:"",updatedAt:""},baseRomBranch:E,createdAt:"",updatedAt:""},projectFiles:[],baseRomBranch:E,baseRomFiles:[]};h=performance.now()-p-c;const $=performance.now()-o;return console.log("Game ROM load stats:",{branchQueryTime:c,fileQueryTime:h,totalTime:$,fileCount:0}),U}catch(d){throw d instanceof tt?d:new tt(`Failed to load GameRomBranch data: ${d instanceof Error?d.message:"Unknown error"}`,"NETWORK_ERROR",{gameName:l,regionName:n,platformName:a,error:d})}}async function dp(l){const n=performance.now();let a=0,r=0;if(!l)throw new Error("Project name or branch ID are required");try{const o=Ii(),c=performance.now();let h=o.from("ProjectBranch").select(`
        id,
        name,
        version,
        isActive,
        notes,
        projectId,
        baseRomBranchId,
        modules,
        createdAt,
        updatedAt,
        project:Project!inner(
          id,
          name,
          meta,
          gameId,
          baseRomId,
          createdAt,
          updatedAt
        ),
        baseRomBranch:BaseRomBranch!inner(
          id,
          name,
          version,
          isActive,
          notes,
          baseRomId,
          gameRomBranchId,
          createdAt,
          updatedAt,
          baseRom:BaseRom!inner(
            id,
            name,
            gameId,
            gameRomId,
            createdAt,
            updatedAt
          ),
          gameRomBranch:GameRomBranch!inner(
            id,
            name,
            version,
            isActive,
            notes,
            gameRomId,
            platformBranchId,
            createdAt,
            updatedAt,
            gameRom:GameRom!inner(
              id,
              crc,
              gameId,
              regionId,
              createdAt,
              updatedAt,
              game:Game!inner(
                id,
                name,
                createdAt,
                updatedAt
              ),
              region:Region!inner(
                id,
                name,
                meta,
                platformId,
                createdAt,
                updatedAt
              )
            ),
            platformBranch:PlatformBranch!inner(
              id,
              name,
              version,
              isActive,
              notes,
              platformId,
              createdAt,
              updatedAt,
              platform:Platform!inner(
                id,
                name,
                meta,
                createdAt,
                updatedAt
              )
            )
          )
        )
      `);h=h.eq("project.name",l),h=h.eq("isActive",!0);const{data:d,error:p}=await h.single();if(a=performance.now()-c,p||!d)throw new tt(`ProjectBranch not found for criteria: projectName="${l}"`,"BRANCH_NOT_FOUND",{projectName:l,error:p});const m=d;r=performance.now()-c-a;const y=m,b=performance.now()-n;return console.log("Project ROM load stats:",{branchQueryTime:a,fileQueryTime:r,totalTime:b,fileCount:0}),y}catch(o){throw o instanceof tt?o:new tt(`Failed to load Project data: ${o instanceof Error?o.message:"Unknown error"}`,"NETWORK_ERROR",{projectName:l,error:o})}}var Lb=class{static async fromSupabaseProject(l,n){const a=await Mb(l,n);return this.fromSupabasePayload(a)}static async fromSupabaseGameRom(l,n){const a=await zb(l,n);return this.fromSupabasePayload(a)}static async fromSupabasePayload(l){const n=l.baseRomBranch.gameRomBranch,a=n.config,r=n.coplib,o=n.files,c=n.blocks,h=n.strings,d=n.structs,p=n.fixups,m=n.platformBranch,y=m.instructionSet,b=m.addressingModes,_=p.transforms||[],E=fp.get(a.compression||"QuintetLZ"),N=Object.entries(o).map(T=>{const D=T[1];return D.start=D.location,D.end=D.location+D.size,D.name=T[0],D}),B=Object.entries(c).map(T=>{const D=T[1];D.name=T[0];const X=_[D.name];return D.transforms=X?Object.entries(X).map(ue=>({key:ue[0],value:ue[1]})):[],D.parts=Object.entries(D.parts).sort((ue,S)=>{const H=ue[1].order??0,P=S[1].order??0;return H!==P?H-P:ue[1].location-S[1].location}).map(ue=>{const S=ue[1];return S.name=ue[0],S.start=S.location,S.end=S.location+S.size,S.struct=S.type,S}),D}).sort((T,D)=>T.parts[0].location-D.parts[0].location),U=l.baseRomFiles&&l.baseRomFiles.map(T=>{const D=new Li(T.name,0,0,T.type);return T.isText?(D.textData=T.text??void 0,D.size=T.text?.length??0):(D.rawData=T.data,D.size=T.data?.length??0),D}),$=l.projectFiles&&l.projectFiles.map(T=>{const D=new Li(T.name,0,0,T.type);return D.group=T.module??void 0,T.isText?(D.textData=T.text??void 0,D.size=T.text?.length??0):(D.rawData=T.data,D.size=T.data?.length??0),D}),I=p.mnemonics||{},q=this.extractOpCodesFromInstructionSet(y),Y=p.overrides||{},G=p.rewrites||{},V=p.labels||{},F=d||{},oe=Array.isArray(a.entryPoints)?a.entryPoints:[],ve=Object.entries(h).reduce((T,D)=>{const X=D[1];X.name=D[0];const ue=Object.entries(X.commands).reduce((S,H)=>{const P=H[1];return S[P.code]={key:P.code,value:H[0],types:P.types,delimiter:P.delimiter,halt:P.halt},S},{});return X.commands=ue,T[X.name]=X,T},{}),ut=Object.entries(r).reduce((T,D)=>{const X=D[1];return X.mnem=D[0],X.size=Be.getSize(X.parts),T[D[0]]=X,T},{}),me=Object.values(r).reduce((T,D)=>(T[D.code]=D,T),{}),ie=Object.entries(y).reduce((T,D)=>(T[D[0]]=Object.entries(D[1]).map(X=>new sc(X[1],D[0],X[0])),T),{}),It=Object.values(ve).map(T=>T?.delimiter).filter(Boolean),sn=Object.values(ve).reduce((T,D)=>(D?.delimiter&&(T[D.delimiter]=D),T),{}),Me={mnemonics:Object.entries(I).reduce((T,D)=>(T[D[1]]=D[0],T),{}),overrides:Array.isArray(Y)?Y.reduce((T,D)=>(T[D.location]=D,T),{}):Y,rewrites:Array.isArray(G)?G.reduce((T,D)=>(T[D.location]=D.value,T),{}):G,labels:Array.isArray(V)?V.reduce((T,D)=>(T[D.location]=D.label,T),{}):V,structs:Object.entries(F).reduce((T,D)=>{const X=D[1];return X.name=D[0],T[D[0]]=X,T},{}),blocks:B,files:N,copDef:me,copLookup:ut,baseRomFiles:U,projectFiles:$,config:a,opCodes:q,opLookup:ie,addrLookup:b,entryPoints:oe,stringTypes:ve,stringDelimiters:It,stringCharLookup:sn,compression:E};return console.log(" Successfully transformed Supabase payload to DbRoot"),console.log(` Files: ${N.length},  Blocks: ${B.length}`),console.log(` ROM: ${l.baseRomBranch.baseRom.name} (${l.baseRomBranch.name||"main"})`),console.log(` BaseRom files: ${Me?.baseRomFiles?.length} files, ${Me.baseRomFiles?.reduce((T,D)=>T+D.size,0)} bytes total`),console.log(` Project files: ${Me?.projectFiles?.length} files, ${Me.projectFiles?.reduce((T,D)=>T+D.size,0)} bytes total`),Me}static extractOpCodesFromInstructionSet(l){const n=[];for(const a in l)for(const r in l[a]){const o=l[a][r];n[o]=new sc(o,a,r)}return n}};typeof process<"u"&&process.versions?.node;var qb=79764919;function Hb(l){var n=0;for(let a=0;a<32;a++)n=n<<1,n=n|l>>>a&1;return n}var Ib=Hb(qb);function $b(){var l=new Array,n,a,r;for(n=0;n<256;n++){for(r=n,a=8;a>0;a--)(r&1)==1?r=r>>>1^Ib:r=r>>>1;l[n]=r}return l}function Gb(){return 4294967295}function Pb(l,n,a){return n=n>>>8^l[a^n&255],n}function Yb(l){return l=~l,l=l<0?4294967295+l+1:l,l&4294967295}function mp(l){var n=$b(),a=Gb();for(let r=0;r<l.length;r++)a=Pb(n,a,l[r]);return a=Yb(a),a}typeof process<"u"&&process.versions?.node;function Kb(){const[l,n]=Se.useState(null),[a,r]=Se.useState(!0),[o,c]=Se.useState(null),h="Illusion of Gaia: Retranslated",d=async()=>{try{r(!0),c(null);const p=await dp(h);n(p)}catch(p){c(p instanceof Error?p.message:"Failed to fetch project data"),n(null)}finally{r(!1)}};return Se.useEffect(()=>{d()},[]),{projectData:l,loading:a,error:o,refetch:d}}function Vb({modules:l}){return!l||!Array.isArray(l)?A.jsxs("div",{className:"module-selector",children:[A.jsx("h2",{children:"Module Selection"}),A.jsx("p",{className:"error-message",children:"No modules available for selection"})]}):A.jsxs("div",{className:"module-selector",children:[A.jsx("h2",{children:"Module Selection"}),A.jsx("p",{className:"selector-description",children:"Choose your preferred options for each module group. Each group allows exactly one selection."}),A.jsx("form",{children:A.jsx("div",{className:"groups-container",children:l.map((n,a)=>{if(n.groups&&Array.isArray(n.groups))return A.jsxs("div",{className:"module-category",children:[A.jsx("h3",{className:"category-title",children:n.name}),A.jsx("div",{className:"nested-groups",children:n.groups.map((r,o)=>{const c=r.name||`${n.name}-${o}`;return!r.options||!Array.isArray(r.options)?A.jsxs("div",{className:"module-group",children:[A.jsx("h4",{className:"group-title",children:r.name||`Subgroup ${o+1}`}),A.jsx("p",{className:"error-message",children:"No options available for this group"})]},c):(r.options.find(h=>h.default)||r.options[0],A.jsxs("div",{className:"module-group",children:[A.jsx("h4",{className:"group-title",children:r.name}),A.jsx("div",{className:"options-container",children:r.options.map((h,d)=>{const p=h.module;return A.jsxs("label",{className:"option-label",children:[A.jsx("input",{type:"radio",name:c,value:p??void 0,defaultChecked:h.default,className:"option-radio"}),A.jsxs("span",{className:"option-content",children:[A.jsx("span",{className:"option-name",children:h.name}),h.description&&A.jsx("span",{className:"option-description",children:h.description})]})]},`${c}-${h.id||d}`)})})]},c))})})]},n.name||`group-${a}`)})})})]})}function Xb({expectedCrc:l,onFileValidated:n,onValidationError:a}){const[r,o]=Se.useState(null),[c,h]=Se.useState(null),[d,p]=Se.useState(!1),m=Se.useRef(null),y=async N=>{try{const B=await N.arrayBuffer(),U=new Uint8Array(B),$=mp(U);if(l!==void 0){const I=$===l;return{isValid:I,expectedCrc:l,actualCrc:$,error:I?void 0:`CRC mismatch. Expected: ${l}, Got: ${$}`}}else return{isValid:!0,expectedCrc:$,actualCrc:$}}catch(B){return{isValid:!1,expectedCrc:l||0,error:`Failed to read ROM file: ${B instanceof Error?B.message:"Unknown error"}`}}},b=async N=>{const B=N.target.files?.[0];if(!B){o(null),h(null);return}o(B),p(!0),h(null);try{const U=await y(B);if(h(U),U.isValid){const $=await B.arrayBuffer(),I=new Uint8Array($);n(B,I)}else a(U.error||"ROM validation failed")}catch(U){const $=`Validation error: ${U instanceof Error?U.message:"Unknown error"}`;h({isValid:!1,expectedCrc:l||0,error:$}),a($)}finally{p(!1)}},_=()=>{o(null),h(null),m.current&&(m.current.value="")},E=()=>{m.current?.click()};return A.jsxs("div",{className:"rom-file-picker",children:[A.jsx("h3",{children:"Select ROM File"}),A.jsxs("p",{className:"picker-description",children:["Choose your original Illusion of Gaia ROM file (.smc, .sfc, or .bin format).",l&&` The file will be validated against CRC32: ${l}`]}),A.jsxs("div",{className:"file-input-container",children:[A.jsx("input",{ref:m,type:"file",accept:".smc,.sfc,.bin",onChange:b,className:"file-input",id:"rom-file-input"}),A.jsx("button",{onClick:E,className:"file-input-label",children:r?r.name:"Choose ROM File..."}),r&&A.jsx("button",{onClick:_,className:"clear-button",children:"Clear"})]}),d&&A.jsxs("div",{className:"validation-status validating",children:[A.jsx("span",{className:"status-icon",children:""}),"Validating ROM file..."]}),c&&!d&&A.jsxs("div",{className:`validation-status ${c.isValid?"valid":"invalid"}`,children:[A.jsx("span",{className:"status-icon",children:c.isValid?"":""}),A.jsx("div",{className:"status-content",children:c.isValid?A.jsxs("div",{children:[A.jsx("div",{className:"status-message",children:"ROM file is valid!"}),A.jsxs("div",{className:"crc-info",children:["CRC32: ",c.actualCrc]})]}):A.jsxs("div",{children:[A.jsx("div",{className:"status-message",children:"ROM validation failed"}),A.jsx("div",{className:"error-message",children:c.error}),c.actualCrc&&A.jsxs("div",{className:"crc-info",children:["Expected: ",c.expectedCrc,", Got: ",c.actualCrc]})]})})]}),r&&c?.isValid&&A.jsxs("div",{className:"file-info",children:[A.jsx("h4",{children:"File Information"}),A.jsxs("div",{className:"info-grid",children:[A.jsx("span",{children:"Name:"})," ",A.jsx("span",{children:r.name}),A.jsx("span",{children:"Size:"})," ",A.jsxs("span",{children:[(r.size/1024/1024).toFixed(2)," MB"]}),A.jsx("span",{children:"Type:"})," ",A.jsx("span",{children:r.type||"Unknown"}),A.jsx("span",{children:"CRC32:"})," ",A.jsx("span",{children:c.actualCrc})]})]})]})}var Qb=class{constructor(){this.accumulatorFlags=new Map,this.indexFlags=new Map,this.bankNotes=new Map,this.stackPositions=new Map}hydrateRegisters(l,n){const a=this.accumulatorFlags.get(l);a!==void 0&&(n.accumulatorFlag=a??void 0);const r=this.indexFlags.get(l);r!==void 0&&(n.indexFlag=r??void 0);const o=this.bankNotes.get(l);o!==void 0&&(n.dataBank=o??void 0);const c=this.stackPositions.get(l);c!==void 0&&(n.stack.location=c)}getAccumulatorFlag(l){return this.accumulatorFlags.get(l)}setAccumulatorFlag(l,n){this.accumulatorFlags.set(l,n)}tryAddAccumulatorFlag(l,n){return this.accumulatorFlags.has(l)?!1:(this.accumulatorFlags.set(l,n),!0)}getIndexFlag(l){return this.indexFlags.get(l)}setIndexFlag(l,n){this.indexFlags.set(l,n)}tryAddIndexFlag(l,n){return this.indexFlags.has(l)?!1:(this.indexFlags.set(l,n),!0)}getBankNote(l){return this.bankNotes.get(l)}setBankNote(l,n){this.bankNotes.set(l,n)}getStackPosition(l){return this.stackPositions.get(l)}setStackPosition(l,n){this.stackPositions.set(l,n)}tryAddStackPosition(l,n){return this.stackPositions.has(l)?!1:(this.stackPositions.set(l,n),!0)}},Fb=class{constructor(l){if(!l)throw new Error("romData cannot be null");this.romData=l,this.position=0}readByte(){return this.romData[this.position++]}readSByte(){const l=this.readByte();return l>127?l-256:l}readUShort(){return this.readByte()|this.readByte()<<8}readShort(){const l=this.readUShort();return l>32767?l-65536:l}readAddress(){return this.readByte()|this.readByte()<<8|this.readByte()<<16}readInt(){return this.readByte()|this.readByte()<<8|this.readByte()<<16|this.readByte()<<24}peekByte(){return this.romData[this.position]}peekShort(){return this.romData[this.position]|this.romData[this.position+1]<<8}peekAddress(){return this.romData[this.position]|this.romData[this.position+1]<<8|this.romData[this.position+2]<<16}},Zb=class{constructor(l){if(this.structTable=new Map,this.markerTable=new Map,this.nameTable=new Map,!l)throw new Error("root cannot be null");this.root=l}tryGetStruct(l){const n=this.structTable.get(l);return{found:n!==void 0,chunkType:n}}tryAddStruct(l,n){return this.structTable.has(l)?!1:(this.structTable.set(l,n),!0)}containsStruct(l){return this.structTable.has(l)}tryGetName(l){const n=this.nameTable.get(l);return{found:n!==void 0,referenceName:n}}tryAddName(l,n){return this.nameTable.has(l)?!1:(this.nameTable.set(l,n),!0)}tryGetMarker(l){const n=this.markerTable.get(l);return{found:n!==void 0,offset:n}}setMarker(l,n){this.markerTable.set(l,n)}createBranchLabel(l){const n=`loc_${l.toString(16).toUpperCase().padStart(6,"0")}`;return this.nameTable.set(l,n),n}createTypeName(l,n){let a=l.toLowerCase();for(;a.length>0&&kt.POINTER_CHARACTERS.includes(a[0]);)a=a.substring(1)+"_list";return`${a}_${n.toString(16).toUpperCase().padStart(6,"0")}`}createFallbackName(l){const n=this.root.files.find(a=>a.start<=l&&a.end>l);if(n){const a=l-n.start;return n.name+(a!==0?`+${a.toString(16).toUpperCase()}`:"")}return l.toString(16).toUpperCase().padStart(6,"0")}findLocationByName(l){for(const[n,a]of this.nameTable)if(a===l)return n}resolveName(l,n,a){const r=Ct.codeFromType(n);let o,c=null,h=l;const d=this.root.rewrites[l];if(d!==void 0){const m=this.processRewrite(l,d);h=m.location,c=m.label}const p=this.nameTable.get(h);return p?o=p:o=a?this.createBranchLabel(h):this.findClosestReference(h)||this.createFallbackName(h),`${r||""}${o}${c||""}`}findClosestReference(l){let n=kt.REF_SEARCH_MAX_RANGE,a=null,r=null;for(const[o,c]of this.nameTable){if(o>l)continue;const h=l-o;if(!(h>=n)&&(n=h,a=c,r=o,n===1))break}return this.processClosestMatch(l,a,r,n)}processRewrite(l,n){const a=l-n,r=a<0?"-":"+",o=Math.abs(a);let c=null;return this.structTable.get(n)===kt.WIDE_STRING_TYPE?(this.markerTable.set(n,o),this.markerTable.set(l,o),c=r==="-"?kt.NEGATIVE_MARKER_FORMAT:kt.MARKER_FORMAT):c=(r==="-"?kt.NEGATIVE_OFFSET_FORMAT:kt.OFFSET_FORMAT).replace("{0:X}",o.toString(16).toUpperCase()),{location:n,label:c}}processClosestMatch(l,n,a,r){if(!n||a===null)return null;let o=n;return this.structTable.get(a)===kt.WIDE_STRING_TYPE?(this.markerTable.set(a,r),this.markerTable.set(l,r),o+=kt.MARKER_FORMAT):o+=`+${r.toString(16).toUpperCase()}`,o}},Jb=class{constructor(l,n){this._registers=l,this._blockReader=n}handleStackOperation(l){switch(l){case"PHD":this._registers.stack.push(this._registers.direct??0);break;case"PLD":this._registers.direct=this._registers.stack.popUInt16();break;case"PHK":this._registers.stack.push(this._blockReader._romDataReader.position>>16|128);break;case"PHB":this._registers.stack.push(this._registers.dataBank??129);break;case"PLB":this._registers.dataBank=this._registers.stack.popByte();break;case"PHP":this._registers.stack.push(this._registers.statusFlags);break;case"PLP":this._registers.statusFlags=this._registers.stack.popByte();break;case"PHA":this.handleAccumulatorPush();break;case"PLA":this.handleAccumulatorPull();break;case"PHX":this.handleXIndexPush();break;case"PLX":this.handleXIndexPull();break;case"PHY":this.handleYIndexPush();break;case"PLY":this.handleYIndexPull();break;case"XBA":this.handleExchangeBytes();break}}handleAccumulatorPush(){this._registers.accumulatorFlag===!0?this._registers.stack.push((this._registers.accumulator??0)&255):this._registers.stack.pushUInt16(this._registers.accumulator??0)}handleAccumulatorPull(){this._registers.accumulatorFlag===!0?this._registers.accumulator=(this._registers.accumulator??0)&65280|this._registers.stack.popByte():this._registers.accumulator=this._registers.stack.popUInt16()}handleXIndexPush(){this._registers.indexFlag===!0?this._registers.stack.push((this._registers.xIndex??0)&255):this._registers.stack.pushUInt16(this._registers.xIndex??0)}handleXIndexPull(){this._registers.indexFlag===!0?this._registers.xIndex=(this._registers.xIndex??0)&65280|this._registers.stack.popByte():this._registers.xIndex=this._registers.stack.popUInt16()}handleYIndexPush(){this._registers.indexFlag===!0?this._registers.stack.push((this._registers.yIndex??0)&255):this._registers.stack.pushUInt16(this._registers.yIndex??0)}handleYIndexPull(){this._registers.indexFlag===!0?this._registers.yIndex=(this._registers.yIndex??0)&65280|this._registers.stack.popByte():this._registers.yIndex=this._registers.stack.popUInt16()}handleExchangeBytes(){const l=this._registers.accumulator??0;this._registers.accumulator=(l>>8|l<<8)&65535}},Wb=class{constructor(l){this._blockReader=l,this._romDataReader=l._romDataReader}parseCopCommand(l,n){for(const a of l.parts){const r=Ct.typeFromCode(a[0]),o=r!==Ce.Unknown,c=o?a.substring(1):this._blockReader._currentAsmBlock.structName??"Binary",h=o?r.toString():a,d=this.tryParseMemberType(h);if(d===null)throw new Error("Cannot use structs in cop def");const p=this._blockReader._root.labels[this._romDataReader.position];p?(this._romDataReader.position+=this.getMemberTypeSize(d),n.push(p)):n.push(this.readMemberTypeValue(d,a,o,c,r))}}tryParseMemberType(l){const n=l.toUpperCase();for(const[a,r]of Object.entries(de))if(a.toUpperCase()===n)return r;return null}getMemberTypeSize(l){switch(l){case de.Byte:return 1;case de.Word:case de.Offset:return 2;case de.Address:return 3;default:throw new Error("Unsupported COP member type")}}readMemberTypeValue(l,n,a,r,o){switch(l){case de.Byte:return new yt(this._romDataReader.readByte());case de.Word:return new Vt(this._romDataReader.readUShort());case de.Offset:return this.createCopLocation(this._romDataReader.readUShort(),null,n,a,r,o);case de.Address:return this.createCopLocation(this._romDataReader.readUShort(),this._romDataReader.readByte(),n,a,r,o);default:throw new Error("Unsupported COP member type")}}createCopLocation(l,n,a,r,o,c){if(n===null&&l===0)return new Vt(l);const h=new Ct(n??this._romDataReader.position>>16,l);if(h.space===ja.ROM){const d=h.toInt();return a!=="Address"&&r&&!this._blockReader._root.rewrites[d]&&this._blockReader.noteType(d,o,!0),c===Ce.Unknown&&(c=this.tryParseAddressType(a)??Ce.Unknown),new Rs(d,c)}return h}tryParseAddressType(l){const n=l.toUpperCase();for(const[a,r]of Object.entries(Ce))if(a.toUpperCase()===n)return r;return null}},e_=class{constructor(){this.size=0,this.nextAddress=0,this.xForm1=null,this.xForm2=null,this.copDef=null}},t_=class{constructor(l,n){this._blockReader=l,this._transformProcessor=n,this._copProcessor=new Wb(l),this._dataReader=l._romDataReader}processAddressingMode(l,n,a){const r=[];switch(l.mode){case"Stack":case"Implied":case"Accumulator":this.handleStackOrImpliedMode(l.mnem,a);break;case"Immediate":this.handleImmediateMode(l.mnem,n.size,r,a);break;case"AbsoluteIndexedIndirect":this.handleAbsoluteMode(l.mnem,void 0,n.nextAddress,a.dataBank,r,a,!0);break;case"AbsoluteIndirect":case"AbsoluteIndirectLong":case"Absolute":case"AbsoluteIndexedX":case"AbsoluteIndexedY":this.handleAbsoluteMode(l.mnem,void 0,n.nextAddress,a.dataBank,r,a);break;case"AbsoluteLong":case"AbsoluteLongIndexedX":this.handleAbsoluteLongMode(l.mnem,r,a);break;case"BlockMove":this.handleBlockMoveMode(r,n);break;case"DirectPage":case"DirectPageIndexedIndirectX":case"DirectPageIndexedX":case"DirectPageIndexedY":case"DirectPageIndirect":case"DirectPageIndirectIndexedY":case"DirectPageIndirectLong":case"DirectPageIndirectLongIndexedY":this.handleDirectPageMode(r);break;case"PCRelative":this.handlePCRelativeMode(r,n.nextAddress,a,!1);break;case"PCRelativeLong":this.handlePCRelativeMode(r,n.nextAddress,a,!0);break;case"StackRelative":case"StackRelativeIndirectIndexedY":this.handleStackRelativeMode(r);break;case"StackInterrupt":this.handleStackInterruptMode(l.mnem,r,n);break;default:throw new Error(`Unknown addressing mode: ${l}`)}return r}handleImmediateMode(l,n,a,r){const o=this.readImmediateOperand(n);a.push(o),this.updateRegisterForImmediateInstruction(l,o,r)}readImmediateOperand(l){return l===3?new Vt(this._dataReader.readUShort()):new yt(this._dataReader.readByte())}updateRegisterForImmediateInstruction(l,n,a){const r=typeof n=="number"?n:n.value;switch(l){case"LDA":a.accumulator=this.calculateRegisterValue(a.accumulator,r);break;case"LDX":a.xIndex=this.calculateRegisterValue(a.xIndex,r);break;case"LDY":a.yIndex=this.calculateRegisterValue(a.yIndex,r);break;case"SEP":case"REP":this.updateStatusFlags(l,r);break}}calculateRegisterValue(l,n){return n>255?n:(l??0)&65280|n}updateStatusFlags(l,n){const a=n,r=l==="SEP";a&Es.AccumulatorMode&&this._blockReader.AccumulatorFlags.set(this._dataReader.position,r),a&Es.IndexMode&&this._blockReader.IndexFlags.set(this._dataReader.position,r)}handleAbsoluteLongMode(l,n,a){const r=this._dataReader.readUShort(),o=this._dataReader.readByte(),c=new Ct(o,r);if(c.space===ja.ROM){const h=new Rs(c.toInt(),Ce.Address);this.isJumpInstruction(l)&&this._blockReader.noteType(h.location,"Code",!1,a),n.push(h)}else n.push(c)}handleBlockMoveMode(l,n){l.push(new yt(this._dataReader.readByte())),n.xForm2=this._transformProcessor.getTransform(),l.push(new yt(this._dataReader.readByte()))}handleDirectPageMode(l){l.push(new yt(this._dataReader.readByte()))}handlePCRelativeMode(l,n,a,r){const o=r?n+this._dataReader.readShort():n+this._dataReader.readSByte();this._blockReader.noteType(o,"Code",void 0,a),l.push(new Rs(o,Ce.Relative))}handleStackRelativeMode(l){l.push(new yt(this._dataReader.readByte()))}handleStackInterruptMode(l,n,a){const r=this._dataReader.readByte();if(n.push(new yt(r)),l==="COP"){const o=this._blockReader._root.copDef[r];if(!o)throw new Error("Unknown COP command");a.copDef=o,this._copProcessor.parseCopCommand(o,n)}}handleStackOrImpliedMode(l,n){new Jb(n,this._blockReader).handleStackOperation(l)}handleAbsoluteMode(l,n,a,r,o,c,h=!1){let d=this._dataReader.readUShort();const p=this.isPushInstruction(l);p&&d++;const m=p||h||this.isJumpInstruction(l),y=n??(m?this._dataReader.position>>16:r??129),b=new Ct(y,d);if(b.isROM){const _=new Rs(b.toInt(),Ce.Offset);if(m){const E=h?"&Code":"Code",N=this._blockReader.noteType(_.location,E,p,c);if(p){o.push(`&${N}-1`);return}}o.push(_)}else o.push(b)}isJumpInstruction(l){return l[0]==="J"}isPushInstruction(l){return l[0]==="P"}},Ts,n_=(Ts=class{constructor(n){this._blockReader=n,this._romDataReader=n._romDataReader,this._referenceManager=n._referenceManager,this._labelLookup=n._root.labels}getTransform(){const n=this._labelLookup[this._romDataReader.position];if(n==="")return n;if(!n)return null;const a=this.cleanTransformName(n),r=this.resolveTransformReference(a);return r!==null&&this._blockReader.resolveInclude(r,!1),n}applyTransforms(n,a,r){this.applyTransform(n,0,r),this.applyTransform(a,1,r)}applyTransform(n,a,r){n==null||a>=r.length||(n===""?this.applyDefaultTransform(a,r):r[a]=n)}applyDefaultTransform(n,a){let r=this._romDataReader.position&16711680;const o=a[n];o&&"value"in o?r|=o.value:r|=o;const c=this._referenceManager.tryGetName(r);let h;c.found?h=c.referenceName:(h=`loc_${r.toString(16).toUpperCase().padStart(6,"0")}`,this._referenceManager.tryAddName(r,h)),this._blockReader.resolveInclude(r,!1),a[n]=`&${h}`}cleanTransformName(n){let a=n;for(;a.length>0&&Be.ADDRESS_SPACE.includes(a[0]);)a=a.substring(1);let r=-1;for(let o=0;o<a.length;o++)if(Be.OPERATORS.includes(a[o])){r=o;break}return r>0&&(a=a.substring(0,r)),a}resolveTransformReference(n){const a=this._referenceManager.findLocationByName(n);if(a!==void 0)return a;const r=Ts.LOCATION_REGEX.exec(n);return r?parseInt(r[1],16):null}},Ts.LOCATION_REGEX=/_([A-Fa-f0-9]{6})/,Ts);function ol(l,n,a=0){for(let r=a;r<l.length;r++)if(n.includes(l[r]))return r;return-1}var Fn,s_=(Fn=class{constructor(n){this._blockReader=n,this._romDataReader=n._romDataReader}resolveCommand(n,a){if(n.types&&n.types.length>0){a.push(`[${n.value}`);let r=!0;for(const o of n.types)switch(r?(a.push(":"),r=!1):a.push(","),o){case de.Byte:a.push(this._romDataReader.readByte().toString(16).toUpperCase());break;case de.Word:a.push(this._romDataReader.readUShort().toString(16).toUpperCase());break;case de.Offset:const c=this._romDataReader.readUShort()|this._romDataReader.position&4128768;a.push(`^${c.toString(16).toUpperCase().padStart(6,"0")}`);break;case de.Address:a.push(`~${this._romDataReader.readAddress().toString(16).toUpperCase().padStart(6,"0")}`);break;case de.Binary:let h=!0;do{const d=this._romDataReader.readByte();if(n.delimiter!==void 0&&d===n.delimiter)break;h?h=!1:a.push(","),a.push(d.toString(16).toUpperCase())}while(this._blockReader.partCanContinue());break;default:throw new Error("Unsupported member type")}a.push("]")}else a.push(`[${n.value}]`)}parseString(n){const a=n.commands,r=[],o=this._romDataReader.position,c=n.characterMap,h=n.terminator;do{const d=this._romDataReader.readByte();if(d===h){if(n.greedyTerminator)for(;this._romDataReader.peekByte()===h&&this._blockReader.partCanContinue();)this._romDataReader.position++;break}const p=a[d];if(p){if(this.resolveCommand(p,r),p.halt)break}else{const m=this.shiftDown(d,n.shiftType);m>=0&&m<c.length?r.push(c[m]):r.push(`[${d.toString(16).toUpperCase()}]`)}}while(this._blockReader.partCanContinue());return{string:r.join(""),type:n,marker:0,location:o}}shiftDown(n,a){if(!a)return n;switch(a){case"wh2":return(n&112)>>1|n&7;case"h2":return(n&224)>>1|n&15;default:return n}}resolveString(n,a){let r=n.string,o=ol(r,Fn.STRING_REFERENCE_CHARACTERS);for(;o>=0;){if(o+6<r.length){const c=r.substring(o+1,o+7),h=parseInt(c,16);if(!isNaN(h)&&new Ct(h>>16,h&65535).space===ja.ROM){this._blockReader.resolveInclude(h,!1);const p=this._blockReader.resolveName(h,Ce.Unknown,!1),m=ol(p,Be.OPERATORS);if(m>0){const y=p.substring(m+1);let b;y==="M"?b=this._blockReader._referenceManager.markerTable.get(h)||0:b=parseInt(y,16)||0,p[m]==="-"&&(b=-b),p.substring(0,m);const _=h-b,[E,N,B]=Zn.isOutsideWithPart(this._blockReader._enrichedChunks,this._blockReader._currentChunk,h);if(B!=null){const U=B.objList?.find($=>typeof $=="object"&&$!==null&&"location"in $&&"object"in $&&$.location===_);U&&U.object&&(U.object.marker=b)}}}}o=ol(r,Fn.STRING_REFERENCE_CHARACTERS,o+7)}}},Fn.STRING_REFERENCE_CHARACTERS=["~","^"],Fn),a_=class{constructor(l){this._blockReader=l,this._referenceManager=l._referenceManager,this._romDataReader=l._romDataReader,this._stringReader=l._stringReader,this._stringTypes=l._root.stringTypes}parseType(l,n,a,r){if(l[0]==="&")return this.parseLocation(this._romDataReader.readUShort(),r,l.substring(1),Ce.Offset);if(l[0]==="@")return this.parseLocation(this._romDataReader.readUShort(),this._romDataReader.readByte(),l.substring(1),Ce.Address);const o=this._stringTypes[l];if(o)return this._stringReader.parseString(o);const c=this.tryParseMemberType(l);if(c!==null)switch(c){case de.Byte:return new yt(this._romDataReader.readByte());case de.Word:return new Vt(this.parseWordSafe());case de.Offset:return this.parseLocation(this._romDataReader.readUShort(),r,null,Ce.Offset);case de.Address:return this.parseLocation(this._romDataReader.readUShort(),this._romDataReader.readByte(),null,Ce.Address);case de.Binary:return this.parseBinary();case de.Code:return this.parseCode(n);default:throw new Error("Invalid member type")}const h=this._blockReader._root.structs[l];if(!h)throw new Error(`Unknown type: ${l}`);const d=h.delimiter,p=h.discriminator,m=[];let y;for(;!(y=this._blockReader.delimiterReached(d));){const b=this._romDataReader.position;let _=h;if(p!==void 0){const B=this._romDataReader.position+p,U=this._romDataReader.romData[B];p===0&&this._romDataReader.position++,_=Object.values(this._blockReader._root.structs).find(I=>I.parent===l&&I.discriminator===U)||h}const E=_.types;if(E&&E.length>0){const B=E.length,U=this._romDataReader.position,$=new Array(B),I={name:_.name,parts:$};for(let q=0;q<B;q++)$[q]=this.parseType(E[q],null,a+1,r);p!==void 0&&p===this._romDataReader.position-U&&this._romDataReader.position++,m.push(I)}let N=b;for(;++N<this._romDataReader.position;)if(this._referenceManager.containsStruct(N)){this._romDataReader.position=N;break}if(!this._blockReader.partCanContinue())break}return y&&a===0&&this._referenceManager.tryAddStruct(this._romDataReader.position,l),m}tryParseMemberType(l){const n=l.toUpperCase();for(const[a,r]of Object.entries(de))if(a.toUpperCase()===n)return r;return null}parseWordSafe(){return this._referenceManager.containsStruct(this._romDataReader.position+1)?this._romDataReader.readByte():this._romDataReader.readUShort()}parseBinary(){const l=this._romDataReader.position;do this._romDataReader.position++;while(this._blockReader.partCanContinue());const n=this._romDataReader.position-l,a=new Uint8Array(n);for(let r=0;r<n;r++)a[r]=this._romDataReader.romData[l+r];return a}parseLocation(l,n,a,r){if(n==null&&l===0)return new Vt(l);const o=n??this._romDataReader.position>>16,c=new Ct(o,l);if(c.space!==ja.ROM)return c;const h=c.toInt();if(this._blockReader._currentChunk&&Zn.isInside(this._blockReader._currentChunk,h)&&!this._blockReader._root.rewrites[h]){const d=a??this._blockReader._currentAsmBlock.structName??"Binary";this._referenceManager.tryAddStruct(h,d);const p=`${d.toLowerCase()}_${h.toString(16).toUpperCase().padStart(6,"0")}`;this._referenceManager.tryAddName(h,p)}return new Rs(h,r)}parseCode(l){const n=[];let a=!0;for(;this._romDataReader.position<this._blockReader._partEnd;){if(a)a=!1;else if(this._referenceManager.containsStruct(this._romDataReader.position))break;l&&this._blockReader.hydrateRegisters(l);const r=this._blockReader._asmReader.parseAsm(l);n.push(r)}return n}},Pe,pp=(Pe=class{constructor(n){this._blockReader=n,this._transformProcessor=new n_(n),this._addressingModeHandler=new t_(n,this._transformProcessor),this._romDataReader=n._romDataReader}parseAsm(n){const a=this._romDataReader.position,r=this._romDataReader.readByte(),o=this._blockReader._root.opCodes[r];if(!o)throw new Error("Unknown OpCode");const c=this.initializeOperation(o,n,a),h=this._addressingModeHandler.processAddressingMode(o,c,n);this._transformProcessor.applyTransforms(c.xForm1,c.xForm2,h);const d=new As(o,a,h,this._romDataReader.position-a);return c.copDef&&(d.copDef=c.copDef),d}clearDestinationRegister(n,a){switch(n.mnem){case"LDA":a.accumulator=void 0;break;case"LDX":a.xIndex=void 0;break;case"LDY":a.yIndex=void 0;break}}initializeOperation(n,a,r){const o=this.calculateInstructionSize(n,a),c=r+o;this.clearDestinationRegister(n,a);const h=new e_;return h.size=o,h.nextAddress=c,h.xForm1=this._transformProcessor.getTransform(),h.xForm2=null,h.copDef=null,h}calculateInstructionSize(n,a){let o=this._blockReader._root.addrLookup[n.mode].size;return(o===Pe.VARIABLE_SIZE_INDICATOR||n.mode==="Immediate")&&((n.code&Pe.PROCESSOR_FLAG_MASK)===194?o=Pe.TWO_BYTES_SIZE:(n.code&Pe.ACCUMULATOR_OP_MASK)===Pe.ACCUMULATOR_OP_VALUE?o=a.accumulatorFlag??!1?Pe.TWO_BYTES_SIZE:Pe.THREE_BYTES_SIZE:o=a.indexFlag??!1?Pe.TWO_BYTES_SIZE:Pe.THREE_BYTES_SIZE),o}},Pe.PROCESSOR_FLAG_MASK=223,Pe.ACCUMULATOR_OP_MASK=15,Pe.ACCUMULATOR_OP_VALUE=9,Pe.VARIABLE_SIZE_INDICATOR=-2,Pe.TWO_BYTES_SIZE=2,Pe.THREE_BYTES_SIZE=3,Pe),i_=class{constructor(){this.bytes=new Uint8Array(70),this.location=10}push(l){this.bytes[this.location++]=l&255}pushUInt16(l){this.bytes[this.location++]=l&255,this.bytes[this.location++]=l>>8&255}popByte(){return this.bytes[--this.location]}popUInt16(){const l=this.bytes[--this.location],n=this.bytes[--this.location];return l<<8|n}reset(){this.bytes.fill(0),this.location=10}},r_=class{constructor(){this.stack=new i_}get statusFlags(){let l=0;return(this.accumulatorFlag??!1)&&(l|=Es.AccumulatorMode),(this.indexFlag??!1)&&(l|=Es.IndexMode),l}set statusFlags(l){this.accumulatorFlag=(l&Es.AccumulatorMode)!==0,this.indexFlag=(l&Es.IndexMode)!==0}reset(){this.accumulatorFlag=void 0,this.indexFlag=void 0,this.direct=void 0,this.dataBank=void 0,this.accumulator=void 0,this.xIndex=void 0,this.yIndex=void 0,this.stack.reset()}},ot,l_=(ot=class{expand(n,a=0,r=ot.DEFAULT_PAGE_SIZE){const o=new Im(n,a),c=a+r,h=new Uint8Array(ot.DICTIONARY_SIZE);h.fill(ot.DICTIONARY_INIT);let d=ot.DICTIONARY_OFFSET,p=0,m=o.readShort();if(m===0)return n.slice(a+2,c);m&32768&&(m=65536-m);const y=new Uint8Array(m);for(;o.currentPosition<c&&p<m;)if(o.readBit()){const b=o.readByte();p<m&&(y[p++]=b),h[d]=b,d=d+1&255}else{let b=o.readByte(),_=o.readNibble()+2;for(;_-- >0;){const E=h[b];b=b+1&255,p<m&&(y[p++]=E),h[d]=E,d=d+1&255}}return p<m?y.slice(0,p):y}compact(n){const a=new Uint8Array(ot.DICTIONARY_SIZE);a.fill(ot.DICTIONARY_INIT);let r=ot.DICTIONARY_OFFSET,o=0,c=0;const h=n.length,d=new Uint8Array(h*2);d[c++]=h&255,d[c++]=h>>8&255;const p=new Im(d,2),m=()=>{const b=Math.min(h-o,17);if(b<2)return[0,0];let _=0,E=0,N=r;for(let B=0;B<256;B++,N=N+1&255){let U=0,$=N;for(;U<b&&a[$]===n[o+U];)$=$+1&255,$===r&&($=N),U++;if(U>E&&(_=N,E=U,E>=b))break}return[_,E]};for(;o<h;){const[b,_]=m();if(_>=2){p.writeBit(!1),p.writeByte(b),p.writeNibble(_-2);for(let E=0;E<_;E++)a[r]=n[o++],r=r+1&255}else{p.writeBit(!0);const E=n[o++];p.writeByte(E),a[r]=E,r=r+1&255}}p.flush();const y=Math.max(c,p.currentPosition);return d.slice(0,y)}},ot.DICTIONARY_SIZE=256,ot.DICTIONARY_INIT=32,ot.DICTIONARY_OFFSET=239,ot.DEFAULT_PAGE_SIZE=32768,ot);function gp(){fp.register("QuintetLZ",()=>new l_)}gp();gp();var Ht,o_=(Ht=class{constructor(n,a){this._partEnd=0,this._currentChunk=null,this._currentAsmBlock=null,this._enrichedChunks=[],this._romDataReader=new Fb(n),this._stateManager=new Qb,this._referenceManager=new Zb(a),this._root=a,this._stringReader=new s_(this),this._asmReader=new pp(this),this._typeParser=new a_(this),this.initializeOverrides(),this.initializeFileReferences()}get AccumulatorFlags(){return this._stateManager.accumulatorFlags}get IndexFlags(){return this._stateManager.indexFlags}get BankNotes(){return this._stateManager.bankNotes}get StackPosition(){return this._stateManager.stackPositions}get _structTable(){return this._referenceManager.structTable}get _markerTable(){return this._referenceManager.markerTable}get _nameTable(){return this._referenceManager.nameTable}initializeOverrides(){for(const n of Object.values(this._root.overrides))switch(n.register){case ll.M:this._stateManager.setAccumulatorFlag(n.location,n.value===1);break;case ll.X:this._stateManager.setIndexFlag(n.location,n.value===1);break;case ll.B:this._stateManager.setBankNote(n.location,n.value);break}}initializeFileReferences(){for(const n of this._root.files)this._referenceManager.tryAddName(n.start,n.name)}resolveMnemonic(n){if((n.bank&Ct.DATA_BANK_FLAG)!==0)return;let a=n.offset;const r=this._root.mnemonics[a];if(!r)return;const o=ol(r,Be.OPERATORS);if(o>=0){let c=parseInt(r.substring(o+1),16);r[o]==="-"&&(c=-c),a-=c}this._currentChunk.mnemonics[a]=r.substring(0,o>=0?o:r.length)}resolveName(n,a,r){return this._referenceManager.resolveName(n,a,r)}resolveInclude(n,a){const[r,o,c]=Zn.isOutsideWithPart(this._enrichedChunks,this._currentChunk,n);if(r&&o&&c)this._currentAsmBlock.includes.add({block:o,part:c});else if(a&&!this._referenceManager.tryGetName(n).found){const h=`loc_${n.toString(16).toUpperCase().padStart(6,"0")}`;this._referenceManager.tryAddName(n,h)}}noteType(n,a,r=!1,o){this._referenceManager.tryAddStruct(n,a);const c=this._referenceManager.tryGetName(n);let h;return c.found?h=c.referenceName:(h=this._referenceManager.createTypeName(a,n),this._referenceManager.tryAddName(n,h)),!r&&a===kt.CODE_TYPE&&o&&this.updateRegisterState(n,o),h}updateRegisterState(n,a){a.accumulatorFlag!==void 0&&this._stateManager.tryAddAccumulatorFlag(n,a.accumulatorFlag),a.indexFlag!==void 0&&this._stateManager.tryAddIndexFlag(n,a.indexFlag),a.stack.location>0&&this._stateManager.tryAddStackPosition(n,a.stack.location)}delimiterReached(n){if(n===void 0)return!1;if(n>=kt.BYTE_DELIMITER_THRESHOLD){if(this._romDataReader.peekShort()===n)return this._romDataReader.position+=2,!0}else if(this._romDataReader.peekByte()===n)return this._romDataReader.position++,!0;return!1}partCanContinue(){return this._romDataReader.position<this._partEnd&&!this._referenceManager.containsStruct(this._romDataReader.position)}analyzeAndResolve(){return this.createChunkFilesFromDatabase(),this.initializeBlocksAndParts(),this.analyzeChunkFiles(),this.resolveReferences(),this._enrichedChunks}initializeBlocksAndParts(){for(const n of this._enrichedChunks)for(const a of n.parts||[])a.structName&&this._referenceManager.tryAddStruct(a.location,a.structName),a.label&&this._referenceManager.tryAddName(a.location,a.label)}processPart(n){this._currentAsmBlock=n,this._romDataReader.position=n.location,this._partEnd=n.location+n.size;let a=n.structName||kt.BINARY_TYPE;const r=[],o=new r_,c=n.bank;let h=null;for(;this._romDataReader.position<this._partEnd;){const d=this._referenceManager.tryGetStruct(this._romDataReader.position);if(d.found)a=d.chunkType;else if(h!==null){this.processContinuousEntry(a,o,c,h);continue}h=kb(this._romDataReader.position),r.push(h),this.processNewEntry(a,o,c,h)}n.objList=r}processContinuousEntry(n,a,r,o){const c=this._typeParser.parseType(n,a,0,r);Array.isArray(o.object)||(o.object=[o.object]),o.object.push(c)}processNewEntry(n,a,r,o){let c=this._typeParser.parseType(n,a,0,r);kt.POINTER_CHARACTERS.includes(n[0])&&!Array.isArray(c)&&(c=[c]),o.object=c}createChunkFilesFromDatabase(){this._enrichedChunks=[],this.createChunkFilesFromSfx(),this.createChunkFilesFromDbFiles(),this.createChunkFilesFromDbBlocks()}createChunkFilesFromSfx(){let n=this._root.config.sfxLocation;const a=this._root.config.sfxCount,r=this._romDataReader.romData,o=()=>r[n++]|r[n++]<<8;for(let c=0;c<a;c++){const h=o(),d=n;let p=h,m=n+p,y;if(m&Be.PAGE_SIZE){const _=m&32767;p-=_,y=r.slice(n,n+p),n+=p+Be.PAGE_SIZE,m=n+_;const E=r.slice(n,m);y=new Uint8Array([...y,...E])}else y=r.slice(n,m);n=m;const b=new Li(`sfx${c.toString(16).toUpperCase().padStart(2,"0")}`,h,d,Ue.Sound);b.rawData=y,this._enrichedChunks.push(b)}}createChunkFilesFromDbFiles(){for(const n of this._root.files){const a=Rb(this._romDataReader.romData,this._root.compression,n);this._enrichedChunks.push(a)}}createChunkFilesFromDbBlocks(){for(const n of this._root.blocks){const a=Tb(n);this._enrichedChunks.push(a)}}analyzeChunkFiles(){const n=this._enrichedChunks.filter(a=>a.type===Ue.Assembly);for(const a of n){this._currentChunk=a;for(const r of a.parts||[])this._currentAsmBlock=r,this.processPart(r)}}resolveReferences(){for(const n of this._enrichedChunks){this._currentChunk=n;for(const a of n.parts||[])this._currentAsmBlock=a,this.resolveObject(a.objList,!1)}}resolveObject(n,a){if(typeof n!="string"){if(Array.isArray(n)){for(const r of n)this.resolveObject(r,a);return}if(n instanceof Ct){this.resolveMnemonic(n);return}if(typeof n=="number"){this.resolveInclude(n,a);return}if(n instanceof Rs){this.resolveInclude(n.location,a);return}if(n&&typeof n=="object"){if("string"in n&&"type"in n){this._stringReader.resolveString(n,a);return}if("name"in n&&"parts"in n){this.resolveObject(n.parts,a);return}if("location"in n&&"object"in n){this.resolveObject(n.object,a);return}if("code"in n&&"operands"in n){this.resolveOperationObject(n);return}}}}resolveOperationObject(n){const a=this.isBranchOperation(n);for(const r of n.operands)this.resolveObject(r,a)}isBranchOperation(n){return n.mode==="PCRelative"||n.mode==="PCRelativeLong"||n.mnem[0]==="J"}hydrateRegisters(n){this._stateManager.hydrateRegisters(this._romDataReader.position,n)}},Ht.REF_SEARCH_MAX_RANGE=416,Ht.BANK_MASK_CHECK=64,Ht.BYTE_DELIMITER_THRESHOLD=256,Ht.BANK_HIGH_MEMORY_1=126,Ht.BANK_HIGH_MEMORY_2=127,Ht.POINTER_CHARACTERS=["&","@"],Ht.LOCATION_REGEX=/_([A-Fa-f0-9]{6})/,Ht),u_=class{constructor(l){this._referenceManager=l._referenceManager}process(l){if(!l.postProcess||l.postProcess.trim()==="")return;let n=l.postProcess;const a=[],r=n.indexOf("(");if(r>0){const c=n.indexOf(")",r),h=n.substring(r+1,c>=0?c:n.length);if(h.length>0)for(const d of h.split(","))a.push(d.trim());n=n.substring(0,r)}const o=this[n];if(typeof o!="function")throw new Error(`Unable to locate postprocess function ${n}`);o.apply(this,[l,...a])}Lookup(l,n,a){const r=parseInt(n.trim()),o=parseInt(a.trim());if(!l.parts||l.parts.length===0)throw new Error("Invalid block structure for Lookup post process");const c=l.parts[0]?.objList,h=c&&c[0],d=h?.object;if(!h||!d)throw new Error("Invalid table structure for Lookup post process");const p=[],m=[];p.push({location:h.location,object:m});let y=1;for(const b of d){if(!b||!Array.isArray(b.parts))continue;const _=b;let E=0,N=null,B=null;for(const I of _.parts)E===r?I&&typeof I=="object"&&"value"in I?N=I.value:N=I:E===o&&(B=I),E++;if(N===null||B===null)throw new Error("Could not locate key or value for transform");const U=`entry_${N.toString(16).toUpperCase().padStart(2,"0")}`,$=h.location+y;for(p.push({location:$,object:B}),this._referenceManager.nameTable.set($,U);m.length<=N;)m.push(new Vt(0));m[N]=`&${U}`,y++}l.parts[0].objList=p}},yp=typeof process<"u"&&process.platform?process.platform==="win32":typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.includes("Windows"):!1,Gm=yp?`\r
`:`
`,c_=class{constructor(l){this._isInline=!1,this._currentPart=null,this._blockReader=l,this._root=l._root,this._referenceManager=l._referenceManager,this._postProcessor=new u_(l)}generateAllAsm(l){const n=[];for(const a of l)n.push({name:a.name,group:a.group,text:this.generateAsm(a)});return n}generateAsm(l){if(!l.parts)throw new Error("Invalid block structure for generateAsm");const n=[];l.bank!==void 0&&n.push(`?BANK ${l.bank.toString(16).toUpperCase().padStart(2,"0")}`);const a=Zn.getIncludes(l);if(a&&a.length>0){n.push("");for(const c of a)n.push(`?INCLUDE '${c.name}'`)}const r=this.getMnemonicsForBlock(l);if(r&&r.length>0){n.push("");for(const[c,h]of r){const d=c.padEnd(30," ");n.push(`!${d} ${h.toString(16).toUpperCase().padStart(4,"0")}`)}}this._postProcessor.process(l);for(const c of l.parts||[]){this._currentPart=c,this._isInline=!0,n.push(""),n.push("---------------------------------------------");const h=this.writeObject(c.objList,-1);n.push(...h)}let o=n.join(Gm);if(l.transforms){for(const c of l.transforms)if(c.key&&c.value){const h=new RegExp(c.key,"g");o=o.replace(h,c.value)}}return yp||(o=o.replace(/\r/g,"")),o}getMnemonicsForBlock(l){return l.mnemonics?Object.entries(l.mnemonics).map(([n,a])=>[a,parseInt(n,10)]).sort((n,a)=>n[1]-a[1]):[]}resolveOperand(l,n,a=!1){if(n instanceof Qn){const r=n.size*2;return n.value.toString(16).toUpperCase().padStart(r,"0")}if(typeof n=="number")return l.mode==="Immediate"?n:this._blockReader.resolveName(n,Ce.Address,a);if(this.getObjectType(n)==="LocationWrapper"){const r=n;return this._blockReader.resolveName(r.location,r.type,a)}if(this.getObjectType(n)==="Address"){const r=n;if(l.size===4)return r;if(r.isCodeBank&&r.offset<Ct.UPPER_BANK){const o=this._root.mnemonics[r.offset];if(o)return o}return r.offset}return n&&n instanceof Qn,n}getObjectType(l){if(l==null)return"String";if(l._tag)return l._tag;if(l instanceof Qn)return"TypedNumber";if(Array.isArray(l)){if(l.length>0){if(l[0]&&typeof l[0]=="object"&&"location"in l[0]&&"object"in l[0])return"TableEntryArray";if(l[0]instanceof As)return"OpArray"}return"Array"}if(l instanceof As)return"OpArray";if(l instanceof Rs)return"LocationWrapper";if(l instanceof Ct)return"Address";if(l instanceof Uint8Array)return"ByteArray";if(l&&typeof l=="object"){if("string"in l&&"type"in l&&"marker"in l&&"location"in l)return"StringWrapper";if("name"in l&&"parts"in l)return"StructDef"}return typeof l=="string"?"String":typeof l=="number"?"Number":"String"}writeObject(l,n,a=!1){const r=[],o=this.getObjectType(l);let c;switch(o){case"TableEntryArray":c=this.writeTableEntryArray(l,n);break;case"StructDef":c=this.writeStructDef(l,n);break;case"OpArray":c=this.writeOpArray(l,n);break;case"LocationWrapper":c=[this._blockReader.resolveName(l.location,l.type,a)];break;case"Address":c=[`$${l.toString()}`];break;case"ByteArray":c=[`#${Array.from(l).map(h=>h.toString(16).toUpperCase().padStart(2,"0")).join("")}`];break;case"StringWrapper":c=this.writeStringWrapper(l);break;case"Array":c=this.writeArray(l,n);break;case"Number":c=this.writeNumber(l);break;case"TypedNumber":c=this.writeTypedNumber(l);break;case"String":c=[String(l)];break;default:c=[String(l)];break}return r.push(...c),r}writeTableEntryArray(l,n){const a=[],r=this._isInline;for(const o of l){const c=this._referenceManager.tryGetName(o.location),h=c.found?c.referenceName:`loc_${o.location.toString(16).toUpperCase().padStart(6,"0")}`,d=this.writeObject(o.object,n+1);a.push(""),a.push(`${h} ${d[0]}`),d.length>1&&a.push(...d.slice(1))}return this._isInline=r,a}writeStructDef(l,n){const a=[],r=this._isInline;this._isInline=!0;for(const c of l.parts){const h=this.writeObject(c,n);a.push(h.join(Gm))}const o=`${l.name} < ${a.join(", ")} >`;return this._isInline=r,[o]}writeOpArray(l,n){const a=[];a.push("{");const r=this._isInline;this._isInline=!0;let o=!0;for(const c of l){if(o)o=!1;else{const d=this._referenceManager.tryGetName(c.location);d.found&&(a.push(""),a.push(`  ${d.referenceName}:`))}let h=`    ${c.mnem} `;if(c.copDef){if(h+=`[${c.copDef.mnem}]`,c.operands&&c.operands.length>1){const d=[];for(let p=1;p<c.operands.length;p++){const m=this.writeObject(c.operands[p],n+1,!1);d.push(m[0])}h+=` ( ${d.join(", ")} )`}}else if(c.operands&&c.operands.length>0){const d=c.mnem[0]==="J"||c.mode==="PCRelative"||c.mode==="PCRelativeLong",p=this.resolveOperand(c,c.operands[0],d),m=this._root.addrLookup[c.mode]?.formatString;if(m){let y=m;c.mode==="Immediate"&&c.size===3&&(y=m.replace("X2","X4"));const b=c.operands.length>1?this.resolveOperand(c,c.operands[1],d):void 0;h+=this.formatOperand(y,[p,b])}else h+=this.formatDefaultOperand(p,c.size)}a.push(h)}return a.push("}"),this._isInline=r,a}formatDefaultOperand(l,n){if(typeof l=="string")return l;if(l&&l instanceof Qn)return this.formatTypedNumber(l);if(typeof l=="number"){const a=(n-1)*2;return`$${l.toString(16).toUpperCase().padStart(a,"0")}`}return String(l)}writeStringWrapper(l){let n=l.string;const a=["~","^"];for(const c of a){let h=n.indexOf(c);for(;h>=0;){const d=n.substring(h+1,h+7),p=parseInt(d,16),m=new Ct(p>>16&255,p&65535);if(m.space===ja.ROM){const y=c==="^"?Ce.Offset:Ce.Address,b=m.toInt(),_=this._blockReader.resolveName(b,y,!1);n=n.replace(n.substring(h,h+7),_)}else throw new Error("Unsupported address space");h=n.indexOf(c,h+7)}}const r=l.type.delimiter;let o=l.marker;if(o<=0){const c=this._referenceManager.tryGetMarker(l.location);o=c.found&&c.offset||0}if(o>0){let c=0,h=0;for(;h<o;)if(n[c]==="["){const d=n.indexOf("]",++c),p=n.substring(c,d).split(/[,: ]/),m=Object.values(l.type.commands).find(y=>y.value===p[0]);if(m&&m.types)for(const y of m.types)switch(y){case de.Byte:h+=1;break;case de.Word:case de.Offset:h+=2;break;case de.Address:h+=3;break;case de.Binary:h+=p.length-1;break;default:throw new Error("Unsupported member type")}c=d+1,h++}else c++,h++;n=n.substring(0,c)+"[::]"+n.substring(c)}return[`${r}${n}${r}`]}writeArray(l,n){const a=[],r="  ".repeat(Math.max(0,n)),o=this._isInline;a.push("["),this._isInline=!1;for(let c=0;c<l.length;c++){const h=this.writeObject(l[c],n+1);for(const d of h)a.push(r+"  "+d);a[a.length-1]+=`   ;${c.toString(16).toUpperCase().padStart(2,"0")}`}return a.push(r+"]"),this._isInline=o,a}writeNumber(l){return l<=255?[`#${l.toString(16).toUpperCase().padStart(2,"0")}`]:l<=65535?[`#$${l.toString(16).toUpperCase().padStart(4,"0")}`]:[`#$${l.toString(16).toUpperCase().padStart(6,"0")}`]}formatTypedNumber(l){if(typeof l.value=="number"){const n=l.size*2,a=l.value.toString(16).toUpperCase().padStart(n,"0");return l.size===1?`#${a}`:`#$${a}`}return`#${l.value}`}writeTypedNumber(l){return[this.formatTypedNumber(l)]}formatOperand(l,n){return l.replace(/\{(\d+)(?::([^}]+))?\}/g,(a,r,o)=>{const c=n[parseInt(r)];if(c&&typeof c=="object"&&c._tag&&"value"in c){const h=c.value;if(o&&typeof h=="number"&&o.startsWith("X")){const d=parseInt(o.substring(1))||2;return h.toString(16).toUpperCase().padStart(d,"0")}return String(h)}if(o&&typeof c=="number"&&o.startsWith("X")){const h=parseInt(o.substring(1))||2;return c.toString(16).toUpperCase().padStart(h,"0")}return String(c)})}},Os,vp=(Os=class{constructor(n){this.bestResult=new Array(512).fill(0),this.bestSample=new Array(512).fill(0),this.currentBank=0,this.currentUpper=!1,this.bestDepth=0,this.bestOffset=0,this.bestRemain=0,this.unmatchedFiles=Array.from(n).filter(a=>(a.size||0)>0).sort((a,r)=>{const o=a.parts?0:1,c=r.parts?0:1;return o!==c?o-c:r.size!==a.size?r.size-a.size:a.location!==r.location?a.location-r.location:a.name.localeCompare(r.name)})}organize(){for(let n=0;n<128&&this.unmatchedFiles.length!==0;n++){let a=Be.PAGE_SIZE;n===1&&(a-=Be.SNES_HEADER_SIZE),this.currentUpper=(n&1)!==0,this.currentBank=n>>1,this.bestDepth=0,this.bestRemain=a,this.bestOffset=0;const r=n<<15;this.testDepth(0,0,a,this.currentUpper),this.currentUpper&&(this.bestOffset=this.bestDepth,this.testDepth(0,this.bestDepth,this.bestRemain,!1));let o=r;for(let c=0;c<this.bestDepth;){const h=this.unmatchedFiles[this.bestResult[c++]];h.location=o,console.log(`  ${o.toString(16).toUpperCase().padStart(6,"0")}: ${h.name}`),o+=h.size||0}console.log(`Page ${r.toString(16).toUpperCase().padStart(6,"0")} matched with ${this.bestDepth} files ${this.bestRemain} remaining`),this.commitPage()}if(this.unmatchedFiles.length>0){const n=this.unmatchedFiles.map(a=>a.name).join(`\r
`);throw new Error(`Unable to match ${this.unmatchedFiles.length} files\r
${n}`)}}testDepth(n,a,r,o){for(let c=n;c<this.unmatchedFiles.length;c++){const h=this.unmatchedFiles[c],d=h.size||0;if(d>r)continue;if(h.parts){if(o){if(h.bank!==this.currentBank)continue}else if(!this.currentUpper||(h.bank??-1)>=0)continue}else{if(o)continue;if(h.upper&&!this.currentUpper)continue}let p=!1;for(let y=this.bestOffset;--y>=0;)if(this.bestResult[y]===c){p=!0;break}if(p)continue;this.bestSample[a]=c;const m=r-d;if(m<this.bestRemain){this.bestRemain=m,this.bestDepth=a+1;for(let y=this.bestOffset;y<this.bestDepth;y++)this.bestResult[y]=this.bestSample[y]}if(m<Os.MIN_ACCEPTED_REMAINING||this.testDepth(c+1,a+1,m,o))return!0}return!0}commitPage(){if(this.bestOffset>0)for(let n=this.bestDepth;--n>=0;){let a=0,r=0,o=0;for(let c=this.bestDepth;--c>=0;)o=this.bestResult[c],o>a&&(a=o,r=c);this.bestResult[r]=0,this.unmatchedFiles.splice(a,1)}else for(let n=this.bestDepth;--n>=0;)this.unmatchedFiles.splice(this.bestResult[n],1)}},Os.MIN_ACCEPTED_REMAINING=32,Os),bp=class _p{constructor(n){this.writer=n}async repack(n){const a=n.filter(d=>d.type===Ue.Patch),r=n.filter(d=>!!d.parts);_p.applyPatches(r,a);for(const d of r)Zn.calculateSize(d);new vp(n).organize();for(const d of r)Zn.rebase(d);for(const d of r){const p=r.filter(m=>d.includes?.has(m.name.toUpperCase())).flatMap(m=>m.parts).filter(m=>!!m.label);d.includeLookup=new Map;for(const m of p)m.label&&d.includeLookup.set(m.label.toUpperCase(),m);for(const m of(d.parts||[]).filter(y=>!!y.label))m.label&&d.includeLookup.set(m.label.toUpperCase(),m)}const c=new Map;for(const d of n)c.set(d.name.toUpperCase(),d.location);for(const d of n)await this.writer.writeFile(d,c);const h=r.filter(d=>(d.bank??-1)===0).flatMap(d=>d.parts||[]).filter(d=>!!d.label);for(const d of this.writer.entryPoints){const p=h.find(m=>m.label===d.name);p&&this.writer.writeTransform(d.location,p.location&65535)}}static applyPatches(n,a){for(const r of a.filter(o=>o.includes&&o.includes.size>0)){let o=null,c=-1;const h=n.filter(d=>r.includes.has(d.name.toUpperCase()));for(let d=0;r.parts&&d<r.parts.length;){const p=r.parts[d];let m=null;if(p.label){for(const y of h)if(y.parts)for(let b=0;b<y.parts.length;b++){const _=y.parts[b];if(_.label===p.label){o=y,c=b,m=_;break}}}if(m)o.parts[c++]=p;else if(c>=0)o.parts.splice(c++,0,p);else{d++;continue}o.includes=o.includes||new Set,o.includes.add(r.name.toUpperCase()),r.parts.splice(d,1)}}}},f_=class{constructor(l,n,a){this.cartName=n,this.makerCode=a,this.entryPoints=l,this.outBuffer=new Uint8Array(4194304)}async repack(l){return await new bp(this).repack(l),this.writeHeader(),this.writeEntryPoints(l.filter(a=>!!a.parts)),this.writeChecksum(),this.outBuffer}writeHeader(){const l=this.outBuffer;let n=65456;this.writeAscii(this.makerCode.padEnd(6," "),n),n+=6;for(let a=0;a<10;a++)l[n++]=0;this.writeAscii(this.cartName.toUpperCase().padEnd(21," "),n),n+=21,l[n++]=49,l[n++]=2,l[n++]=12,l[n++]=3,l[n++]=1,l[n++]=51,l[n++]=0}writeChecksum(){const l=this.outBuffer;l[65500]=255,l[65501]=255,l[65502]=0,l[65503]=0;let n=0;for(let r=0;r<l.length;r++)n+=l[r];l[65502]=n&255,l[65503]=n>>8&255;const a=~n;l[65500]=a&255,l[65501]=a>>8&255}writeEntryPoints(l){this.outBuffer;const n=l.filter(a=>(a.bank??-1)===0).flatMap(a=>a.parts||[]).filter(a=>!!a.label);for(const a of this.entryPoints){const r=n.find(o=>o.label===a.name);r&&this.writeTransform(a.location,r.location&65535)}}writeTransform(l,n,a){const r=this.outBuffer;switch(a===void 0&&(n<=255?a=1:n<=65535?a=2:n<=16777215?a=3:a=4),a){case 1:r[l]=n&255;break;case 2:r[l]=n&255,r[l+1]=n>>8&255;break;case 3:r[l]=n&255,r[l+1]=n>>8&255,r[l+2]=n>>16&255;break;case 4:r[l]=n&255,r[l+1]=n>>8&255,r[l+2]=n>>16&255,r[l+3]=n>>24&255;break;default:throw new Error(`Invalid size ${a} for writeTransform`)}}async writeFile(l,n){const a=l.location;let r=a;const o=this.outBuffer;if(l.rawData){const c=l.rawData;let h=l.size,d=0;if(l.type===Ue.Tilemap)h-=2,o[r++]=c[d++],o[r++]=c[d++];else if(l.type===Ue.Meta17){h-=4;for(let p=0;p<4;p++)o[r++]=c[d++]}else l.type===Ue.Sound&&(h-=2,o[r++]=h&255,o[r++]=h>>8&255);if(l.compressed!==void 0){h-=2;const p=0-h&65535;o[r++]=p&255,o[r++]=p>>8&255}for(;h>0;)o[r++]=c[d++],h--}else if(l.parts&&l.parts.length>0){if(l.parts[0].location!==l.location&&(l.location||0)!==0)throw new Error("Assembly was not based properly");this.parseAssembly(l.parts,n,l.includeLookup)}return r-a}writeAscii(l,n){const a=this.outBuffer;for(let r=0;r<l.length;r++)a[n+r]=l.charCodeAt(r)&255}parseAssembly(l,n,a){if(!l)throw new Error("Assembly has not been parsed");const r=this.outBuffer;for(const o of l){let c=o.location;const h=o.objList;let d=0;const p=(m,y)=>{let b=m;for(;;)if(Array.isArray(b)){for(const _ of b)p(_,y);break}else if(this.isTableEntry(b)){b=b.object;continue}else if(b instanceof As){const _=b;r[c++]=_.code&255,d+=_.size;for(const E of _.operands)p(E,_);break}else if(b instanceof Uint8Array){const _=b;for(let E=0;E<_.length;E++)r[c+E]=_[E];c+=_.length,d+=_.length;break}else if(typeof b=="string"){const _=b;let E=_,N=0;for(;N<E.length&&Be.ADDRESS_SPACE.includes(E[N]);)N++;N>0&&(E=E.substring(N));let B;const U=y&&(y.mode==="PCRelative"||y.mode==="PCRelativeLong"),$=this.indexOfAny(E,Be.OPERATORS);let I=null,q=!1;$>0&&(E[$+1]==="M"?q=!0:(I=parseInt(E.substring($+1),16),E[$]==="-"&&(I=-I)),E=E.substring(0,$));const Y=E.toUpperCase();let G;if(a.has(Y))G=a.get(Y),B=G.location;else if(n.has(Y))B=n.get(Y);else if(E.startsWith("#")&&(E=E.substring(1)),E.startsWith("$")&&(E=E.substring(1)),U&&E.length>4){const F=parseInt(E,16)-(o.location+d);b=y?.size===2?F&255:F&65535;continue}else switch(E.length){case 1:case 2:b=new yt(parseInt(E,16));continue;case 3:case 4:b=new Vt(parseInt(E,16));continue;case 5:case 6:b=new ac(parseInt(E,16));continue;default:throw new Error(`Invalid operand '${E}'`)}let V=Ct.typeFromCode(_[0]);if(V===Ce.Unknown&&(V=y?.size===4?Ce.Address:y?.size===2?Ce.Unknown:Ce.Offset),U&&(B-=o.location+d,V===Ce.Unknown&&!(B<128||B>=4194176)))throw new Error("Relative out of range");if(I!==null)B+=I;else if(q&&G){let F=0;for(const oe of G.objList)if(this.isStringMarker(oe)){B+=F;break}else F+=Be.getSize(oe)}switch(V){case Ce.Offset:b=new Vt(B);continue;case Ce.Bank:b=new yt(B>>16|((B&65535)>=32768?128:192));continue;case Ce.WBank:b=new Vt(B>>16|((B&65535)>=32768?128:192));continue;case Ce.Address:b=new ac(B|((B&65535)>=32768?8388608:12582912));continue;default:b=new yt(B);continue}}else if(b instanceof Qn){let _=b.value;for(let E=0;E<b.size;E++)r[c++]=_&255,_>>=8;break}else if(typeof b=="number"){const _=b,E=y?.size??0;_<=255&&E<=2?(r[c]=_&255,c++):_<=65535&&E<=3?(r[c]=_&255,r[c+1]=_>>8&255,c+=2):_<=16777215&&E<=4?(r[c]=_&255,r[c+1]=_>>8&255,r[c+2]=_>>16&255,c+=3):(r[c]=_&255,r[c+1]=_>>8&255,r[c+2]=_>>16&255,r[c+3]=_>>24&255,c+=4);break}else{if(this.isStringMarker(b))break;throw new Error(`Unable to process '${b}'`)}};for(const m of h)p(m)}}indexOfAny(l,n){for(let a=0;a<l.length;a++)if(n.includes(l[a]))return a;return-1}isStringMarker(l){return typeof l=="object"&&l!==null&&"offset"in l}isTableEntry(l){return typeof l=="object"&&l!==null&&"location"in l&&"object"in l}},h_=class{constructor(l){this.memBuffer=[],this.context=l,this.root=l.root}dispose(){this.memBuffer.length=0}consumeString(){let l=null;const n=this.context.lineBuffer[0],a=this.context.lineBuffer.indexOf(n,1);a>=0?(l=this.context.lineBuffer.substring(1,a),this.context.lineBuffer=this.context.lineBuffer.substring(a+1).replace(/^[\s,\t]+/,"")):(l=this.context.lineBuffer.substring(1),this.context.lineBuffer=""),this.memBuffer.length=0;const r=this.root.stringCharLookup[n];this.processString(l,r)}flushBuffer(l,n=!1){const a=this.memBuffer.length;if(a>0){const r=new Uint8Array(this.memBuffer);this.context.currentBlock.objList.push(r),this.context.currentBlock.size+=a,this.memBuffer.length=0}}processString(l,n){const a=n.commands;n.characterMap,this.getShiftUp(n.shiftType);let r=null;for(let o=0;o<l.length;o++){const c=l[o];if(c==="["){const h=l.indexOf("]",o+1),d=[":",","," "],p=l.substring(o+1,h).split(new RegExp(`[${d.join("")}]`)).filter(y=>y.length>0);if(o=h,p.length===0){this.flushBuffer(n,!0),this.context.currentBlock.objList.push({offset:this.context.currentBlock.size});continue}const m=Object.values(a).find(y=>y.value===p[0]);if(m){r=m,this.memBuffer.push(m.key),this.processStringCommand(m,n,p);continue}}r=null,this.applyLayers(c,n)}(r===null||!r.halt)&&this.memBuffer.push(n.terminator),this.flushBuffer(n,!0)}applyLayers(l,n){if(this.applyMap(l,n.characterMap,this.getShiftUp(n.shiftType)))return!0;if(n.layers){for(const a of n.layers)if(this.applyMap(l,a.map,r=>r+a.base))return!0}return!1}applyMap(l,n,a){for(let r=0,o=n.length;r<o;r++){const c=n[r];if(c!=null&&l===c[0])return this.memBuffer.push(a(r)),!0}return!1}processStringCommand(l,n,a){const r=l.types.includes(de.Address)||l.types.includes(de.Offset);r&&this.flushBuffer(n,!0);for(let o=0,c=1;o<l.types.length;o++,c++)switch(l.types[o]){case de.Byte:this.memBuffer.push(parseInt(a[c],16));break;case de.Word:const h=parseInt(a[c],16);this.memBuffer.push(h&255),this.memBuffer.push(h>>8&255);break;case de.Binary:for(;c<a.length;){const d=parseInt(a[c],16);this.memBuffer.push(d),c++}l.delimiter!==void 0&&this.memBuffer.push(l.delimiter);break;case de.Offset:case de.Address:this.flushBuffer(n,!1),this.context.currentBlock.objList.push(a[c]),this.context.currentBlock.size+=l.types[o]===de.Offset?2:3;break}r&&this.flushBuffer(n,!1)}getShiftUp(l){switch(l){case"h2":return n=>(n&112)<<1|n&15;case"wh2":return n=>(n&56)<<1|n&7;default:return n=>n}}},d_=class{constructor(){this.map=new Map,this._keys=[]}get size(){return this.map.size}set(l,n){return this.map.has(l)||(this._keys.push(l),this.sortKeys()),this.map.set(l,n),this}get(l){return this.map.get(l)}has(l){return this.map.has(l)}delete(l){const n=this.map.delete(l);if(n){const a=this._keys.indexOf(l);a>=0&&this._keys.splice(a,1)}return n}clear(){this.map.clear(),this._keys.length=0}keys(){return[...this._keys]}values(){return this._keys.map(l=>this.map.get(l))}entries(){return this._keys.map(l=>[l,this.map.get(l)])}*[Symbol.iterator](){for(const l of this._keys)yield[l,this.map.get(l)]}sortKeys(){this._keys.sort((l,n)=>l.length!==n.length?n.length-l.length:l.localeCompare(n))}},m_=class Di{constructor(n,a=null,r=!1){this.context=n,this.root=n.root,this.dbStruct=a===null?null:Object.values(this.root.structs).find(o=>o.name.toLowerCase()===a.toLowerCase())||null,this.parentStruct=!this.dbStruct||!this.dbStruct.parent?null:Object.values(this.root.structs).find(o=>o.name.toLowerCase()===this.dbStruct.parent.toLowerCase())||null,this.discriminator=this.parentStruct?.discriminator??null,this.delimiter=this.dbStruct?.delimiter||null,this.memberOffset=0,this.dataOffset=0,this.memberTypes=this.dbStruct?.types||null,this.currentType=this.memberTypes?.[this.memberOffset]||null,r&&(this.context.lastDelimiter=this.dbStruct?.delimiter??this.parentStruct?.delimiter??null)}checkDisc(){this.discriminator===this.dataOffset&&(this.context.currentBlock.objList.push(this.dbStruct.discriminator),this.context.currentBlock.size+=1,this.dataOffset+=1)}advancePart(){this.currentType!=null&&this.discriminator!=null&&(this.dataOffset+=Be.getSize(this.currentType)),this.memberTypes!=null&&this.memberOffset+1<this.memberTypes.length&&(this.currentType=this.memberTypes[++this.memberOffset])}processOrigin(){this.context.lineBuffer=this.context.lineBuffer.substring(3).replace(/^[\s,\t]+/,""),this.context.lineBuffer.startsWith("$")&&(this.context.lineBuffer=this.context.lineBuffer.substring(1));let n;const a=this.context.lineBuffer.search(/[\s,\t]/);a>=0?(n=this.context.lineBuffer.substring(0,a),this.context.lineBuffer=this.context.lineBuffer.substring(a+1).replace(/^[\s,\t]+/,"")):(n=this.context.lineBuffer,this.context.lineBuffer="");const r=parseInt(n,16);this.context.blocks.push(this.context.currentBlock=new dl(r)),this.context.blockIndex++}static doMath(n){const a=n.search(/[-+]/);if(a>=0){const r=n[a],o=n.lastIndexOf("$",a)+1,c=n.substring(o,a);if(c.match(/^[a-fA-F0-9]+$/)){const h=parseInt(c,16);let d=n.substring(a+1).search(Be.SYMBOL_SPACE_REGEX);d<0&&(d=n.length);const p=parseInt(n.substring(a+1,d),16);let m;r==="-"?m=h-p:m=h+p;const y=a-o<=2?2:a-o<=4?4:6;n=n.substring(0,o)+m.toString(16).toUpperCase().padStart(y,"0")+n.substring(d)}}return n}tryCreateLabel(n,a){if(!a||a.length===0)return!1;const r=a[0];if(!Be.LABEL_SPACE.includes(r))return!1;const o=new dl(this.context.currentBlock.location+this.context.currentBlock.size,0,this.root.stringDelimiters.includes(a[0]),n);return this.context.blocks.push(o),this.context.currentBlock=o,this.context.blockIndex++,r===":"?this.context.lineBuffer=this.context.lineBuffer.substring(1):(r==="["||r==="{")&&(this.context.lineBuffer=a.substring(1).replace(/^[\s,\t]+/,""),new Di(this.context,this.currentType).processText(r),this.advancePart()),!0}processText(n){for(this.checkDisc();!this.context.eof;){if(!this.context.getLine())return;let a=null,r=null,o=null;for(;this.context.lineBuffer.length>0;){const c=this.context.lineBuffer[0];if(this.root.stringDelimiters.includes(c)){this.context.stringProcessor.consumeString(),this.advancePart();continue}if(Be.ADDRESS_SPACE.includes(c)){this.context.processRawData(),n==="["&&(this.context.lastDelimiter=null),this.advancePart();continue}if(c===">"){n==="<"&&(this.context.lineBuffer=this.context.lineBuffer.substring(1).replace(/^[\s,\t]+/,""),this.checkDisc());return}if(c==="]"){this.context.lineBuffer=this.context.lineBuffer.substring(1).replace(/^[\s,\t]+/,""),this.delimiter=this.delimiter??this.context.lastDelimiter,this.delimiter!=null&&(this.delimiter>=256?(this.context.currentBlock.objList.push(this.delimiter),this.context.currentBlock.size+=2):(this.context.currentBlock.objList.push(this.delimiter),this.context.currentBlock.size+=1));return}if(c==="}"){n==="{"&&(this.context.lineBuffer=this.context.lineBuffer.substring(1).replace(/^[\s,\t]+/,""));return}if(c==="["){this.context.lineBuffer=this.context.lineBuffer.substring(1).replace(/^[\s,\t]+/,""),new Di(this.context,this.currentType).processText("["),this.advancePart();continue}if(this.context.lineBuffer.startsWith("ORG")){this.processOrigin();continue}const h=this.context.lineBuffer.search(Be.SYMBOL_SPACE_REGEX);if(h>0){if(a=this.context.lineBuffer.substring(0,h),r=this.context.lineBuffer.substring(h).replace(/^[, \t]+/,""),r&&r.startsWith("<")){this.context.lineBuffer=r.substring(1).replace(/^[, \t]+/,""),new Di(this.context,a,n==="["&&this.currentType==null).processText("<"),a=null;continue}this.context.lineBuffer=r}else a=this.context.lineBuffer,this.context.lineBuffer="";break}if(a&&a.length>0){const c=this.root.opLookup[a.toUpperCase()];if(!c||c.length===0){if(this.tryCreateLabel(a,r||void 0))continue;throw new Error(`Unknown instruction line ${this.context.lineCount}: '${a}'`)}if(this.context.lineBuffer="",!r){const b=c.find(_=>this.root.addrLookup[_.mode].size===1);this.context.currentBlock.objList.push(new As(b,0,[],1)),this.context.currentBlock.size++;continue}r=Di.doMath(r);let h=c[0];if(h?.mnem==="COP"){const b=r.split(/[\s\t,()[\]$#]/).filter(N=>N.length>0),_=b[0],E=this.root.copLookup[_];if(!E)throw new Error(`Unknown COP command ${_}`);this.context.currentBlock.objList.push(new As(h,0,[new yt(E.code),...b.slice(1)],E.size+2)),this.context.currentBlock.size+=E.size+2;continue}h=null;for(const b of c){if(b.mode==="PCRelative"||b.mode==="PCRelativeLong"){h=b;break}const E=this.root.addrLookup[b.mode].parseRegex;if(E){const N=new RegExp(E).exec(r);if(N){h=b,r=N[1],N.length>2&&(o=N[2]);break}}}if(r.startsWith("#")&&(r=r.substring(1)),r.startsWith("$")&&(r=r.substring(1)),h==null){const b=r.search(Be.ADDRESS_SPACE_REGEX);if(b&&b>=0){const _=r.search(/[\s\t,\])]/);_&&_>=0&&(r=r.substring(b,_))}if(h=c.find(_=>_.mode==="Immediate")??c.find(_=>_.mode==="AbsoluteLong")??c.find(_=>_.mode==="Absolute")??null,h==null)throw new Error(`Unable to determine mode/code line ${this.context.lineCount}: '${this.context.lineBuffer}'`)}const d=this.context.parseOperand(r);let m=this.root.addrLookup[h.mode].size;(m===pp.VARIABLE_SIZE_INDICATOR||h.mode==="Immediate")&&(m=r?.startsWith("^")||r?.length===2?2:3);const y=o!=null?[d,this.context.parseOperand(o)]:[d];this.context.currentBlock.objList.push(new As(h,0,y,m)),this.context.currentBlock.size+=m}}}hexStringToBytes(n){const a=new Uint8Array(n.length/2);for(let r=0;r<n.length;r+=2)a[r/2]=parseInt(n.substring(r,r+2),16);return a}},p_=class{constructor(l,n){this.currentLineIndex=0,this.lineBuffer="",this.includes=new Set,this.blocks=[],this.tags=new d_,this.currentBlock=null,this.lineCount=0,this.blockIndex=0,this.lastDelimiter=null,this.reqBank=null,this.eof=!1,this.root=l,this.lines=n.split(/\r?\n/),this.stringProcessor=new h_(this)}dispose(){this.stringProcessor.dispose()}parseAssembly(){return this.blocks.push(this.currentBlock=new dl),new m_(this).processText(),{blocks:this.blocks,includes:this.includes,reqBank:this.reqBank}}getLine(){if(this.eof)return!1;if(this.lineBuffer.length>0)return!0;let l=null;for(;;){if(this.currentLineIndex>=this.lines.length){if(this.lineBuffer.length===0)return this.eof=!0,!1;l=""}else l=this.lines[this.currentLineIndex++],this.lineBuffer+=l;if(this.lineCount++,this.trimComments("--"),this.trimComments(";"),this.trimComments("//"),this.lineBuffer=this.lineBuffer.replace(Be.COMMA_SPACE_TRIM_REGEX,""),this.lineBuffer.length!==0){if(this.lineBuffer.endsWith("\\")){this.lineBuffer=this.lineBuffer.slice(0,-1);continue}if(this.lineBuffer[0]==="?"){this.processDirectives(),this.lineBuffer="";continue}if(this.lineBuffer[0]==="!"){this.processTags(),this.lineBuffer="";continue}return this.resolveTags(),!0}}}trimComments(l){const n=this.lineBuffer.indexOf(l);if(n>=0){const a=new RegExp(`[${this.root.stringDelimiters.map(o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("")}]`),r=this.lineBuffer.search(a);(r<0||r>n||this.lineBuffer.lastIndexOf(this.lineBuffer[r]||"")<n)&&(this.lineBuffer=this.lineBuffer.substring(0,n))}}processDirectives(){let l=this.lineBuffer.search(Be.COMMA_SPACE_REGEX);l<0&&(l=this.lineBuffer.length);const n=this.lineBuffer.substring(l).replace(/^[\s,\t]+/,"");switch(this.lineBuffer.substring(1,l).toUpperCase()){case"BANK":this.reqBank=parseInt(n,16);break;case"INCLUDE":n.length>0&&this.includes.add(n.toUpperCase().replace(/'/g,""));break}}processTags(){for(this.lineBuffer=this.lineBuffer.substring(1).replace(/^[\s,\t]+/,"");this.lineBuffer.length>0;){let l=this.lineBuffer,n=null,a=this.lineBuffer.search(/[\s,\t]/);if(a>=0){l=this.lineBuffer.substring(0,a),n=this.lineBuffer.substring(a+1).replace(/^[\s,\t]+/,"");const r=n.search(/[\s,\t]/);r>=0?(this.lineBuffer=n.substring(r+1).replace(/^[\s,\t]+/,""),n=n.substring(0,r)):this.lineBuffer=""}else this.lineBuffer="";this.tags.set(l,n)}}resolveTags(){for(const[l,n]of this.tags){let a;for(;(a=this.lineBuffer.toLowerCase().indexOf(l.toLowerCase()))>=0;)this.lineBuffer=this.lineBuffer.substring(0,a)+(n||"")+this.lineBuffer.substring(a+l.length)}}parseOperand(l){if(!l)return null;if(l.match(/^[a-fA-F0-9]{2,6}$/))switch(l.length){case 2:return new yt(parseInt(l,16));case 4:return new Vt(parseInt(l,16));case 6:return new ac(parseInt(l,16))}return l}processRawData(){let l=!1;this.lineBuffer[0]==="#"&&(this.lineBuffer=this.lineBuffer.substring(1)),this.lineBuffer[0]==="$"&&(l=!0,this.lineBuffer=this.lineBuffer.substring(1));let n;const a=this.lineBuffer.search(Be.SYMBOL_SPACE_REGEX);if(a>=0?(n=this.lineBuffer.substring(0,a),this.lineBuffer=this.lineBuffer.substring(a).replace(/^[, \t]+/,"")):(n=this.lineBuffer,this.lineBuffer=""),n.length>0)if(Be.ADDRESS_SPACE.includes(n[0]))this.currentBlock.objList.push(n),this.currentBlock.size+=Be.getSize(n);else{const r=this.hexStringToBytes(n);r.length===1?(this.currentBlock.objList.push(new yt(r[0])),this.currentBlock.size++):(l&&r.reverse(),r.length===2?(this.currentBlock.objList.push(new Vt(r[0]|r[1]<<8)),this.currentBlock.size+=2):(this.currentBlock.objList.push(r),this.currentBlock.size+=r.length))}}hexStringToBytes(l){const n=new Uint8Array(l.length/2);for(let a=0;a<l.length;a+=2)n[a/2]=parseInt(l.substring(a,a+2),16);return n}},g_=class{constructor(l){this.crc=0,this.branchId="",this.dbRoot={},this.sourceData=new Uint8Array,this.projectName=l}async initialize(){var l=await dp(this.projectName);this.crc=l.baseRomBranch.gameRomBranch.gameRom.crc,this.branchId=l.id}async validateAndDownload(l){return mp(l)===this.crc?(this.dbRoot=await Lb.fromSupabaseProject(this.projectName,this.branchId),this.sourceData=l,!0):!1}async generateProject(l,n,a=!1){if(!this.dbRoot)throw new Error("Database not initialized");if(!this.sourceData)throw new Error("Source data not initialized");const r=new o_(this.sourceData,this.dbRoot),o=r.analyzeAndResolve(),c=o.filter(_=>_.type===Ue.Assembly),h=[],d=new c_(r);for(const _ of c)_.textData=d.generateAsm(_);for(const _ of this.dbRoot.baseRomFiles)this.applyPatchFile(_,o,c,h);const p=this.applyProjectInit(o,c,h);if(a)for(const _ of n??[])this.applyPatchFile(_,o,c,h);for(const _ of l)for(const E of p.get(_))this.applyPatchFile(E,o,c,h);if(!a)for(const _ of n??[])this.applyPatchFile(_,o,c,h);this.assembleCodeFromText(c),bp.applyPatches(c,h);for(const _ of o)Zn.calculateSize(_);new vp(o).organize();for(const _ of c)Zn.rebase(_);this.generateAsmIncludeLookups(c);const y=new Map;for(const _ of o)y.set(_.name.toUpperCase(),_.location);return await this.writeRom(y,this.dbRoot.entryPoints,o,c)}applyProjectInit(l,n,a){const r=new Map;for(const o of this.dbRoot.projectFiles)if(console.log(`Processing patch: ${o.name}`),o.group){let c;r.has(o.group)?c=r.get(o.group):r.set(o.group,c=[]),c.push(o)}else this.applyPatchFile(o,l,n,a);return r}assembleCodeFromText(l){for(const n of l){const a=new p_(this.dbRoot,n.textData),{blocks:r,includes:o,reqBank:c}=a.parseAssembly();n.parts=r,n.includes=o,n.bank=c??void 0}}generateAsmIncludeLookups(l){for(const n of l){const a=l.filter(r=>n.includes?.has(r.name.toUpperCase())).flatMap(r=>r.parts).filter(r=>!!r.label);n.includeLookup=new Map;for(const r of a)r.label&&n.includeLookup.set(r.label.toUpperCase(),r);for(const r of(n.parts||[]).filter(o=>!!o.label))r.label&&n.includeLookup.set(r.label.toUpperCase(),r)}}applyPatchFile(l,n,a,r){console.log(`Processing patch: ${l.name}`);const o=n.find(c=>c.name===l.name);l.type===Ue.Patch||l.type===Ue.Assembly?o?o.textData=l.textData:(l.type===Ue.Patch&&r.push(l),a.push(l),n.push(l)):o?(o.rawData=l.rawData,o.size=l.size):n.push(l)}async writeRom(l,n,a,r){const o=new f_(n,"GAIALABS","01JG  ");for(const c of a)await o.writeFile(c,l);return o.writeHeader(),o.writeEntryPoints(r),o.writeChecksum(),o.outBuffer}};typeof process<"u"&&process.versions?.node;function y_({romData:l,projectName:n,folderFiles:a,unshiftManualFiles:r=!1,onBuildComplete:o,onBuildError:c}){const[h,d]=Se.useState(!1),[p,m]=Se.useState(null),[y,b]=Se.useState(null),_=()=>{const q=document.querySelector(".module-selector form");if(!q)return[];const Y=new FormData(q),G=[];for(const[,V]of Y.entries()){const F=V;F&&F!=="on"&&G.push(F)}return G},E=()=>document.querySelector("#notepad-textarea")?.value?.trim()||"",N=async()=>{const q=_(),Y=E();if(!l||Object.keys(q).length===0){c("ROM data and module selections are required");return}d(!0),m({stage:"Initializing",progress:0,message:"Starting ROM generation..."});try{const G=Object.values(q);m({stage:"Validating",progress:10,message:"Validating ROM and modules..."});const V="Illusion of Gaia: Retranslated",F=new g_(V);await F.initialize(),await F.validateAndDownload(l),m({stage:"Generating",progress:30,message:"Generating project..."});const oe=[];if(oe.push(...a),Y){const ut={name:"<notepad>",type:Ue.Patch,textData:Y,size:0,location:0,mnemonics:[]};r?oe.unshift(ut):oe.push(ut)}const ve=await F.generateProject(G,oe,r);m({stage:"Complete",progress:100,message:"ROM generation complete!"}),b(ve),o(ve)}catch(G){console.error("ROM generation error:",G);const V=G instanceof Error?G.message:"Unknown error during ROM generation";c(V),m({stage:"Error",progress:0,message:V})}finally{d(!1)}},B=Se.useCallback(()=>{if(!y)return;const q=new Blob([y],{type:"application/octet-stream"}),Y=URL.createObjectURL(q),G=document.createElement("a");G.href=Y,G.download=`${n}.smc`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(Y)},[y,n]),U=_(),$=E(),I=l&&Object.keys(U).length>0&&!h;return A.jsxs("div",{className:"rom-builder",children:[A.jsx("h3",{children:"ROM Builder"}),A.jsx("p",{className:"builder-description",children:"Build your custom ROM with the selected modules. This process will create a new ROM file with your chosen modifications applied."}),A.jsxs("div",{className:"build-status",children:[A.jsxs("div",{className:"status-info",children:[A.jsx("span",{className:`status-indicator ${l?"ready":"pending"}`,children:l?"":""}),A.jsxs("span",{children:["ROM File: ",l?"Ready":"Not loaded"]})]}),A.jsxs("div",{className:"status-info",children:[A.jsx("span",{className:`status-indicator ${Object.keys(U).length>0?"ready":"pending"}`,children:Object.keys(U).length>0?"":""}),A.jsxs("span",{children:["Modules: ",Object.keys(U).length," selected"]})]}),A.jsxs("div",{className:"status-info",children:[A.jsx("span",{className:`status-indicator ${a.length>0?"ready":"optional"}`,children:a.length>0?"":""}),A.jsxs("span",{children:["Folder: ",a.length>0?`${a.length} .asm files`:"No folder selected (optional)"]})]}),A.jsxs("div",{className:"status-info",children:[A.jsx("span",{className:`status-indicator ${$?"ready":"optional"}`,children:$?"":""}),A.jsxs("span",{children:["Notepad: ",$?"Contains custom code":"Empty (optional)"]})]})]}),p&&A.jsxs("div",{className:"progress-container",children:[A.jsxs("div",{className:"progress-header",children:[A.jsx("span",{className:"progress-stage",children:p.stage}),A.jsxs("span",{className:"progress-percentage",children:[p.progress,"%"]})]}),A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:"progress-fill",style:{width:`${p.progress}%`}})}),A.jsx("div",{className:"progress-message",children:p.message})]}),A.jsx("div",{className:"build-actions",children:A.jsx("button",{onClick:N,disabled:!I,className:`build-button ${I?"ready":"disabled"}`,children:h?"Building ROM...":"Build ROM"})}),p?.stage==="Complete"&&A.jsxs("div",{className:"build-complete",children:[A.jsx("h4",{children:"Build Complete!"}),A.jsx("p",{children:"Your custom ROM has been generated successfully."}),A.jsx("button",{onClick:()=>B(),className:"download-button",children:"Download ROM"})]})]})}function v_({}){const[l,n]=Se.useState(""),a=r=>{n(r.target.value)};return A.jsxs("div",{className:"notepad",children:[A.jsx("h3",{children:" Notepad"}),A.jsx("p",{className:"notepad-description",children:"Enter custom assembly (ASM) code that will be compiled and integrated with your ROM. This code will be processed along with the selected modules during ROM generation."}),A.jsxs("div",{className:"notepad-content",children:[A.jsx("div",{className:"notepad-header",children:A.jsx("span",{className:"content-info",children:l.trim()?`${l.trim().split(`
`).length} lines`:"Empty"})}),A.jsx("textarea",{id:"notepad-textarea",className:"notepad-textarea",value:l,onChange:a,placeholder:`Enter your assembly code here...

Example:
; Custom patch
widestring_example \`[TPL:0]Hello World![END]\`

; Assembly code
LDA #$00
STA $7E0000`,rows:12,spellCheck:!1}),A.jsxs("div",{className:"notepad-status",children:[A.jsx("span",{className:`status-indicator ${l.trim()?"ready":"empty"}`,children:l.trim()?"":""}),A.jsxs("span",{children:["Notepad: ",l.trim()?"Contains custom code":"Empty"]})]})]})]})}function b_({onFilesLoaded:l,onError:n,onUnshiftChanged:a}){const[r,o]=Se.useState(null),[c,h]=Se.useState([]),[d,p]=Se.useState(!1),[m,y]=Se.useState(null),b=Se.useRef(null),_=($,I=!1)=>new Promise((q,Y)=>{const G=new FileReader;G.onload=V=>{const F=V.target?.result;q(typeof F=="string"?F:new Uint8Array(F))},G.onerror=()=>Y(new Error(`Failed to read file: ${$.name}`)),I?G.readAsText($):G.readAsArrayBuffer($)}),E=async $=>{const I=$.target.files;if(!I||I.length===0){o(null),h([]),y(null),l([]);return}p(!0),y(null);try{const Y=I[0].webkitRelativePath?.split("/")[0]||"selected-folder";o(Y);const G=await Promise.all(Array.from(I).map(async F=>{const oe=F.name.match(/([^\\/]+?)\.([^\\/]+)$/);if(!oe||oe.length<3)return null;const[ve,ut]=oe.slice(1,3),me={name:ve,type:Ue.Assembly,size:F.size,location:0,mnemonics:[]};switch(ut.toLowerCase()){case"asm":return me.type=Ue.Assembly,me.textData=await _(F,!0),me;case"txt":case"patch.asm":return me.type=Ue.Patch,me.textData=await _(F,!0),me;case"bin":me.type=Ue.Bitmap,me.compressed=!1;break;case"set":me.type=Ue.Tileset,me.compressed=!1;break;case"map":me.type=Ue.Tilemap,me.compressed=!1;break;case"spm":me.type=Ue.Spritemap,me.compressed=!1;break;case"pal":me.type=Ue.Palette;break;case"bgm":me.type=Ue.Music;break;case"sfx":me.type=Ue.Sound;break;default:me.type=Ue.Unknown;break}return me.rawData=await _(F,!1),me})),V=G.filter(F=>!!F);if(V.length===0){y("No valid files found in the selected folder"),h([]),l([]);return}h(V),l(V),V.length<G.length&&y(`Warning: ${G.length-V.length} files could not be read`)}catch(q){const Y=q instanceof Error?q.message:"Unknown error occurred while scanning folder";y(Y),n(Y),h([]),l([])}finally{p(!1)}},N=()=>{o(null),h([]),y(null),l([]),b.current&&(b.current.value="")},B=$=>{a&&a($.target.checked)},U=()=>{b.current?.click()};return A.jsxs("div",{className:"folder-picker",children:[A.jsx("h3",{children:" Folder Selection"}),A.jsx("p",{className:"picker-description",children:"Select a folder containing .asm files to include in your ROM build. All .asm files found in the folder and its subdirectories will be processed."}),A.jsxs("div",{className:"folder-input-container",children:[A.jsx("input",{ref:b,type:"file",webkitdirectory:"",directory:"",multiple:!0,onChange:E,className:"folder-input",id:"folder-input"}),A.jsx("button",{onClick:U,className:"folder-input-label",children:r?` ${r}`:"Choose Folder..."}),r&&A.jsx("button",{onClick:N,className:"clear-button",children:"Clear"})]}),d&&A.jsxs("div",{className:"scanning-status",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("span",{children:"Scanning folder for .asm files..."})]}),m&&A.jsxs("div",{className:"scan-error",children:[A.jsx("span",{className:"error-icon",children:""}),A.jsx("span",{children:m})]}),r&&!d&&A.jsxs("div",{className:"folder-status",children:[A.jsx("div",{className:"status-info",children:A.jsxs("span",{children:["Found ",c.length," file",c.length!==1?"s":"",r&&` in "${r}"`]})}),c.length>0&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"status-info",children:[A.jsx("label",{htmlFor:"insertBeforeModules",children:"Insert before modules"}),A.jsx("input",{type:"checkbox",id:"insertBeforeModules",onChange:B})]}),A.jsx("div",{className:"file-list",children:A.jsxs("details",{children:[A.jsxs("summary",{children:["View discovered files (",c.length,")"]}),A.jsx("ul",{className:"file-list-items",children:c.map(($,I)=>A.jsxs("li",{className:"file-item",children:[A.jsx("span",{className:"file-name",children:$.name}),A.jsx("span",{className:"file-type",children:$.type}),A.jsx("span",{className:"file-size",children:$.textData?`${$.textData.length} chars`:"Empty"})]},I))})]})})]})]})]})}function Pm({notifications:l,onDismiss:n}){const[a,r]=Se.useState([]);Se.useEffect(()=>{r(l),l.forEach(c=>{c.duration&&c.duration>0&&setTimeout(()=>{n(c.id)},c.duration)})},[l,n]);const o=c=>{switch(c){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}};return a.length===0?null:A.jsx("div",{className:"notification-system",children:a.map(c=>A.jsx("div",{className:`notification notification-${c.type}`,children:A.jsxs("div",{className:"notification-content",children:[A.jsxs("div",{className:"notification-header",children:[A.jsx("span",{className:"notification-icon",children:o(c.type)}),A.jsx("span",{className:"notification-title",children:c.title}),A.jsx("button",{className:"notification-close",onClick:()=>n(c.id),"aria-label":"Dismiss notification",children:""})]}),A.jsx("div",{className:"notification-message",children:c.message})]})},c.id))})}function __(){const[l,n]=Se.useState([]),a=m=>{const y=Date.now().toString()+Math.random().toString(36).substr(2,9),b={...m,id:y,duration:m.duration??5e3};return n(_=>[..._,b]),y};return{notifications:l,addNotification:a,dismissNotification:m=>{n(y=>y.filter(b=>b.id!==m))},clearAll:()=>{n([])},showSuccess:(m,y,b)=>a({type:"success",title:m,message:y,duration:b}),showError:(m,y,b)=>a({type:"error",title:m,message:y,duration:b}),showWarning:(m,y,b)=>a({type:"warning",title:m,message:y,duration:b}),showInfo:(m,y,b)=>a({type:"info",title:m,message:y,duration:b})}}function w_(){const{projectData:l,loading:n,error:a,refetch:r}=Kb(),[o,c]=Se.useState(null),[h,d]=Se.useState(null),[p,m]=Se.useState(null),[y,b]=Se.useState(null),[_,E]=Se.useState([]),[N,B]=Se.useState(!1),{notifications:U,dismissNotification:$,showSuccess:I,showError:q,showWarning:Y}=__();if(n)return A.jsxs("div",{children:[A.jsxs("div",{className:"app-header",children:[A.jsx("h1",{children:"Illusion of Gaia: Retranslated"}),A.jsx("h2",{children:"ROM Patcher"})]}),A.jsxs("div",{className:"card",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("span",{children:"Loading project data..."})]})]});if(a)return A.jsxs(A.Fragment,{children:[A.jsx(Pm,{notifications:U,onDismiss:$}),A.jsxs("div",{children:[A.jsxs("div",{className:"app-header",children:[A.jsx("h1",{children:"Illusion of Gaia: Retranslated"}),A.jsx("h2",{children:"ROM Patcher"})]}),A.jsxs("div",{className:"card error",children:[A.jsx("h3",{children:" Failed to Load Project"}),A.jsxs("p",{children:["Error: ",a]}),A.jsx("button",{onClick:()=>{Y("Retrying...","Attempting to reload project data"),r()},children:"Retry"})]})]})]});if(!l)return A.jsxs("div",{children:[A.jsxs("div",{className:"app-header",children:[A.jsx("h1",{children:"Illusion of Gaia: Retranslated"}),A.jsx("h2",{children:"ROM Patcher"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:" No Project Data"}),A.jsx("p",{children:"No project data available"}),A.jsx("button",{onClick:r,children:"Retry"})]})]});const G=(ie,It)=>{c(ie),d(It),I("ROM File Validated",`${ie.name} (${(ie.size/1024/1024).toFixed(2)} MB) is ready for patching`)},V=ie=>{c(null),d(null),q("ROM Validation Failed",ie)},F=ie=>{m(ie),b(null),I("ROM Build Complete!",`Your custom ROM (${(ie.length/1024/1024).toFixed(2)} MB) is ready for download`)},oe=ie=>{b(ie),m(null),q("ROM Build Failed",ie)},ve=ie=>{E(ie),ie.length>0&&I("Folder Scanned",`Found ${ie.length} .asm file${ie.length!==1?"s":""} ready for processing`)},ut=ie=>{E([]),q("Folder Scan Failed",ie)},me=ie=>{B(ie)};return A.jsxs(A.Fragment,{children:[A.jsx(Pm,{notifications:U,onDismiss:$}),A.jsxs("div",{className:"app-header",children:[A.jsx("h1",{children:l.project.name}),A.jsx("h2",{children:"ROM Patcher"})]}),A.jsxs("div",{className:"workflow-container",children:[A.jsx("div",{className:"workflow-step",children:A.jsxs("div",{className:"card",children:[A.jsxs("h3",{children:[" Version ",l.name]}),A.jsx("ul",{children:l.notes&&l.notes.map(ie=>A.jsx("li",{children:ie},ie))})]})}),A.jsx("div",{className:"workflow-step",children:A.jsx(Xb,{expectedCrc:l.baseRomBranch.gameRomBranch.gameRom.crc,onFileValidated:G,onValidationError:V})}),l.modules&&l.modules.length>0&&A.jsx("div",{className:"workflow-step",children:A.jsx(Vb,{modules:l.modules})}),h&&A.jsx("div",{className:"workflow-step",children:A.jsx(b_,{onFilesLoaded:ve,onError:ut,onUnshiftChanged:me})}),h&&A.jsx("div",{className:"workflow-step",children:A.jsx(v_,{})}),h&&A.jsx("div",{className:"workflow-step",children:A.jsx(y_,{romData:h,projectName:l.project.name,folderFiles:_,unshiftManualFiles:N,onBuildComplete:F,onBuildError:oe})})]}),y&&A.jsxs("div",{className:"card error",children:[A.jsx("h3",{children:"Build Error"}),A.jsx("p",{style:{color:"red"},children:y})]})]})}ev.createRoot(document.getElementById("root")).render(A.jsx(Se.StrictMode,{children:A.jsx(tv,{children:A.jsx(w_,{})})}));
//# sourceMappingURL=index-BJkBASlP.js.map
